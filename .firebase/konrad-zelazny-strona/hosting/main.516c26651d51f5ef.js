"use strict";(self.webpackChunkkonrad_zelazny_strona=self.webpackChunkkonrad_zelazny_strona||[]).push([[179],{383:()=>{function Re(t){return"function"==typeof t}function wu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ld=wu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Iu(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof ld?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{GC(s)}catch(o){e=e??[],o instanceof ld?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ld(e)}}add(e){var n;if(e&&e!==this)if(this.closed)GC(e);else{if(e instanceof wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Iu(n,e)}remove(e){const{_finalizers:n}=this;n&&Iu(n,e),e instanceof wn&&e._removeParent(this)}}wn.EMPTY=(()=>{const t=new wn;return t.closed=!0,t})();const zC=wn.EMPTY;function HC(t){return t instanceof wn||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function GC(t){Re(t)?t():t.unsubscribe()}const ps={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cd={setTimeout(t,e,...n){const{delegate:r}=cd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=cd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qC(t){cd.setTimeout(()=>{const{onUnhandledError:e}=ps;if(!e)throw t;e(t)})}function Mg(){}const q2=Rg("C",void 0,void 0);function Rg(t,e,n){return{kind:t,value:e,error:n}}let gs=null;function dd(t){if(ps.useDeprecatedSynchronousErrorHandling){const e=!gs;if(e&&(gs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=gs;if(gs=null,n)throw r}}else t()}class Pg extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,HC(e)&&e.add(this)):this.destination=J2}static create(e,n,r){return new Du(e,n,r)}next(e){this.isStopped?Ng(function K2(t){return Rg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ng(function W2(t){return Rg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ng(q2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y2=Function.prototype.bind;function xg(t,e){return Y2.call(t,e)}class Z2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hd(r)}else hd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hd(n)}}}class Du extends Pg{constructor(e,n,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ps.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xg(e.next,s),error:e.error&&xg(e.error,s),complete:e.complete&&xg(e.complete,s)}):i=e}this.destination=new Z2(i)}}function hd(t){ps.useDeprecatedSynchronousErrorHandling?function Q2(t){ps.useDeprecatedSynchronousErrorHandling&&gs&&(gs.errorThrown=!0,gs.error=t)}(t):qC(t)}function Ng(t,e){const{onStoppedNotification:n}=ps;n&&cd.setTimeout(()=>n(t,e))}const J2={closed:!0,next:Mg,error:function X2(t){throw t},complete:Mg},Og="function"==typeof Symbol&&Symbol.observable||"@@observable";function wi(t){return t}function WC(t){return 0===t.length?wi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let lt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function nB(t){return t&&t instanceof Pg||function tB(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}(t)&&HC(t)}(n)?n:new Du(n,r,i);return dd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=KC(r))((i,s)=>{const o=new Du({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Og](){return this}pipe(...n){return WC(n)(this)}toPromise(n){return new(n=KC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function KC(t){var e;return null!==(e=t??ps.Promise)&&void 0!==e?e:Promise}const rB=wu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let er=(()=>{class t extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new QC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rB}next(n){dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?zC:(this.currentObservers=null,s.push(n),new wn(()=>{this.currentObservers=null,Iu(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new lt;return n.source=this,n}}return t.create=(e,n)=>new QC(e,n),t})();class QC extends er{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:zC}}function YC(t){return Re(t?.lift)}function ft(t){return e=>{if(YC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new iB(t,e,n,r,i)}class iB extends Pg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(t,e){return ft((n,r)=>{let i=0;n.subscribe(ct(r,s=>{r.next(t.call(e,s,i++))}))})}function Ii(t){return this instanceof Ii?(this.v=t,this):new Ii(t)}function eT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Lg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const tT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nT(t){return Re(t?.then)}function rT(t){return Re(t[Og])}function iT(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function sT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oT=function bB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aT(t){return Re(t?.[oT])}function uT(t){return function JC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ii?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ii(n.read());if(i)return yield Ii(void 0);yield yield Ii(r)}}finally{n.releaseLock()}})}function lT(t){return Re(t?.getReader)}function In(t){if(t instanceof lt)return t;if(null!=t){if(rT(t))return function AB(t){return new lt(e=>{const n=t[Og]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tT(t))return function SB(t){return new lt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(nT(t))return function MB(t){return new lt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qC)})}(t);if(iT(t))return cT(t);if(aT(t))return function RB(t){return new lt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(lT(t))return function PB(t){return cT(uT(t))}(t)}throw sT(t)}function cT(t){return new lt(e=>{(function xB(t,e){var n,r,i,s;return function ZC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=eT(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Hr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function At(t,e,n=1/0){return Re(e)?At((r,i)=>Ne((s,o)=>e(r,s,i,o))(In(t(r,i))),n):("number"==typeof e&&(n=e),ft((r,i)=>function NB(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;In(n(g,c++)).subscribe(ct(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();o?Hr(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function yo(t=1/0){return At(wi,t)}const pr=new lt(t=>t.complete());function Bg(t){return t[t.length-1]}function dT(t){return Re(Bg(t))?t.pop():void 0}function Cu(t){return function VB(t){return t&&Re(t.schedule)}(Bg(t))?t.pop():void 0}function hT(t,e=0){return ft((n,r)=>{n.subscribe(ct(r,i=>Hr(r,t,()=>r.next(i),e),()=>Hr(r,t,()=>r.complete(),e),i=>Hr(r,t,()=>r.error(i),e)))})}function fT(t,e=0){return ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pT(t,e){if(!t)throw new Error("Iterable cannot be null");return new lt(n=>{Hr(n,e,()=>{const r=t[Symbol.asyncIterator]();Hr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vt(t,e){return e?function $B(t,e){if(null!=t){if(rT(t))return function FB(t,e){return In(t).pipe(fT(e),hT(e))}(t,e);if(tT(t))return function BB(t,e){return new lt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(nT(t))return function LB(t,e){return In(t).pipe(fT(e),hT(e))}(t,e);if(iT(t))return pT(t,e);if(aT(t))return function jB(t,e){return new lt(n=>{let r;return Hr(n,e,()=>{r=t[oT](),Hr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(t,e);if(lT(t))return function UB(t,e){return pT(uT(t),e)}(t,e)}throw sT(t)}(t,e):In(t)}class Bn extends er{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function X(...t){return vt(t,Cu(t))}function gT(t={}){const{connector:e=(()=>new er),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ft((g,m)=>{l++,!d&&!c&&h();const _=u=u??e();m.add(()=>{l--,0===l&&!d&&!c&&(a=jg(p,i))}),_.subscribe(m),!o&&l>0&&(o=new Du({next:y=>_.next(y),error:y=>{d=!0,h(),a=jg(f,n,y),_.error(y)},complete:()=>{c=!0,h(),a=jg(f,r),_.complete()}}),In(g).subscribe(o))})(s)}}function jg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Du({next:()=>{r.unsubscribe(),t()}});return In(e(...n)).subscribe(r)}function gr(t,e){return ft((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ct(r,u=>{i?.unsubscribe();let l=0;const c=s++;In(t(u,c)).subscribe(i=ct(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function GB(t,e){return t===e}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function fd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ug(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const qB=Ce({__forward_ref__:Ce});function Ve(t){return t.__forward_ref__=Ve,t.toString=function(){return pt(this())},t}function Y(t){return $g(t)?t():t}function $g(t){return"function"==typeof t&&t.hasOwnProperty(qB)&&t.__forward_ref__===Ve}function zg(t){return t&&!!t.\u0275providers}class w extends Error{constructor(e,n){super(function pd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Hg(t,e){throw new w(-201,!1)}function jn(t,e){null==t&&function K(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Un(t){return{providers:t.providers||[],imports:t.imports||[]}}function gd(t){return yT(t,yd)||yT(t,_T)}function yT(t,e){return t.hasOwnProperty(e)?t[e]:null}function md(t){return t&&(t.hasOwnProperty(Gg)||t.hasOwnProperty(ej))?t[Gg]:null}const yd=Ce({\u0275prov:Ce}),Gg=Ce({\u0275inj:Ce}),_T=Ce({ngInjectableDef:Ce}),ej=Ce({ngInjectorDef:Ce});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let qg;function cn(t){const e=qg;return qg=t,e}function ET(t,e,n){const r=gd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void Hg(pt(t))}const ke=globalThis;class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tu={},Zg="__NG_DI_FLAG__",_d="ngTempTokenPath",rj=/\n/gm,IT="__source";let _o;function Di(t){const e=_o;return _o=t,e}function oj(t,e=le.Default){if(void 0===_o)throw new w(-203,!1);return null===_o?ET(t,void 0,e):_o.get(t,e&le.Optional?null:void 0,e)}function U(t,e=le.Default){return(function vT(){return qg}()||oj)(Y(t),e)}function F(t,e=le.Default){return U(t,vd(e))}function vd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xg(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,s=le.Default;for(let o=0;o<r.length;o++){const a=r[o],u=aj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function bu(t,e){return t[Zg]=e,t.prototype[Zg]=e,t}function aj(t){return t[Zg]}function Gr(t){return{toString:t}.toString()}var Ed=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ed||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{});const mr={},ve=[],wd=Ce({\u0275cmp:Ce}),Jg=Ce({\u0275dir:Ce}),em=Ce({\u0275pipe:Ce}),CT=Ce({\u0275mod:Ce}),qr=Ce({\u0275fac:Ce}),Au=Ce({__NG_ELEMENT_ID__:Ce}),TT=Ce({__NG_ENV_ID__:Ce});function bT(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function tm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ST(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function AT(t){return 3===t||4===t||6===t}function ST(t){return 64===t.charCodeAt(0)}function Su(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||MT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function MT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const RT="ng-template";function cj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==bT(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function PT(t){return 4===t.type&&t.value!==RT}function dj(t,e,n){return e===(4!==t.type||n?t.value:RT)}function hj(t,e,n){let r=4;const i=t.attrs||[],s=function gj(t){for(let e=0;e<t.length;e++)if(AT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!dj(t,u,n)||""===u&&1===e.length){if(tr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!cj(t.attrs,l,n)){if(tr(r))return!1;o=!0}continue}const d=fj(8&r?"class":u,i,PT(t),n);if(-1===d){if(tr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bT(f,l,0)||2&r&&l!==h){if(tr(r))return!1;o=!0}}}}else{if(!o&&!tr(r)&&!tr(u))return!1;if(o&&tr(u))continue;o=!1,r=u|1&r}}return tr(r)||o}function tr(t){return 0==(1&t)}function fj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function mj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xT(t,e,n=!1){for(let r=0;r<e.length;r++)if(hj(t,e[r],n))return!0;return!1}function NT(t,e){return t?":not("+e.trim()+")":e}function _j(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!tr(o)&&(e+=NT(s,i),i=""),r=o,s=s||!tr(r);n++}return""!==i&&(e+=NT(s,i)),e}function Cn(t){return Gr(()=>{const e=VT(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ed.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};kT(n);const r=t.dependencies;return n.directiveDefs=Id(r,!1),n.pipeDefs=Id(r,!0),n.id=function bj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Ij(t){return pe(t)||St(t)}function Dj(t){return null!==t}function nr(t){return Gr(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function OT(t,e){if(null==t)return mr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Z(t){return Gr(()=>{const e=VT(t);return kT(e),e})}function pe(t){return t[wd]||null}function St(t){return t[Jg]||null}function Yt(t){return t[em]||null}function Tn(t,e){const n=t[CT]||null;if(!n&&!0===e)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function VT(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||mr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OT(t.inputs,e),outputs:OT(t.outputs)}}function kT(t){t.features?.forEach(e=>e(t))}function Id(t,e){if(!t)return null;const n=e?Yt:Ij;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Dj)}const Ze=0,O=1,oe=2,Ge=3,rr=4,Mu=5,Bt=6,Eo=7,nt=8,Ci=9,wo=10,te=11,Ru=12,FT=13,Io=14,rt=15,Pu=16,Do=17,yr=18,xu=19,LT=20,Ti=21,Wr=22,Nu=23,Ou=24,ce=25,nm=1,BT=2,_r=7,Co=9,Mt=11;function hn(t){return Array.isArray(t)&&"object"==typeof t[nm]}function Zt(t){return Array.isArray(t)&&!0===t[nm]}function rm(t){return 0!=(4&t.flags)}function ys(t){return t.componentOffset>-1}function Cd(t){return 1==(1&t.flags)}function ir(t){return!!t.template}function im(t){return 0!=(512&t[oe])}function _s(t,e){return t.hasOwnProperty(qr)?t[qr]:null}let Rt=null,Td=!1;function zn(t){const e=Rt;return Rt=t,e}const $T={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function HT(t){if(!ku(t)||t.dirty){if(!t.producerMustRecompute(t)&&!WT(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function qT(t){t.dirty=!0,function GT(t){if(void 0===t.liveConsumerNode)return;const e=Td;Td=!0;try{for(const n of t.liveConsumerNode)n.dirty||qT(n)}finally{Td=e}}(t),t.consumerMarkedDirty?.(t)}function om(t){return t&&(t.nextProducerIndex=0),zn(t)}function am(t,e){if(zn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ku(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)bd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function WT(t){To(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(HT(n),r!==n.version))return!0}return!1}function KT(t){if(To(t),ku(t))for(let e=0;e<t.producerNode.length;e++)bd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bd(t,e){if(function YT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),To(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)bd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];To(i),i.producerIndexOfThis[r]=e}}function ku(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function To(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ZT=null;const t0=()=>{},Bj=(()=>({...$T,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:t0}))();class jj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hn(){return n0}function n0(t){return t.type.prototype.ngOnChanges&&(t.setInput=$j),Uj}function Uj(){const t=s0(this),e=t?.current;if(e){const n=t.previous;if(n===mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $j(t,e,n,r){const i=this.declaredInputs[n],s=s0(t)||function zj(t,e){return t[r0]=e}(t,{previous:mr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new jj(u&&u.currentValue,e,a===mr),t[r]=e}Hn.ngInherit=!0;const r0="__ngSimpleChanges__";function s0(t){return t[r0]||null}const vr=function(t,e,n){};function Fe(t){for(;Array.isArray(t);)t=t[Ze];return t}function fn(t,e){return Fe(e[t.index])}function u0(t,e){return t.data[e]}function bn(t,e){const n=e[t];return hn(n)?n:n[Ze]}function Ai(t,e){return null==e?null:t[e]}function l0(t){t[Do]=0}function Qj(t){1024&t[oe]||(t[oe]|=1024,d0(t,1))}function c0(t){1024&t[oe]&&(t[oe]&=-1025,d0(t,-1))}function d0(t,e){let n=t[Ge];if(null===n)return;n[Mu]+=e;let r=n;for(n=n[Ge];null!==n&&(1===e&&1===r[Mu]||-1===e&&0===r[Mu]);)n[Mu]+=e,r=n,n=n[Ge]}const Q={lFrame:I0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function p0(){return Q.bindingsEnabled}function D(){return Q.lFrame.lView}function ge(){return Q.lFrame.tView}function Pt(){let t=g0();for(;null!==t&&64===t.type;)t=t.parent;return t}function g0(){return Q.lFrame.currentTNode}function Er(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function hm(){return Q.lFrame.isParent}function So(){return Q.lFrame.bindingIndex++}function lU(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,pm(e)}function pm(t){Q.lFrame.currentDirectiveIndex=t}function mm(t){Q.lFrame.currentQueryIndex=t}function dU(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Bt]:null}function E0(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=dU(s),null===i||(s=s[Io],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Q.lFrame=w0();return r.currentTNode=e,r.lView=t,!0}function ym(t){const e=w0(),n=t[O];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function w0(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?I0(t):e}function I0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function D0(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const C0=D0;function _m(){const t=D0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Jt(){return Q.lFrame.selectedIndex}function vs(t){Q.lFrame.selectedIndex=t}function Ke(){const t=Q.lFrame;return u0(t.tView,t.selectedIndex)}let b0=!0;function Sd(){return b0}function Si(t){b0=t}function Md(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function Rd(t,e,n){A0(t,e,3,n)}function Pd(t,e,n,r){(3&t[oe])===n&&A0(t,e,n,r)}function vm(t,e){let n=t[oe];(3&n)===e&&(n&=8191,n+=1,t[oe]=n)}function A0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Do]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Do]+=65536),(a<s||-1==s)&&(vU(t,n,e,u),t[Do]=(4294901760&t[Do])+u+2),u++}function S0(t,e){vr(4,t,e);const n=zn(null);try{e.call(t)}finally{zn(n),vr(5,t,e)}}function vU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[oe]>>13<t[Do]>>16&&(3&t[oe])===e&&(t[oe]+=8192,S0(a,s)):S0(a,s)}const Mo=-1;class Lu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function wm(t){return t!==Mo}function Bu(t){return 32767&t}function ju(t,e){let n=function DU(t){return t>>16}(t),r=e;for(;n>0;)r=r[Io],n--;return r}let Im=!0;function xd(t){const e=Im;return Im=t,e}const M0=255,R0=5;let CU=0;const wr={};function Nd(t,e){const n=P0(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Dm(r.data,t),Dm(e,null),Dm(r.blueprint,null));const i=Od(t,e),s=t.injectorIndex;if(wm(i)){const o=Bu(i),a=ju(i,e),u=a[O].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Dm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function P0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Od(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=L0(i),null===r)return Mo;if(n++,i=i[Io],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mo}function Cm(t,e,n){!function TU(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Au)&&(r=n[Au]),null==r&&(r=n[Au]=CU++);const i=r&M0;e.data[t+(i>>R0)]|=1<<i}(t,e,n)}function x0(t,e,n){if(n&le.Optional||void 0!==t)return t;Hg()}function N0(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[Ci],s=cn(void 0);try{return i?i.get(e,r,n&le.Optional):ET(e,r,n&le.Optional)}finally{cn(s)}}return x0(r,0,n)}function O0(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[oe]&&!(r&le.Self)){const o=function PU(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[oe]&&!(512&o[oe]);){const a=V0(s,o,n,r|le.Self,wr);if(a!==wr)return a;let u=s.parent;if(!u){const l=o[LT];if(l){const c=l.get(n,wr,r);if(c!==wr)return c}u=L0(o),o=o[Io]}s=u}return i}(t,e,n,r,wr);if(o!==wr)return o}const s=V0(t,e,n,r,wr);if(s!==wr)return s}return N0(e,n,r,i)}function V0(t,e,n,r,i){const s=function SU(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Au)?t[Au]:void 0;return"number"==typeof e?e>=0?e&M0:RU:e}(n);if("function"==typeof s){if(!E0(e,t,r))return r&le.Host?x0(i,0,r):N0(e,n,r,i);try{let o;if(o=s(r),null!=o||r&le.Optional)return o;Hg()}finally{C0()}}else if("number"==typeof s){let o=null,a=P0(t,e),u=Mo,l=r&le.Host?e[rt][Bt]:null;for((-1===a||r&le.SkipSelf)&&(u=-1===a?Od(t,e):e[a+8],u!==Mo&&F0(r,!1)?(o=e[O],a=Bu(u),e=ju(u,e)):a=-1);-1!==a;){const c=e[O];if(k0(s,a,c.data)){const d=AU(a,e,n,o,r,l);if(d!==wr)return d}u=e[a+8],u!==Mo&&F0(r,e[O].data[a+8]===l)&&k0(s,a,e)?(o=c,a=Bu(u),e=ju(u,e)):a=-1}}return i}function AU(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],c=function Vd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ir(f)&&f.type===n)return u}return null}(a,o,n,null==r?ys(a)&&Im:r!=o&&0!=(3&a.type),i&le.Host&&s===a);return null!==c?Es(e,o,c,a):wr}function Es(t,e,n,r){let i=t[n];const s=e.data;if(function EU(t){return t instanceof Lu}(i)){const o=i;o.resolving&&function WB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new w(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(s[n]));const a=xd(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?cn(o.injectImpl):null;E0(t,r,le.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function _U(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=n0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&cn(l),xd(a),o.resolving=!1,C0()}}return i}function k0(t,e,n){return!!(n[e+(t>>R0)]&1<<t)}function F0(t,e){return!(t&le.Self||t&le.Host&&e)}class en{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return O0(this._tNode,this._lView,e,vd(r),n)}}function RU(){return new en(Pt(),D())}function xt(t){return Gr(()=>{const e=t.prototype.constructor,n=e[qr]||Tm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[qr]||Tm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Tm(t){return $g(t)?()=>{const e=Tm(Y(t));return e&&e()}:_s(t)}function L0(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Bt]:null}const Po="__parameters__";function No(t,e,n){return Gr(()=>{const r=function bm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(Po)?u[Po]:Object.defineProperty(u,Po,{value:[]})[Po];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Vo(t,e){t.forEach(n=>Array.isArray(n)?Vo(n,e):e(n))}function j0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function An(t,e,n){let r=ko(t,e);return r>=0?t[1|r]=n:(r=~r,function LU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Am(t,e){const n=ko(t,e);if(n>=0)return t[1|n]}function ko(t,e){return function U0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Bd=bu(No("Optional"),8),jd=bu(No("SkipSelf"),4);function Gd(t){return 128==(128&t.flags)}var Mi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mi||{});const xm=new Map;let u$=0;const Om="__ngContext__";function jt(t,e){hn(e)?(t[Om]=e[xu],function c$(t){xm.set(t[xu],t)}(e)):t[Om]=e}let Vm;function km(t,e){return Vm(t,e)}function qu(t){const e=t[Ge];return Zt(e)?e[Ge]:e}function ab(t){return lb(t[Ru])}function ub(t){return lb(t[rr])}function lb(t){for(;null!==t&&!Zt(t);)t=t[rr];return t}function Bo(t,e,n,r,i){if(null!=r){let s,o=!1;Zt(r)?s=r:hn(r)&&(o=!0,r=r[Ze]);const a=Fe(r);0===t&&null!==n?null==i?fb(e,n,a):ws(e,n,a,i||null,!0):1===t&&null!==n?ws(e,n,a,i||null,!0):2===t?function Xd(t,e,n){const r=Yd(t,e);r&&function M$(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function x$(t,e,n,r,i){const s=n[_r];s!==Fe(n)&&Bo(e,t,r,s,i);for(let a=Mt;a<n.length;a++){const u=n[a];Ku(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function Kd(t,e,n){return t.createElement(e,n)}function db(t,e){const n=t[Co],r=n.indexOf(e);c0(e),n.splice(r,1)}function Qd(t,e){if(t.length<=Mt)return;const n=Mt+e,r=t[n];if(r){const i=r[Pu];null!==i&&i!==t&&db(i,r),e>0&&(t[n-1][rr]=r[rr]);const s=Fd(t,Mt+e);!function w$(t,e){Ku(t,e,e[te],2,null,null),e[Ze]=null,e[Bt]=null}(r[O],r);const o=s[yr];null!==o&&o.detachView(s[O]),r[Ge]=null,r[rr]=null,r[oe]&=-129}return r}function Lm(t,e){if(!(256&e[oe])){const n=e[te];e[Nu]&&KT(e[Nu]),e[Ou]&&KT(e[Ou]),n.destroyNode&&Ku(t,e,n,3,null,null),function C$(t){let e=t[Ru];if(!e)return Bm(t[O],t);for(;e;){let n=null;if(hn(e))n=e[Ru];else{const r=e[Mt];r&&(n=r)}if(!n){for(;e&&!e[rr]&&e!==t;)hn(e)&&Bm(e[O],e),e=e[Ge];null===e&&(e=t),hn(e)&&Bm(e[O],e),n=e&&e[rr]}e=n}}(e)}}function Bm(t,e){if(!(256&e[oe])){e[oe]&=-129,e[oe]|=256,function S$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Lu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];vr(4,a,u);try{u.call(a)}finally{vr(5,a,u)}}else{vr(4,i,s);try{s.call(i)}finally{vr(5,i,s)}}}}}(t,e),function A$(t,e){const n=t.cleanup,r=e[Eo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Eo]=null);const i=e[Ti];if(null!==i){e[Ti]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[O].type&&e[te].destroy();const n=e[Pu];if(null!==n&&Zt(e[Ge])){n!==e[Ge]&&db(n,e);const r=e[yr];null!==r&&r.detachView(t)}!function d$(t){xm.delete(t[xu])}(e)}}function jm(t,e,n){return function hb(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ze];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===$n.None||s===$n.Emulated)return null}return fn(r,n)}}(t,e.parent,n)}function ws(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fb(t,e,n){t.appendChild(e,n)}function pb(t,e,n,r,i){null!==r?ws(t,e,n,r,i):fb(t,e,n)}function Yd(t,e){return t.parentNode(e)}let Um,Gm,yb=function mb(t,e,n){return 40&t.type?fn(t,n):null};function Zd(t,e,n,r){const i=jm(t,r,e),s=e[te],a=function gb(t,e,n){return yb(t,e,n)}(r.parent||e[Bt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)pb(s,i,n[u],a,!1);else pb(s,i,n,a,!1);void 0!==Um&&Um(s,r,e,n,i)}function Wu(t,e){if(null!==e){const n=e.type;if(3&n)return fn(e,t);if(4&n)return $m(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Wu(t,r);{const i=t[e.index];return Zt(i)?$m(-1,i):Fe(i)}}if(32&n)return km(e,t)()||Fe(t[e.index]);{const r=vb(t,e);return null!==r?Array.isArray(r)?r[0]:Wu(qu(t[rt]),r):Wu(t,e.next)}}return null}function vb(t,e){return null!==e?t[rt][Bt].projection[e.projection]:null}function $m(t,e){const n=Mt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return Wu(r,i)}return e[_r]}function zm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&jt(Fe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)zm(t,e,n.child,r,i,s,!1),Bo(e,t,i,a,s);else if(32&u){const l=km(n,r);let c;for(;c=l();)Bo(e,t,i,c,s);Bo(e,t,i,a,s)}else 16&u?wb(t,e,r,n,i,s):Bo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ku(t,e,n,r,i,s){zm(n,r,t.firstChild,e,i,s,!1)}function wb(t,e,n,r,i,s){const o=n[rt],u=o[Bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Bo(e,t,i,u[l],s);else{let l=u;const c=o[Ge];Gd(r)&&(l.flags|=128),zm(t,e,l,c,i,s,!0)}}function Ib(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Db(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&tm(t,e,r),null!==i&&Ib(t,e,i),null!==s&&function O$(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Ab{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Xu=new L("ENVIRONMENT_INITIALIZER"),Fb=new L("INJECTOR",-1),Lb=new L("INJECTOR_DEF_TYPES");class Zm{get(e,n=Tu){if(n===Tu){const r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}}function a4(...t){return{\u0275providers:jb(0,t),\u0275fromNgModule:!0}}function jb(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Vo(e,o=>{const a=o;nh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Ub(i,s),n}function Ub(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Xm(i,s=>{e(s,r)})}}function nh(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=md(t);const o=!s&&pe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=md(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)nh(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Vo(s.imports,c=>{nh(c,e,n,r)&&(l||=[],l.push(c))})}finally{}void 0!==l&&Ub(l,e)}if(!a){const l=_s(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:Lb,useValue:i,multi:!0},i),e({provide:Xu,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const l=t;Xm(u,c=>{e(c,l)})}}}return i!==t&&void 0!==t.providers}function Xm(t,e){for(let n of t)zg(n)&&(n=n.\u0275providers),Array.isArray(n)?Xm(n,e):e(n)}const u4=Ce({provide:String,useValue:Ce});function Jm(t){return null!==t&&"object"==typeof t&&u4 in t}function Is(t){return"function"==typeof t}const ey=new L("Set Injector scope."),rh={},c4={};let ty;function ih(){return void 0===ty&&(ty=new Zm),ty}class qn{}class zo extends qn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ry(e,o=>this.processProvider(o)),this.records.set(Fb,Ho(void 0,this)),i.has("environment")&&this.records.set(qn,Ho(void 0,this));const s=this.records.get(ey);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Lb.multi,ve,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Di(this),r=cn(void 0);try{return e()}finally{Di(n),cn(r)}}get(e,n=Tu,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(TT))return e[TT](this);r=vd(r);const s=Di(this),o=cn(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function g4(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&gd(e);u=l&&this.injectableDefInScope(l)?Ho(ny(e),rh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&le.Self?ih():this.parent).get(e,n=r&le.Optional&&n===Tu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_d]=a[_d]||[]).unshift(pt(e)),s)throw a;return function uj(t,e,n,r){const i=t[_d];throw e[IT]&&i.unshift(e[IT]),t.message=function lj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):pt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_d]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{cn(o),Di(s)}}resolveInjectorInitializers(){const e=Di(this),n=cn(void 0);try{const i=this.get(Xu.multi,ve,le.Self);for(const s of i)s()}finally{Di(e),cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){let n=Is(e=Y(e))?e:Y(e&&e.provide);const r=function h4(t){return Jm(t)?Ho(void 0,t.useValue):Ho(Hb(t),rh)}(e);if(Is(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ho(void 0,rh,!0),i.factory=()=>Xg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===rh&&(n.value=c4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function p4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ny(t){const e=gd(t),n=null!==e?e.factory:_s(t);if(null!==n)return n;if(t instanceof L)throw new w(204,!1);if(t instanceof Function)return function d4(t){const e=t.length;if(e>0)throw function zu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new w(204,!1);const n=function JB(t){return t&&(t[yd]||t[_T])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new w(204,!1)}function Hb(t,e,n){let r;if(Is(t)){const i=Y(t);return _s(i)||ny(i)}if(Jm(t))r=()=>Y(t.useValue);else if(function zb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Xg(t.deps||[]));else if(function $b(t){return!(!t||!t.useExisting)}(t))r=()=>U(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function f4(t){return!!t.deps}(t))return _s(i)||ny(i);r=()=>new i(...Xg(t.deps))}return r}function Ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ry(t,e){for(const n of t)Array.isArray(n)?ry(n,e):n&&zg(n)?ry(n.\u0275providers,e):e(n)}const sh=new L("AppId",{providedIn:"root",factory:()=>m4}),m4="ng",Gb=new L("Platform Initializer"),Go=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qb=new L("AnimationModuleType"),Wb=new L("CSP nonce",{providedIn:"root",factory:()=>function Uo(){if(void 0!==Gm)return Gm;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kb=(t,e,n)=>null;function dy(t,e,n=!1){return Kb(t,e,n)}class b4{}class Zb{}class S4{resolveComponentFactory(e){throw function A4(t){const e=Error(`No component factory found for ${pt(t)}.`);return e.ngComponent=t,e}(e)}}let dh=(()=>{class t{static#e=this.NULL=new S4}return t})();function M4(){return Ko(Pt(),D())}function Ko(t,e){return new Sn(fn(t,e))}let Sn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=M4}return t})();class tl{}let Ir=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function P4(){const t=D(),n=bn(Pt().index,t);return(hn(n)?n:t)[te]}()}return t})(),x4=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();class nl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const N4=new nl("16.2.12"),py={};function nA(t,e=null,n=null,r){const i=rA(t,e,n,r);return i.resolveInjectorInitializers(),i}function rA(t,e=null,n=null,r,i=new Set){const s=[n||ve,a4(t)];return r=r||("object"==typeof t?void 0:pt(t)),new zo(s,e||ih(),r||null,i)}let Mn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tu;static#t=this.NULL=new Zm;static create(n,r){if(Array.isArray(n))return nA({name:""},r,n,"");{const i=n.name??"";return nA({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=H({token:t,providedIn:"any",factory:()=>U(Fb)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function my(t){return t.ngOriginalError}class Zr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&my(e);for(;n&&my(n);)n=my(n);return n||null}}function _y(t){return e=>{setTimeout(t,void 0,e)}}const Xe=class j4 extends er{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=_y(s),i&&(i=_y(i)),o&&(o=_y(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof wn&&e.add(a),a}};function sA(...t){}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U4(){const t="function"==typeof ke.requestAnimationFrame;let e=ke[t?"requestAnimationFrame":"setTimeout"],n=ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function H4(t){const e=()=>{!function z4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ey(t),t.isCheckStableRunning=!0,vy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ey(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function q4(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return oA(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),aA(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return oA(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),aA(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ey(t),vy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new w(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$4,sA,sA);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $4={};function vy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ey(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aA(t){t._nesting--,vy(t)}class G4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const uA=new L("",{providedIn:"root",factory:lA});function lA(){const t=F(Pe);let e=!0;return function zB(...t){const e=Cu(t),n=function kB(t,e){return"number"==typeof Bg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?In(r[0]):yo(n)(vt(r,e)):pr}(new lt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new lt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(gT()))}function cA(t){return t.ownerDocument.defaultView}function Xr(t){return t instanceof Function?t():t}let wy=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function rl(t){for(;t;){t[oe]|=64;const e=qu(t);if(im(t)&&!e)return t;t=e}return null}const gA=new L("",{providedIn:"root",factory:()=>!1});let fh=null;function vA(t,e){return t[e]??IA()}function EA(t,e){const n=IA();n.producerNode?.length&&(t[e]=fh,n.lView=t,fh=wA())}const tz={...$T,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rl(t.lView)},lView:null};function wA(){return Object.create(tz)}function IA(){return fh??=wA(),fh}const ie={};function Pi(t){DA(ge(),D(),Jt()+t,!1)}function DA(t,e,n,r){if(!r)if(3==(3&e[oe])){const s=t.preOrderCheckHooks;null!==s&&Rd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Pd(e,s,0,n)}vs(n)}function C(t,e=le.Default){const n=D();return null===n?U(t,e):O0(Pt(),n,Y(t),e)}function ph(t,e,n,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[Ze]=i,d[oe]=140|r,(null!==l||t&&2048&t[oe])&&(d[oe]|=2048),l0(d),d[Ge]=d[Io]=t,d[nt]=n,d[wo]=o||t&&t[wo],d[te]=a||t&&t[te],d[Ci]=u||t&&t[Ci]||null,d[Bt]=s,d[xu]=function l$(){return u$++}(),d[Wr]=c,d[LT]=l,d[rt]=2==e.type?t[rt]:d,d}function Zo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Iy(t,e,n,r,i){const s=g0(),o=hm(),u=t.data[e]=function lz(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ao(){return null!==Q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function uU(){return Q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Fu(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Er(s,!0),s}function il(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function TA(t,e,n,r,i){const s=vA(e,Nu),o=Jt(),a=2&r;try{vs(-1),a&&e.length>ce&&DA(t,e,ce,!1),vr(a?2:0,i);const l=a?s:null,c=om(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{am(l,c)}}finally{a&&null===e[Nu]&&EA(e,Nu),vs(o),vr(a?3:1,i)}}function Dy(t,e,n){if(rm(e)){const r=zn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{zn(r)}}}function bA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=by(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function by(t,e,n,r,i,s,o,a,u,l,c){const d=ce+r,h=d+i,f=function rz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(d,h),p="function"==typeof l?l():l;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}let AA=t=>null;function SA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?MA(n,e,i,s):r.hasOwnProperty(i)&&MA(n,e,r[i],s)}return n}function MA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function RA(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Cm(Nd(n,e),t,r[l].type);!function wz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,u=il(t,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];n.mergedAttrs=Su(n.mergedAttrs,c.hostAttrs),Iz(t,n,e,u,c),Ez(u,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function cz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=n?n.get(d):null,p=h?h.outputs:null;u=SA(d.inputs,c,u,h?h.inputs:null),l=SA(d.outputs,c,l,p);const g=null===u||null===o||PT(e)?null:Tz(u,c,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,s)}function PA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function cU(){return Q.lFrame.currentDirectiveIndex}();try{vs(s);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];pm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&yz(u,l)}}finally{vs(-1),pm(o)}}function yz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Sy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ez(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ir(e)&&(n[""]=t)}}function Iz(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=_s(i.type)),o=new Lu(s,ir(i),C);t.blueprint[r]=o,n[r]=o,function pz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function gz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,il(t,n,i.hostVars,ie),i)}function Dr(t,e,n,r,i,s){const o=fn(t,e);!function My(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ee(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[te],o,s,t.value,n,r,i)}function Cz(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)xA(r,n,o[a++],o[a++],o[a++])}function xA(t,e,n,r,i){const s=zn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{zn(s)}}function Tz(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function OA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];mm(n[r]),o.contentQueries(2,e[s],s)}}}function gh(t,e){return t[Ru]?t[FT][rr]=e:t[Ru]=e,t[FT]=e,e}function Ry(t,e,n){mm(0);const r=zn(null);try{e(t,n)}finally{zn(r)}}function LA(t,e){const n=t[Ci],r=n?n.get(Zr,null):null;r&&r.handleError(e)}function Py(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];xA(t.data[o],e[o],r,a,i)}}function bz(t,e){const n=bn(e,t),r=n[O];!function Az(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ze];null!==i&&null===n[Wr]&&(n[Wr]=dy(i,n[Ci])),xy(r,n,n[nt])}function xy(t,e,n){ym(e);try{const r=t.viewQuery;null!==r&&Ry(1,r,n);const i=t.template;null!==i&&TA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&OA(t,e),t.staticViewQueries&&Ry(2,t.viewQuery,n);const s=t.components;null!==s&&function Sz(t,e){for(let n=0;n<e.length;n++)bz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,_m()}}let BA=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Lj(t,e,n){const r=Object.create(Bj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>qT(r),run:()=>{if(r.dirty=!1,r.hasRun&&!WT(r))return;r.hasRun=!0;const o=om(r);try{r.cleanupFn(),r.cleanupFn=t0,r.fn(i)}finally{am(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function mh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ug(i,a):2==s&&(r=Ug(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function sl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Fe(s)),Zt(s)&&jA(s,r);const o=n.type;if(8&o)sl(t,e,n.child,r);else if(32&o){const a=km(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=vb(e,n);if(Array.isArray(a))r.push(...a);else{const u=qu(e[rt]);sl(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jA(t,e){for(let n=Mt;n<t.length;n++){const r=t[n],i=r[O].firstChild;null!==i&&sl(r[O],r,i,e)}t[_r]!==t[Ze]&&e.push(t[_r])}function yh(t,e,n,r=!0){const i=e[wo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{UA(t,e,t.template,n)}catch(u){throw r&&LA(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function UA(t,e,n,r){const i=e[oe];if(256!=(256&i)){e[wo].effectManager?.flush(),ym(e);try{l0(e),function y0(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&TA(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Rd(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Pd(e,l,0,null),vm(e,0)}if(function Pz(t){for(let e=ab(t);null!==e;e=ub(e)){if(!e[BT])continue;const n=e[Co];for(let r=0;r<n.length;r++){Qj(n[r])}}}(e),$A(e,2),null!==t.contentQueries&&OA(t,e),o){const l=t.contentCheckHooks;null!==l&&Rd(e,l)}else{const l=t.contentHooks;null!==l&&Pd(e,l,1),vm(e,1)}!function nz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=vA(e,Ou);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)vs(~s);else{const o=s,a=n[++i],u=n[++i];lU(a,o),r.dirty=!1;const l=om(r);try{u(2,e[o])}finally{am(r,l)}}}}finally{null===e[Ou]&&EA(e,Ou),vs(-1)}}(t,e);const a=t.components;null!==a&&HA(e,a,0);const u=t.viewQuery;if(null!==u&&Ry(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Rd(e,l)}else{const l=t.viewHooks;null!==l&&Pd(e,l,2),vm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-73,c0(e)}finally{_m()}}}function $A(t,e){for(let n=ab(t);null!==n;n=ub(n))for(let r=Mt;r<n.length;r++)zA(n[r],e)}function xz(t,e,n){zA(bn(e,t),n)}function zA(t,e){if(!function Wj(t){return 128==(128&t[oe])}(t))return;const n=t[O],r=t[oe];if(80&r&&0===e||1024&r||2===e)UA(n,t,n.template,t[nt]);else if(t[Mu]>0){$A(t,1);const i=n.components;null!==i&&HA(t,i,1)}}function HA(t,e,n){for(let r=0;r<e.length;r++)xz(t,e[r],n)}class ol{get rootNodes(){const e=this._lView,n=e[O];return sl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 256==(256&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(Zt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Qd(e,r),Fd(n,r))}this._attachedToViewContainer=!1}Lm(this._lView[O],this._lView)}onDestroy(e){!function h0(t,e){if(256==(256&t[oe]))throw new w(911,!1);null===t[Ti]&&(t[Ti]=[]),t[Ti].push(e)}(this._lView,e)}markForCheck(){rl(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){this._lView[oe]|=128}detectChanges(){yh(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D$(t,e){Ku(t,e,e[te],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e}}class Nz extends ol{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yh(e[O],e,e[nt],!1)}checkNoChanges(){}get context(){return null}}class GA extends dh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pe(e);return new al(n,this.ngModule)}}function qA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Vz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vd(r);const i=this.injector.get(e,py,r);return i!==py||n===py?i:this.parentInjector.get(e,n,r)}}class al extends Zb{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=qA(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function vj(t){return t.map(_j).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof qn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Vz(e,s):e,a=o.get(tl,null);if(null===a)throw new w(407,!1);const d={rendererFactory:a,sanitizer:o.get(x4,null),effectManager:o.get(BA,null),afterRenderEventManager:o.get(wy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function iz(t,e,n,r){const s=r.get(gA,!1)||n===$n.ShadowDom,o=t.selectRootElement(e,s);return function sz(t){AA(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Kd(h,f,function Oz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=dy(p,o,!0));const I=by(0,null,null,1,0,null,null,null,null,null,null),T=ph(null,I,null,_,null,null,d,h,o,null,y);let V,G;ym(T);try{const re=this.componentDef;let Me,ln=null;re.findHostDirectiveDefs?(Me=[],ln=new Map,re.findHostDirectiveDefs(re,Me,ln),Me.push(re)):Me=[re];const En=function Fz(t,e){const n=t[O],r=ce;return t[r]=e,Zo(n,r,2,"#host",null)}(T,p),Ag=function Lz(t,e,n,r,i,s,o){const a=i[O];!function Bz(t,e,n,r){for(const i of t)e.mergedAttrs=Su(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(mh(e,e.mergedAttrs,!0),null!==n&&Db(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=dy(e,i[Ci]));const l=s.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=ph(i,bA(n),null,c,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Sy(a,t,r.length-1),gh(i,d),i[t.index]=d}(En,p,re,Me,T,d,h);G=u0(I,ce),p&&function Uz(t,e,n,r){if(r)tm(t,n,["ng-version",N4.full]);else{const{attrs:i,classes:s}=function Ej(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!tr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&tm(t,n,i),s&&s.length>0&&Ib(t,n,s.join(" "))}}(h,re,p,r),void 0!==n&&function $z(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),V=function jz(t,e,n,r,i,s){const o=Pt(),a=i[O],u=fn(o,i);RA(a,i,o,n,null,r);for(let c=0;c<n.length;c++)jt(Es(i,a,o.directiveStart+c,o),i);PA(a,i,o),u&&jt(u,i);const l=Es(i,a,o.directiveStart+o.componentOffset,o);if(t[nt]=i[nt]=l,null!==s)for(const c of s)c(l,e);return Dy(a,o,t),l}(Ag,re,Me,ln,T,[zz]),xy(I,T,null)}finally{_m()}return new kz(this.componentType,V,Ko(G,T),T,G)}}class kz extends b4{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Nz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Py(s[O],s,i,e,n),this.previousInputValues.set(e,n),rl(bn(this._tNode.index,s))}}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function zz(){const t=Pt();Md(D()[O],t)}function Te(t){let e=function WA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=_h(t.inputs),o.inputTransforms=_h(t.inputTransforms),o.declaredInputs=_h(t.declaredInputs),o.outputs=_h(t.outputs);const a=i.hostBindings;a&&Wz(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Gz(t,u),l&&qz(t,l),fd(t.inputs,i.inputs),fd(t.declaredInputs,i.declaredInputs),fd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),fd(o.inputTransforms,i.inputTransforms)),ir(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Hz(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Su(i.hostAttrs,n=Su(n,i.hostAttrs))}}(r)}function _h(t){return t===mr?{}:t===ve?[]:t}function Gz(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function qz(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Wz(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function vh(t){return!!Ny(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ny(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Tr(t,e,n,r){const i=D();return Ut(i,So(),e)&&(ge(),Dr(Ke(),i,t,e,n,r)),Tr}function ei(t,e,n){const r=D();return Ut(r,So(),e)&&function Rn(t,e,n,r,i,s,o,a){const u=fn(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Py(t,n,c,r,i),ys(e)&&function hz(t,e){const n=bn(e,t);16&n[oe]||(n[oe]|=64)}(n,e.index)):3&e.type&&(r=function dz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ge(),Ke(),r,t,e,r[te],n,!1),ei}function By(t,e,n,r,i){const o=i?"class":"style";Py(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=D(),s=ge(),o=ce+t,a=i[te],u=s.firstCreatePass?function CH(t,e,n,r,i,s){const o=e.consts,u=Zo(e,t,2,r,Ai(o,i));return function Ay(t,e,n,r){if(p0()){const i=null===r?null:{"":-1},s=function _z(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(xT(e,o.selectors,!1))if(r||(r=[]),ir(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Sy(t,e,a.length)}else r.unshift(o),Sy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&RA(t,e,n,o,i,a),i&&function vz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new w(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Su(n.mergedAttrs,n.attrs)}(e,n,u,Ai(o,s)),null!==u.attrs&&mh(u,u.attrs,!1),null!==u.mergedAttrs&&mh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],l=hS(s,i,u,a,e,t);i[o]=l;const c=Cd(u);return Er(u,!0),Db(a,l,u),32!=(32&u.flags)&&Sd()&&Zd(s,i,l,u),0===function Zj(){return Q.lFrame.elementDepthCount}()&&jt(l,i),function Xj(){Q.lFrame.elementDepthCount++}(),c&&(function Cy(t,e,n){p0()&&(function mz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ys(n)&&function Dz(t,e,n){const r=fn(e,t),i=bA(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=gh(t,ph(t,i,null,o,r,e,null,t[wo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nd(n,e),jt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Es(e,t,a,n);jt(l,e),null!==o&&Cz(0,a-i,l,u,0,o),ir(u)&&(bn(n.index,e)[nt]=Es(e,t,a,n))}}(t,e,n,fn(n,e)),64==(64&n.flags)&&PA(t,e,n))}(s,i,u),Dy(s,u,i)),null!==r&&function Ty(t,e,n=fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,u),M}function R(){let t=Pt();hm()?function fm(){Q.lFrame.isParent=!1}():(t=t.parent,Er(t,!1));const e=t;(function eU(t){return Q.skipHydrationRootTNode===t})(e)&&function iU(){Q.skipHydrationRootTNode=null}(),function Jj(){Q.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Md(n,t),rm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function wU(t){return 0!=(8&t.flags)}(e)&&By(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function IU(t){return 0!=(16&t.flags)}(e)&&By(n,e,D(),e.stylesWithoutHost,!1),R}function se(t,e,n,r){return M(t,e,n,r),R(),se}let hS=(t,e,n,r,i,s)=>(Si(!0),Kd(r,i,function T0(){return Q.lFrame.currentNamespace}()));function hl(t){return!!t&&"function"==typeof t.then}function gS(t){return!!t&&"function"==typeof t.subscribe}function De(t,e,n,r){const i=D(),s=ge(),o=Pt();return function yS(t,e,n,r,i,s,o){const a=Cd(r),l=t.firstCreatePass&&function kA(t){return t.cleanup||(t.cleanup=[])}(t),c=e[nt],d=function VA(t){return t[Eo]||(t[Eo]=[])}(e);let h=!0;if(3&r.type||o){const g=fn(r,e),m=o?o(g):g,_=d.length,y=o?T=>o(Fe(T[r.index])):r.index;let I=null;if(!o&&a&&(I=function PH(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Eo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=vS(r,e,c,s,!1);const T=n.listen(m,i,s);d.push(s,T),l&&l.push(i,y,_,_+1)}}else s=vS(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const V=e[p[m]][p[m+1]].subscribe(s),G=d.length;d.push(s,V),l&&l.push(i,r.index,G,-(G+1))}}}(s,i,i[te],o,t,e,r),De}function _S(t,e,n,r){try{return vr(6,e,n),!1!==n(r)}catch(i){return LA(t,i),!1}finally{vr(7,e,n)}}function vS(t,e,n,r,i){return function s(o){if(o===Function)return r;rl(t.componentOffset>-1?bn(t.index,e):e);let u=_S(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=_S(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Ch(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function zy(t){return 2|t}function Cs(t){return(131068&t)>>2}function Hy(t,e){return-131069&t|e<<2}function Gy(t){return 1|t}function MS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xi(s):Cs(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];UH(t[a],e)&&(u=!0,t[a+1]=r?Gy(c):zy(c)),a=r?xi(c):Cs(c)}u&&(t[n+1]=r?zy(s):Gy(s))}function UH(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ko(t,e)>=0}function Th(t,e){return function sr(t,e,n,r){const i=D(),s=ge(),o=function Qr(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function LS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Jt()],o=function FS(t,e){return e>=t.expandoStartIndex}(t,n);(function $S(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function YH(t,e,n,r){const i=function gm(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=fl(n=qy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=qy(i,t,e,n,r),null===s){let u=function ZH(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Cs(r))return t[xi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=qy(null,t,e,u[1],r),u=fl(u,e.attrs,r),function XH(t,e,n,r){t[xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function JH(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fl(r,t[s].hostAttrs,n);return fl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function BH(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xi(o),u=Cs(o);t[r]=n;let c,l=!1;if(Array.isArray(n)?(c=n[1],(null===c||ko(n,c)>0)&&(l=!0)):c=n,i)if(0!==u){const h=xi(t[a+1]);t[r+1]=Ch(h,a),0!==h&&(t[h+1]=Hy(t[h+1],r)),t[a+1]=function FH(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ch(a,0),0!==a&&(t[a+1]=Hy(t[a+1],r)),a=r;else t[r+1]=Ch(u,0),0===a?a=r:t[u+1]=Hy(t[u+1],r),u=r;l&&(t[r+1]=zy(t[r+1])),MS(t,c,r,!0),MS(t,c,r,!1),function jH(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ko(s,e)>=0&&(n[r+1]=Gy(n[r+1]))}(e,c,t,r,s),o=Ch(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ie&&Ut(i,o,e)&&function jS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],c=function LH(t){return 1==(1&t)}(l)?US(u,e,n,i,Cs(l),o):void 0;bh(c)||(bh(s)||function kH(t){return 2==(2&t)}(l)&&(s=US(u,null,n,i,a,o)),function N$(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Mi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Mi.Important),t.setStyle(n,r,i,s))}}(r,o,function Ad(t,e){return Fe(e[t])}(Jt(),n),i,s))}(s,s.data[Jt()],i,i[te],t,i[o+1]=function r3(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=pt(function Ri(t){return t instanceof Ab?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Th}function qy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=fl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function fl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),An(t,o,!!n||e[++s]))}return void 0===t?null:t}function US(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===ie&&(h=d?ve:void 0);let f=d?Am(h,r):c===r?h:void 0;if(l&&!bh(f)&&(f=Am(u,r)),bh(f)&&(a=f,o))return a;const p=t[i+1];i=o?xi(p):Cs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Am(u,r))}return a}function bh(t){return void 0!==t}function z(t,e=""){const n=D(),r=ge(),i=t+ce,s=r.firstCreatePass?Zo(r,i,1,e,null):r.data[i],o=zS(r,n,s,e,t);n[i]=o,Sd()&&Zd(r,n,o,s),Er(s,!1)}let zS=(t,e,n,r,i)=>(Si(!0),function Wd(t,e){return t.createText(e)}(e[te],r));const la="en-US";let hM=la;function Yy(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)Yy(t[s],e,n,r,i);else{const s=ge(),o=D(),a=Pt();let u=Is(t)?t:Y(t.provide);const l=Hb(t),c=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Is(t)||!t.multi){const f=new Lu(l,i,C),p=Xy(u,e,i?c:c+h,d);-1===p?(Cm(Nd(a,o),s,u),Zy(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Xy(u,e,c+h,d),p=Xy(u,e,c,c+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Cm(Nd(a,o),s,u);const _=function CG(t,e,n,r,i){const s=new Lu(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,FM(s,i,r&&!n),s}(i?DG:IG,n.length,i,r,l);!i&&m&&(n[p].providerFactory=_),Zy(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else Zy(s,t,f>-1?f:p,FM(n[i?p:f],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Zy(t,e,n,r){const i=Is(e),s=function l4(t){return!!t.useClass}(e);if(i||s){const u=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function FM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function IG(t,e,n,r){return Jy(this.multi,[])}function DG(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Es(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),Jy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Jy(i,s);return s}function Jy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function wG(t,e,n){const r=ge();if(r.firstCreatePass){const i=ir(t);Yy(n,r.data,r.blueprint,i,!0),Yy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class bs{}class LM{}class e_ extends bs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new GA(this);const i=Tn(e);this._bootstrapComponents=Xr(i.bootstrap),this._r3Injector=rA(e,n,[{provide:bs,useValue:this},{provide:dh,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class t_ extends LM{constructor(e){super(),this.moduleType=e}create(e){return new e_(this.moduleType,e,[])}}class BM extends bs{constructor(e){super(),this.componentFactoryResolver=new GA(this),this.instance=null;const n=new zo([...e.providers,{provide:bs,useValue:this},{provide:dh,useValue:this.componentFactoryResolver}],e.parent||ih(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function n_(t,e,n=null){return new BM({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let AG=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=jb(0,n.type),i=r.length>0?n_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(U(qn))})}return t})();function jM(t){t.getStandaloneInjector=e=>e.get(AG).getOrCreateStandaloneInjector(t)}function WM(t,e,n,r){return function KM(t,e,n,r,i,s){const o=e+n;return Ut(t,o,i)?function Cr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function vl(t,e){const n=t[e];return n===ie?void 0:n}(t,o+1)}(D(),function Xt(){const t=Q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function eq(t,e,n,r=!0){const i=e[O];if(function T$(t,e,n,r){const i=Mt+r,s=n.length;r>0&&(n[i-1][rr]=e),r<s-Mt?(e[rr]=n[i],j0(n,Mt+r,e)):(n.push(e),e[rr]=null),e[Ge]=n;const o=e[Pu];null!==o&&n!==o&&function b$(t,e){const n=t[Co];e[rt]!==e[Ge][Ge][rt]&&(t[BT]=!0),null===n?t[Co]=[e]:n.push(e)}(o,e);const a=e[yr];null!==a&&a.insertView(t),e[oe]|=128}(i,e,t,n),r){const s=$m(n,t),o=e[te],a=Yd(o,t[_r]);null!==a&&function I$(t,e,n,r,i,s){r[Ze]=i,r[Bt]=e,Ku(t,r,n,1,i,s)}(i,t[Bt],o,e,a,s)}}Symbol;let ar=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lq}return t})();function lq(){return function sR(t,e){let n;const r=e[t.index];return Zt(r)?n=r:(n=function NA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}(r,e,null,t),e[t.index]=n,gh(e,n)),oR(n,e,t,r),new rR(n,t,e)}(Pt(),D())}const cq=ar,rR=class extends cq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ko(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const e=Od(this._hostTNode,this._hostLView);if(wm(e)){const n=ju(e,this._hostLView),r=Bu(e);return new en(n[O].data[r+8],n)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=iR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function $u(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new al(pe(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?l:this.parentInjector).get(qn,null);m&&(s=m)}pe(u.componentType??{});const f=u.create(l,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Kj(t){return Zt(t[Ge])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[Ge],c=new rR(l,l[Bt],l[Ge]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return eq(a,i,o,!r),e.attachToViewContainerRef(),j0(s_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=iR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Qd(this._lContainer,n);r&&(Fd(s_(this._lContainer),n),Lm(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Qd(this._lContainer,n);return r&&null!=Fd(s_(this._lContainer),n)?new ol(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iR(t){return t[8]}function s_(t){return t[8]||(t[8]=[])}let oR=function aR(t,e,n,r){if(t[_r])return;let i;i=8&n.type?Fe(r):function dq(t,e){const n=t[te],r=n.createComment(""),i=fn(e,t);return ws(n,Yd(n,i),r,function R$(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[_r]=i};const m_=new L("Application Initializer");let y_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(m_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(hl(s))n.push(s);else if(gS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xR=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ni=new L("LocaleId",{providedIn:"root",factory:()=>F(ni,le.Optional|le.SkipSelf)||function $q(){return typeof $localize<"u"&&$localize.locale||la}()});let NR=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Gq{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let OR=(()=>{class t{compileModuleSync(n){return new t_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Xr(Tn(n).declarations).reduce((o,a)=>{const u=pe(a);return u&&o.push(new al(u)),o},[]);return new Gq(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const LR=new L(""),Vh=new L("");let I_,E_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I_||(function f9(t){I_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(U(Pe),U(w_),U(Vh))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),w_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return I_?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ni=null;const BR=new L("AllowMultipleToken"),D_=new L("PlatformDestroyListeners"),C_=new L("appBootstrapListener");class UR{constructor(e,n){this.name=e,this.token=n}}function zR(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=T_();if(!o||o.injector.get(BR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function m9(t){if(Ni&&!Ni.get(BR,!1))throw new w(400,!1);(function jR(){!function Nj(t){ZT=t}(()=>{throw new w(600,!1)})})(),Ni=t;const e=t.get(GR);(function $R(t){t.get(Gb,null)?.forEach(n=>n())})(t)}(function HR(t=[],e){return Mn.create({name:e,providers:[{provide:ey,useValue:"platform"},{provide:D_,useValue:new Set([()=>Ni=null])},...t]})}(a,r))}return function _9(t){const e=T_();if(!e)throw new w(401,!1);return e}()}}function T_(){return Ni?.get(GR)??null}let GR=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function v9(t="zone.js",e){return"noop"===t?new G4:"zone.js"===t?new Pe(e):t}(r?.ngZone,function qR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function bG(t,e,n){return new e_(t,e,n)}(n.moduleType,this.injector,function ZR(t){return[{provide:Pe,useFactory:t},{provide:Xu,multi:!0,useFactory:()=>{const e=F(w9,{optional:!0});return()=>e.initialize()}},{provide:YR,useFactory:E9},{provide:uA,useFactory:lA}]}(()=>i)),o=s.injector.get(Zr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{kh(this._modules,s),a.unsubscribe()})}),function WR(t,e,n){try{const r=n();return hl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(y_);return a.runInitializers(),a.donePromise.then(()=>(function fM(t){jn(t,"Expected localeId to be defined"),"string"==typeof t&&(hM=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ni,la)||la),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=KR({},r);return function p9(t,e,n){const r=new t_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(As);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new w(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(D_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(U(Mn))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function KR(t,e){return Array.isArray(e)?e.reduce(KR,t):{...t,...e}}let As=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(YR),this.zoneIsStable=F(uA),this.componentTypes=[],this.components=[],this.isStable=F(NR).hasPendingTasks.pipe(gr(n=>n?X(!1):this.zoneIsStable),function HB(t,e=wi){return t=t??GB,ft((n,r)=>{let i,s=!0;n.subscribe(ct(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),gT()),this._injector=F(qn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Zb;if(!this._injector.get(y_).done)throw!i&&function vo(t){const e=pe(t)||St(t)||Yt(t);return null!==e&&e.standalone}(n),new w(405,!1);let o;o=i?n:this._injector.get(dh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function g9(t){return t.isBoundToModule}(o)?void 0:this._injector.get(bs),l=o.create(Mn.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(LR,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),kh(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;kh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(C_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>kh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const YR=new L("",{providedIn:"root",factory:()=>F(Zr).handleError.bind(void 0)});function E9(){const t=F(Pe),e=F(Zr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let w9=(()=>{class t{constructor(){this.zone=F(Pe),this.applicationRef=F(As)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Fh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=D9}return t})();function D9(t){return function C9(t,e,n){if(ys(t)&&!n){const r=bn(t.index,e);return new ol(r,r)}return 47&t.type?new ol(e[rt],e):null}(Pt(),D(),16==(16&t))}class tP{constructor(){}supports(e){return vh(e)}create(e){return new R9(e)}}const M9=(t,e)=>e;class R9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||M9}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<rP(r,i,s)?n:r,a=rP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!vh(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function eH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new P9(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new nP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class P9{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class nP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new x9,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class iP{constructor(){}supports(e){return e instanceof Map||Ny(e)}create(){return new N9}}class N9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ny(e)))throw new w(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new O9(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class O9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sP(){return new jh([new tP])}let jh=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:sP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||sP()),deps:[[t,new jd,new Bd]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new w(901,!1)}}return t})();function oP(){return new Dl([new iP])}let Dl=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:oP});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||oP()),deps:[[t,new jd,new Bd]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new w(901,!1)}}return t})();const F9=zR(null,"core",[]);let L9=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(U(As))};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({})}return t})();function ha(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let P_=null;function Oi(){return P_}class X9{}const yn=new L("DocumentToken");let x_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(e6)},providedIn:"platform"})}return t})();const J9=new L("Location Initialized");let e6=(()=>{class t extends x_{constructor(){super(),this._doc=F(yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oi().getBaseHref(this._doc)}onPopState(n){const r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function N_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function gP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ri(t){return t&&"?"!==t[0]?"?"+t:t}let Ms=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(yP)},providedIn:"root"})}return t})();const mP=new L("appBaseHref");let yP=(()=>{class t extends Ms{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return N_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ri(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ri(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(x_),U(mP,8))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t6=(()=>{class t extends Ms{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=N_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ri(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ri(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(x_),U(mP,8))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),O_=(()=>{class t{constructor(n){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function i6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(gP(_P(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ri(r))}normalize(n){return t.stripTrailingSlash(function r6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,_P(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=ri;static#t=this.joinWithSlash=N_;static#n=this.stripTrailingSlash=gP;static#r=this.\u0275fac=function(r){return new(r||t)(U(Ms))};static#i=this.\u0275prov=H({token:t,factory:function(){return function n6(){return new O_(U(Ms))}()},providedIn:"root"})}return t})();function _P(t){return t.replace(/\/index.html$/,"")}const H_=/\s+/,AP=[];let SP=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=AP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(H_):AP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(H_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(H_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(C(jh),C(Dl),C(Sn),C(Ir))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})(),_5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({})}return t})();function VP(t){return"server"===t}let I5=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new D5(U(yn),window)})}return t})();class D5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function C5(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class K5 extends X9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Z_ extends K5{static makeCurrent(){!function Z9(t){P_||(P_=t)}(new Z_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Q5(){return Al=Al||document.querySelector("base"),Al?Al.getAttribute("href"):null}();return null==n?null:function Y5(t){ef=ef||document.createElement("a"),ef.setAttribute("href",t);const e=ef.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Al=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $6(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ef,Al=null,X5=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const X_=new L("EventManagerPlugins");let jP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(U(X_),U(Pe))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class UP{constructor(e){this._doc=e}}const J_="ng-app-id";let $P=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=VP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${J_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(J_),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(J_,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(U(yn),U(sh),U(Wb,8),U(Go))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tv=/%COMP%/g,n8=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function HP(t,e){return e.map(n=>n.replace(tv,t))}let nv=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=VP(a),this.defaultRenderer=new rv(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$n.ShadowDom&&(r={...r,encapsulation:$n.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof qP?i.applyToHost(n):i instanceof iv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case $n.Emulated:s=new qP(u,l,r,this.appId,c,o,a,d);break;case $n.ShadowDom:return new o8(u,l,n,r,o,a,this.nonce,d);default:s=new iv(u,l,r,c,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(U(jP),U($P),U(sh),U(n8),U(yn),U(Go),U(Pe),U(Wb))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class rv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ev[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(GP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(GP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ev[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ev[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mi.DashCase|Mi.Important)?e.style.setProperty(n,r,i&Mi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Oi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function GP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class o8 extends rv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=HP(i.id,i.styles);for(const c of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iv extends rv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?HP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qP extends iv{constructor(e,n,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=function r8(t){return"_ngcontent-%COMP%".replace(tv,t)}(l),this.hostAttr=function i8(t){return"_nghost-%COMP%".replace(tv,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let a8=(()=>{class t extends UP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(U(yn))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const WP=["alt","control","meta","shift"],u8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let c8=(()=>{class t extends UP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WP.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=u8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WP.forEach(o=>{o!==i&&(0,l8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(U(yn))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const QP=[{provide:Go,useValue:"browser"},{provide:Gb,useValue:function d8(){Z_.makeCurrent()},multi:!0},{provide:yn,useFactory:function f8(){return function L$(t){Gm=t}(document),document},deps:[]}],p8=zR(F9,"browser",QP),g8=new L(""),YP=[{provide:Vh,useClass:class Z5{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new w(5103,!1);return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Oi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:LR,useClass:E_,deps:[Pe,w_,Vh]},{provide:E_,useClass:E_,deps:[Pe,w_,Vh]}],ZP=[{provide:ey,useValue:"root"},{provide:Zr,useFactory:function h8(){return new Zr},deps:[]},{provide:X_,useClass:a8,multi:!0,deps:[yn,Pe,Go]},{provide:X_,useClass:c8,multi:!0,deps:[yn]},nv,$P,jP,{provide:tl,useExisting:nv},{provide:class T5{},useClass:X5,deps:[]},[]];let XP=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:sh,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(g8,12))};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({providers:[...ZP,...YP],imports:[_5,L9]})}return t})(),JP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(U(yn))};static#t=this.\u0275prov=H({token:t,factory:function(r){let i=null;return i=r?new r:function y8(){return new JP(U(yn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;class rx{}class I8{}const oi="*";function ix(t,e){return{type:7,name:t,definitions:e,options:{}}}function tf(t,e=null){return{type:4,styles:e,timings:t}}function sx(t,e=null){return{type:2,steps:t,options:e}}function pa(t){return{type:6,styles:t,offset:null}}function nf(t,e,n){return{type:0,name:t,styles:e,options:n}}function rf(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class Sl{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class ox{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function ax(t){return new w(3e3,!1)}function ki(t){switch(t.length){case 0:return new Sl;case 1:return t[0];default:return new ox(t)}}function ux(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const l=u.get("offset"),c=l==o,d=c&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case oi:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=l}),i.length)throw function G8(t){return new w(3502,!1)}();return s}function av(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&uv(n,"start",t)));break;case"done":t.onDone(()=>r(n&&uv(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&uv(n,"destroy",t)))}}function uv(t,e,n){const s=lv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function lv(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function lx(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const r7=(()=>typeof document>"u"?null:document.documentElement)();function cv(t){const e=t.parentNode||t.host||null;return e===r7?null:e}let Rs=null,cx=!1;function dx(t,e){for(;e;){if(e===t)return!0;e=cv(e)}return!1}function hx(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let fx=(()=>{class t{validateStyleProperty(n){return function s7(t){Rs||(Rs=function o7(){return typeof document<"u"?document.body:null}()||{},cx=!!Rs.style&&"WebkitAppearance"in Rs.style);let e=!0;return Rs.style&&!function i7(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Rs.style,!e&&cx&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Rs.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return dx(n,r)}getParentElement(n){return cv(n)}query(n,r,i){return hx(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new Sl(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),dv=(()=>{class t{static#e=this.NOOP=new fx}return t})();const a7=1e3,hv="ng-enter",sf="ng-leave",af="ng-trigger",uf=".ng-trigger",gx="ng-animating",fv=".ng-animating";function ai(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pv(parseFloat(e[1]),e[2])}function pv(t,e){return"s"===e?t*a7:t}function lf(t,e,n){return t.hasOwnProperty("duration")?t:function l7(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(ax()),{duration:0,delay:0,easing:""};i=pv(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=pv(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function D8(){return new w(3100,!1)}()),a=!0),s<0&&(e.push(function C8(){return new w(3101,!1)}()),a=!0),a&&e.splice(u,0,ax())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Ml(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function mx(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Fi(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Sr(t,e,n){e.forEach((r,i)=>{const s=mv(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ps(t,e){e.forEach((n,r)=>{const i=mv(r);t.style[i]=""})}function Rl(t){return Array.isArray(t)?1==t.length?t[0]:sx(t):t}const gv=new RegExp("{{\\s*(.+?)\\s*}}","g");function _x(t){let e=[];if("string"==typeof t){let n;for(;n=gv.exec(t);)e.push(n[1]);gv.lastIndex=0}return e}function Pl(t,e,n){const r=t.toString(),i=r.replace(gv,(s,o)=>{let a=e[o];return null==a&&(n.push(function b8(t){return new w(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function cf(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const h7=/-+([a-z0-9])/g;function mv(t){return t.replace(h7,(...e)=>e[1].toUpperCase())}function Nn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function A8(t){return new w(3004,!1)}()}}function vx(t,e){return window.getComputedStyle(t)[e]}const df="*";function g7(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function m7(t,e,n){if(":"==t[0]){const u=function y7(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function U8(t){return new w(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function j8(t){return new w(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Ex(i,o));"<"==s[0]&&!(i==df&&o==df)&&e.push(Ex(o,i))}(r,n,e)):n.push(t),n}const hf=new Set(["true","1"]),ff=new Set(["false","0"]);function Ex(t,e){const n=hf.has(t)||ff.has(t),r=hf.has(e)||ff.has(e);return(i,s)=>{let o=t==df||t==i,a=e==df||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?hf.has(t):ff.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?hf.has(e):ff.has(e)),o&&a}}const _7=new RegExp("s*:selfs*,?","g");function yv(t,e,n,r){return new v7(t).build(e,n,r)}class v7{constructor(e){this._driver=e}build(e,n,r){const i=new I7(n);return this._resetContextStyleTimingState(i),Nn(this,Rl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function M8(){return new w(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,n))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function R8(){return new w(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{_x(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(cf(s.values()),n.errors.push(function P8(t,e){return new w(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Nn(this,Rl(e.animation),n);return{type:1,matchers:g7(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:xs(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Nn(this,r,n)),options:xs(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=Nn(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:xs(e.options)}}visitAnimate(e,n){const r=function C7(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return _v(lf(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=_v(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=lf(n,e);return _v(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:pa({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=pa(l)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===oi?r.push(a):n.errors.push(new w(3002,!1)):r.push(mx(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=n.collectedStyles.get(n.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(n.errors.push(function N8(t,e,n,r,i){return new w(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),n.options&&function d7(t,e,n){const r=e.params||{},i=_x(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function T8(t){return new w(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function O8(){return new w(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const y=this._makeStyleAst(_,n);let I=null!=y.offset?y.offset:function D7(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),T=0;return null!=I&&(s++,T=y.offset=I),u=u||T<0||T>1,a=a||T<l,l=T,o.push(T),y});u&&n.errors.push(function V8(){return new w(3012,!1)}()),a&&n.errors.push(function k8(){return new w(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function F8(){return new w(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return c.forEach((_,y)=>{const I=h>0?y==f?1:h*y:o[y],T=I*m;n.currentTime=p+g.delay+T,g.duration=T,this._validateStyleAst(_,n),_.offset=I,r.styles.push(_)}),r}visitReference(e,n){return{type:8,animation:Nn(this,Rl(e.animation),n),options:xs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:xs(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:xs(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function E7(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(_7,"")),t=t.replace(/@\*/g,uf).replace(/@\w+/g,n=>uf+"-"+n.slice(1)).replace(/:animating/g,fv),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,xn(n.collectedStyles,n.currentQuerySelector,new Map);const a=Nn(this,Rl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:xs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function L8(){return new w(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:lf(e.timings,n.errors,!0);return{type:12,animation:Nn(this,Rl(e.animation),n),timings:r,options:null}}}class I7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xs(t){return t?(t=Ml(t)).params&&(t.params=function w7(t){return t?Ml(t):null}(t.params)):t={},t}function _v(t,e,n){return{duration:t,delay:e,easing:n}}function vv(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const A7=new RegExp(":enter","g"),M7=new RegExp(":leave","g");function Ev(t,e,n,r,i,s=new Map,o=new Map,a,u,l=[]){return(new R7).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class R7{buildKeyframes(e,n,r,i,s,o,a,u,l,c=[]){l=l||new pf;const d=new wv(e,n,l,i,s,c,[]);d.options=u;const h=u.delay?ai(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),Nn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[vv(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ai(Pl(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?ai(r.duration):null,a=null!=r.delay?ai(r.delay):null;return 0!==o&&e.forEach(u=>{const l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Nn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gf);const o=ai(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Nn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?ai(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),Nn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return lf(n.params?Pl(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?ai(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=gf);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{n.currentQueryIndex=c;const d=n.createSubContext(e.options,l);s&&d.delayNextStep(s),l===n.element&&(u=d.currentTimeline),Nn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=n.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;Nn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const gf={};class wv{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new mf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ai(r.duration)),null!=r.delay&&(i.delay=ai(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Pl(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new wv(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=gf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new P7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(A7,"."+this._enterClassName)).replace(M7,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function B8(t){return new w(3014,!1)}()),a}}class mf{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new mf(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||oi),this._currentKeyframe.set(n,oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function x7(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,oi)}else Fi(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Pl(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??oi),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Fi(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===oi&&n.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?cf(e.values()):[],o=n.size?cf(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return vv(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class P7 extends mf{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=Fi(e[0]);u.set("offset",0),s.push(u);const l=Fi(e[0]);l.set("offset",Dx(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Fi(e[d]);const f=h.get("offset");h.set("offset",Dx((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return vv(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function Dx(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Iv{}const N7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class O7 extends Iv{normalizePropertyName(e,n){return mv(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(N7.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function S8(t,e){return new w(3005,!1)}())}return o+s}}function Cx(t,e,n,r,i,s,o,a,u,l,c,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const Dv={};class Tx{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function V7(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||Dv,p=this.buildStyles(r,a&&a.params||Dv,d),g=u&&u.params||Dv,m=this.buildStyles(i,g,d),_=new Set,y=new Map,I=new Map,T="void"===i,V={params:k7(g,h),delay:this.ast.options?.delay},G=c?[]:Ev(e,n,this.ast.animation,s,o,p,m,V,l,d);let re=0;if(G.forEach(ln=>{re=Math.max(ln.duration+ln.delay,re)}),d.length)return Cx(n,this._triggerName,r,i,T,p,m,[],[],y,I,re,d);G.forEach(ln=>{const En=ln.element,Ag=xn(y,En,new Set);ln.preStyleProps.forEach(go=>Ag.add(go));const ud=xn(I,En,new Set);ln.postStyleProps.forEach(go=>ud.add(go)),En!==n&&_.add(En)});const Me=cf(_.values());return Cx(n,this._triggerName,r,i,T,p,m,G,Me,y,I,re)}}function k7(t,e){const n=Ml(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class F7{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Ml(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Pl(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class B7{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new F7(i.style,i.options&&i.options.params||{},r))}),bx(this.states,"true","1"),bx(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Tx(e,i,this.states))}),this.fallbackTransition=function j7(t,e,n){return new Tx(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function bx(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const U7=new pf;class $7{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=yv(this._driver,n,r,[]);if(r.length)throw function q8(t){return new w(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=ux(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Ev(this._driver,n,s,hv,sf,new Map,new Map,r,U7,i),o.forEach(c=>{const d=xn(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function W8(){return new w(3300,!1)}()),o=[]),i.length)throw function K8(t){return new w(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,oi))})});const l=ki(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function Q8(t){return new w(3301,!1)}();return n}listen(e,n,r,i){const s=lv(n,"","","");return av(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Ax="ng-animate-queued",Cv="ng-animate-disabled",W7=[],Sx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed";class Tv{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function X7(t){return t??null}(r?e.value:e),r){const s=Ml(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const xl="void",bv=new Tv(xl);class Q7{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Y8(t,e){return new w(3302,!1)}();if(null==r||0==r.length)throw function Z8(t){return new w(3303,!1)}();if(!function J7(t){return"start"==t||"done"==t}(r))throw function X8(t,e){return new w(3400,!1)}();const s=xn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=xn(this._engine.statesByElement,e,new Map);return a.has(n)||(Yn(e,af),Yn(e,af+"-"+n),a.set(n,bv)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function J8(t){return new w(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new Av(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Yn(e,af),Yn(e,af+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const l=new Tv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=bv),l.value!==xl&&u.value===l.value){if(!function nW(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],m=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ps(e,m),Sr(e,_)})}return}const h=xn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Yn(e,Ax),o.onStart(()=>{ga(e,Ax)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,uf,!0);r.forEach(i=>{if(i[cr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,xl,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ki(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||bv,c=new Tv(xl),d=new Av(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[cr];(!s||s===Sx)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Yn(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=lv(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,av(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Y7{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new Q7(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(yf(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!yf(n))return;const s=n[cr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yn(e,Cv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ga(e,Cv))}removeNode(e,n,r){if(yf(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[cr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return yf(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,uf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,fv,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ki(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[cr];if(n&&n.setForRemoval){if(e[cr]=Sx,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Cv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Yn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?ki(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function e7(t){return new w(3402,!1)}()}_flushAnimations(e,n){const r=new pf,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(B=>{c.add(B);const q=this.driver.query(B,".ng-animate-queued",!0);for(let W=0;W<q.length;W++)c.add(q[W])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Px(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((B,q)=>{const W=hv+g++;p.set(q,W),B.forEach(_e=>Yn(_e,W))});const m=[],_=new Set,y=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const q=this.collectedLeaveElements[B],W=q[cr];W&&W.setForRemoval&&(m.push(q),_.add(q),W.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(_e=>_.add(_e)):y.add(q))}const I=new Map,T=Px(h,Array.from(_));T.forEach((B,q)=>{const W=sf+g++;I.set(q,W),B.forEach(_e=>Yn(_e,W))}),e.push(()=>{f.forEach((B,q)=>{const W=p.get(q);B.forEach(_e=>ga(_e,W))}),T.forEach((B,q)=>{const W=I.get(q);B.forEach(_e=>ga(_e,W))}),m.forEach(B=>{this.processLeaveNode(B)})});const V=[],G=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(n).forEach(W=>{const _e=W.player,bt=W.element;if(V.push(_e),this.collectedEnterElements.length){const Qt=bt[cr];if(Qt&&Qt.setForMove){if(Qt.previousTriggersValues&&Qt.previousTriggersValues.has(W.triggerName)){const mo=Qt.previousTriggersValues.get(W.triggerName),Jn=this.statesByElement.get(W.element);if(Jn&&Jn.has(W.triggerName)){const Sg=Jn.get(W.triggerName);Sg.value=mo,Jn.set(W.triggerName,Sg)}}return void _e.destroy()}}const zr=!d||!this.driver.containsElement(d,bt),Ln=I.get(bt),fs=p.get(bt),Ye=this._buildInstruction(W,r,fs,Ln,zr);if(Ye.errors&&Ye.errors.length)return void G.push(Ye);if(zr)return _e.onStart(()=>Ps(bt,Ye.fromStyles)),_e.onDestroy(()=>Sr(bt,Ye.toStyles)),void i.push(_e);if(W.isFallbackTransition)return _e.onStart(()=>Ps(bt,Ye.fromStyles)),_e.onDestroy(()=>Sr(bt,Ye.toStyles)),void i.push(_e);const G2=[];Ye.timelines.forEach(Qt=>{Qt.stretchStartingKeyframe=!0,this.disabledNodes.has(Qt.element)||G2.push(Qt)}),Ye.timelines=G2,r.append(bt,Ye.timelines),o.push({instruction:Ye,player:_e,element:bt}),Ye.queriedElements.forEach(Qt=>xn(a,Qt,[]).push(_e)),Ye.preStyleProps.forEach((Qt,mo)=>{if(Qt.size){let Jn=u.get(mo);Jn||u.set(mo,Jn=new Set),Qt.forEach((Sg,$C)=>Jn.add($C))}}),Ye.postStyleProps.forEach((Qt,mo)=>{let Jn=l.get(mo);Jn||l.set(mo,Jn=new Set),Qt.forEach((Sg,$C)=>Jn.add($C))})});if(G.length){const B=[];G.forEach(q=>{B.push(function t7(t,e){return new w(3505,!1)}())}),V.forEach(q=>q.destroy()),this.reportError(B)}const re=new Map,Me=new Map;o.forEach(B=>{const q=B.element;r.has(q)&&(Me.set(q,q),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,re))}),i.forEach(B=>{const q=B.element;this._getPreviousPlayers(q,!1,B.namespaceId,B.triggerName,null).forEach(_e=>{xn(re,q,[]).push(_e),_e.destroy()})});const ln=m.filter(B=>Nx(B,u,l)),En=new Map;Rx(En,this.driver,y,l,oi).forEach(B=>{Nx(B,u,l)&&ln.push(B)});const ud=new Map;f.forEach((B,q)=>{Rx(ud,this.driver,new Set(B),u,"!")}),ln.forEach(B=>{const q=En.get(B),W=ud.get(B);En.set(B,new Map([...q?.entries()??[],...W?.entries()??[]]))});const go=[],z2=[],H2={};o.forEach(B=>{const{element:q,player:W,instruction:_e}=B;if(r.has(q)){if(c.has(q))return W.onDestroy(()=>Sr(q,_e.toStyles)),W.disabled=!0,W.overrideTotalTime(_e.totalTime),void i.push(W);let bt=H2;if(Me.size>1){let Ln=q;const fs=[];for(;Ln=Ln.parentNode;){const Ye=Me.get(Ln);if(Ye){bt=Ye;break}fs.push(Ln)}fs.forEach(Ye=>Me.set(Ye,bt))}const zr=this._buildAnimation(W.namespaceId,_e,re,s,ud,En);if(W.setRealPlayer(zr),bt===H2)go.push(W);else{const Ln=this.playersByElement.get(bt);Ln&&Ln.length&&(W.parentPlayer=ki(Ln)),i.push(W)}}else Ps(q,_e.fromStyles),W.onDestroy(()=>Sr(q,_e.toStyles)),z2.push(W),c.has(q)&&i.push(W)}),z2.forEach(B=>{const q=s.get(B.element);if(q&&q.length){const W=ki(q);B.setRealPlayer(W)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<m.length;B++){const q=m[B],W=q[cr];if(ga(q,sf),W&&W.hasAnimation)continue;let _e=[];if(a.size){let zr=a.get(q);zr&&zr.length&&_e.push(...zr);let Ln=this.driver.query(q,fv,!0);for(let fs=0;fs<Ln.length;fs++){let Ye=a.get(Ln[fs]);Ye&&Ye.length&&_e.push(...Ye)}}const bt=_e.filter(zr=>!zr.destroyed);bt.length?eW(this,q,bt):this.processLeaveNode(q)}return m.length=0,go.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const q=this.players.indexOf(B);this.players.splice(q,1)}),B.play()}),go}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==xl;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const l=u.element,c=l!==s,d=xn(r,l,[]);this._getPreviousPlayers(l,c,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ps(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,l=[],c=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;c.add(g);const m=g[cr];if(m&&m.removedBeforeQueried)return new Sl(p.duration,p.delay);const _=g!==u,y=function tW(t){const e=[];return xx(t,e),e}((r.get(g)||W7).map(re=>re.getRealPlayer())).filter(re=>!!re.element&&re.element===g),I=s.get(g),T=o.get(g),V=ux(this._normalizer,p.keyframes,I,T),G=this._buildPlayer(p,V,y);if(p.subTimeline&&i&&d.add(g),_){const re=new Av(e,a,g);re.setRealPlayer(G),l.push(re)}return G});l.forEach(p=>{xn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Z7(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Yn(p,gx));const f=ki(h);return f.onDestroy(()=>{c.forEach(p=>ga(p,gx)),Sr(u,n.toStyles)}),d.forEach(p=>{xn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Sl(e.duration,e.delay)}}class Av{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Sl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>av(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function yf(t){return t&&1===t.nodeType}function Mx(t,e){const n=t.style.display;return t.style.display=e??"none",n}function Rx(t,e,n,r,i){const s=[];n.forEach(u=>s.push(Mx(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[cr]=K7,o.push(l))}),t.set(l,c)});let a=0;return n.forEach(u=>Mx(u,s[a++])),o}function Px(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=n.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Yn(t,e){t.classList?.add(e)}function ga(t,e){t.classList?.remove(e)}function eW(t,e,n){ki(n).onDone(()=>t.processLeaveNode(e))}function xx(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ox?xx(r.players,e):e.push(r)}}function Nx(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class _f{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Y7(e,n,r),this._timelineEngine=new $7(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=yv(this._driver,s,u,[]);if(u.length)throw function H8(t,e){return new w(3404,!1)}();a=function L7(t,e,n){return new B7(t,e,n)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=lx(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=lx(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let iW=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ps(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ps(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return t})();function Sv(t){let e=null;return t.forEach((n,r)=>{(function sW(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class Ox{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:vx(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class oW{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return dx(e,n)}getParentElement(e){return cv(e)}query(e,n,r){return hx(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof Ox);(function f7(t,e){return 0===t||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function c7(t){return t.length?t[0]instanceof Map?t:t.map(e=>mx(e)):[]}(n).map(f=>Fi(f));d=function p7(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,vx(t,a)))}}return e}(e,d,l);const h=function rW(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Sv(e[0]),e.length>1&&(r=Sv(e[e.length-1]))):e instanceof Map&&(n=Sv(e)),n||r?new iW(t,n,r):null}(e,d);return new Ox(e,d,u,h)}}let aW=(()=>{class t extends rx{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:$n.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?sx(n):n;return Vx(this._renderer,null,r,"register",[i]),new uW(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(U(tl),U(yn))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class uW extends I8{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new lW(this._id,e,n||{},this._renderer)}}class lW{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return Vx(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vx(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const kx="@.disabled";let cW=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new Fx("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,n,c.name,c)};return r.data.animation.forEach(u),new dW(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(U(tl),U(_f),U(Pe))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class Fx{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==kx?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class dW extends Fx{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==kx?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function hW(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function fW(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let pW=(()=>{class t extends _f{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(U(yn),U(dv),U(Iv),U(As))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const Lx=[{provide:rx,useClass:aW},{provide:Iv,useFactory:function gW(){return new O7}},{provide:_f,useClass:pW},{provide:tl,useFactory:function mW(t,e,n){return new cW(t,e,n)},deps:[nv,_f,Pe]}],Mv=[{provide:dv,useFactory:()=>new oW},{provide:qb,useValue:"BrowserAnimations"},...Lx],Bx=[{provide:dv,useClass:fx},{provide:qb,useValue:"NoopAnimations"},...Lx];let yW=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?Bx:Mv}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({providers:Mv,imports:[XP]})}return t})();const{isArray:vW}=Array,{getPrototypeOf:EW,prototype:wW,keys:IW}=Object;function jx(t){if(1===t.length){const e=t[0];if(vW(e))return{args:e,keys:null};if(function DW(t){return t&&"object"==typeof t&&EW(t)===wW}(e)){const n=IW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:CW}=Array;function Ux(t){return Ne(e=>function TW(t,e){return CW(e)?t(...e):t(e)}(t,e))}function $x(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Rv(...t){const e=Cu(t),n=dT(t),{args:r,keys:i}=jx(t);if(0===r.length)return vt([],e);const s=new lt(function bW(t,e,n=wi){return r=>{zx(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)zx(e,()=>{const l=vt(t[u],e);let c=!1;l.subscribe(ct(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>$x(i,o):wi));return n?s.pipe(Ux(n)):s}function zx(t,e,n){t?Hr(n,t,e):e()}const Ef=wu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pv(...t){return function AW(){return yo(1)}()(vt(t,Cu(t)))}function Hx(t){return new lt(e=>{In(t()).subscribe(e)})}function Nl(t,e){const n=Re(t)?t:()=>t,r=i=>i.error(n());return new lt(e?i=>e.schedule(r,0,i):r)}function xv(){return ft((t,e)=>{let n=null;t._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Gx extends lt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,YC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;const n=this.getSubject();e.add(this.source.subscribe(ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return xv()(this)}}function ma(t){return t<=0?()=>pr:ft((e,n)=>{let r=0;e.subscribe(ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Li(t,e){return ft((n,r)=>{let i=0;n.subscribe(ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function wf(t){return ft((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qx(t=MW){return ft((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function MW(){return new Ef}function Ns(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Li((i,s)=>t(i,s,r)):wi,ma(1),n?wf(e):qx(()=>new Ef))}function Ol(t,e){return Re(e)?At(t,e,1):At(t,1)}function $t(t,e,n){const r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ft((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ct(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):wi}function Os(t){return ft((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ct(n,void 0,void 0,o=>{s=In(t(o,Os(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Nv(t){return t<=0?()=>pr:ft((e,n)=>{let r=[];e.subscribe(ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ov(t){return ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ae="primary",Vl=Symbol("RouteTitle");class VW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ya(t){return new VW(t)}function kW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Wx(t[i],e[i]))return!1;return!0}function Wx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function Kx(t){return t.length>0?t[t.length-1]:null}function Bi(t){return function _W(t){return!!t&&(t instanceof lt||Re(t.lift)&&Re(t.subscribe))}(t)?t:hl(t)?vt(Promise.resolve(t)):X(t)}const LW={exact:function Zx(t,e,n){if(!Vs(t.segments,e.segments)||!If(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Zx(t.children[r],e.children[r],n))return!1;return!0},subset:Xx},Qx={exact:function BW(t,e){return Mr(t,e)},subset:function jW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Wx(t[n],e[n]))},ignored:()=>!0};function Yx(t,e,n){return LW[n.paths](t.root,e.root,n.matrixParams)&&Qx[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Xx(t,e,n){return Jx(t,e,e.segments,n)}function Jx(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Vs(i,n)||e.hasChildren()||!If(i,n,r))}if(t.segments.length===n.length){if(!Vs(t.segments,n)||!If(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Xx(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Vs(t.segments,i)&&If(t.segments,i,r)&&t.children[ae])&&Jx(t.children[ae],e,s,r)}}function If(t,e,n){return e.every((r,i)=>Qx[n](t[i].parameters,r.parameters))}class _a{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return zW.serialize(this)}}class be{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Df(this)}}class kl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ya(this.parameters)),this._parameterMap}toString(){return n1(this)}}function Vs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Fl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return new Vv},providedIn:"root"})}return t})();class Vv{parse(e){const n=new eK(e);return new _a(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ll(e.root,!0)}`,r=function qW(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Cf(n)}=${Cf(i)}`).join("&"):`${Cf(n)}=${Cf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function HW(t){return encodeURI(t)}(e.fragment)}`:""}`}}const zW=new Vv;function Df(t){return t.segments.map(e=>n1(e)).join("/")}function Ll(t,e){if(!t.hasChildren())return Df(t);if(e){const n=t.children[ae]?Ll(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ae&&r.push(`${i}:${Ll(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $W(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ae?[Ll(t.children[ae],!1)]:[`${i}:${Ll(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${Df(t)}/${n[0]}`:`${Df(t)}/(${n.join("//")})`}}function e1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cf(t){return e1(t).replace(/%3B/gi,";")}function kv(t){return e1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tf(t){return decodeURIComponent(t)}function t1(t){return Tf(t.replace(/\+/g,"%20"))}function n1(t){return`${kv(t.path)}${function GW(t){return Object.keys(t).map(e=>`;${kv(e)}=${kv(t[e])}`).join("")}(t.parameters)}`}const WW=/^[^\/()?;#]+/;function Fv(t){const e=t.match(WW);return e?e[0]:""}const KW=/^[^\/()?;=#]+/,YW=/^[^=?&#]+/,XW=/^[^&#]+/;class eK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new be(e,n)),r}parseSegment(){const e=Fv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new kl(Tf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function QW(t){const e=t.match(KW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Fv(this.remaining);i&&(r=i,this.capture(r))}e[Tf(n)]=Tf(r)}parseQueryParam(e){const n=function ZW(t){const e=t.match(YW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function JW(t){const e=t.match(XW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=t1(n),s=t1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new be([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}}function r1(t){return t.segments.length>0?new be([],{[ae]:t}):t}function i1(t){const e={};for(const r of Object.keys(t.children)){const s=i1(t.children[r]);if(r===ae&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function tK(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new be(t.segments.concat(e.segments),e.children)}return t}(new be(t.segments,e))}function ks(t){return t instanceof _a}function s1(t){let e;const i=r1(function n(s){const o={};for(const u of s.children){const l=n(u);o[u.outlet]=l}const a=new be(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function o1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Lv(i,i,i,n,r);const s=function rK(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new u1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new u1(n,e,r)}(e);if(s.toRoot())return Lv(i,i,new be([],{}),n,r);const o=function iK(t,e,n){if(t.isAbsolute)return new Af(e,!0,0);if(!n)return new Af(e,!1,NaN);if(null===n.parent)return new Af(n,!0,0);const r=bf(t.commands[0])?0:1;return function sK(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Af(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?jl(o.segmentGroup,o.index,s.commands):l1(o.segmentGroup,o.index,s.commands);return Lv(i,o.segmentGroup,a,n,r)}function bf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bl(t){return"object"==typeof t&&null!=t&&t.outlets}function Lv(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===e?n:a1(t,e,n);const a=r1(i1(o));return new _a(a,s,i)}function a1(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:a1(s,e,n)}),new be(t.segments,r)}class u1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bf(r[0]))throw new w(4003,!1);const i=r.find(Bl);if(i&&i!==Kx(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Af{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function l1(t,e,n){if(t||(t=new be([],{})),0===t.segments.length&&t.hasChildren())return jl(t,e,n);const r=function aK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Bl(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!d1(u,l,o))return s;r+=2}else{if(!d1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new be(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new be(t.segments.slice(r.pathIndex),t.children),jl(s,0,i)}return r.match&&0===i.length?new be(t.segments,{}):r.match&&!t.hasChildren()?Bv(t,e,n):r.match?jl(t,0,i):Bv(t,e,n)}function jl(t,e,n){if(0===n.length)return new be(t.segments,{});{const r=function oK(t){return Bl(t[0])?t[0].outlets:{[ae]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ae)&&t.children[ae]&&1===t.numberOfChildren&&0===t.children[ae].segments.length){const s=jl(t.children[ae],e,n);return new be(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=l1(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new be(t.segments,i)}}function Bv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Bl(s)){const u=uK(s.outlets);return new be(r,u)}if(0===i&&bf(n[0])){r.push(new kl(t.segments[e].path,c1(n[0]))),i++;continue}const o=Bl(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&bf(a)?(r.push(new kl(o,c1(a))),i+=2):(r.push(new kl(o,{})),i++)}return new be(r,{})}function uK(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Bv(new be([],{}),0,r))}),e}function c1(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function d1(t,e,n){return t==n.path&&Mr(e,n.parameters)}const Ul="imperative";class Rr{constructor(e,n){this.id=e,this.url=n}}class Sf extends Rr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends Rr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $l extends Rr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class va extends Rr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Mf extends Rr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h1 extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lK extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cK extends Rr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dK extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hK extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _K{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jv{}class Uv{constructor(e){this.url=e}}class vK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zl,this.attachRef=null}}let zl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class p1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=$v(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=$v(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=zv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zv(e,this._root).map(n=>n.value)}}function $v(t,e){if(t===e.value)return e;for(const n of e.children){const r=$v(t,n);if(r)return r}return null}function zv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=zv(t,n);if(r.length)return r.unshift(e),r}return[]}class ui{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ea(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class g1 extends p1{constructor(e,n){super(e),this.snapshot=n,Hv(this,e)}toString(){return this.snapshot.toString()}}function m1(t,e){const n=function EK(t,e){const o=new Rf([],{},{},"",{},ae,e,null,{});return new _1("",new ui(o,[]))}(0,e),r=new Bn([new kl("",{})]),i=new Bn({}),s=new Bn({}),o=new Bn({}),a=new Bn(""),u=new Fs(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new g1(new ui(u,[]),n)}class Fs{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ne(l=>l[Vl]))??X(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>ya(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>ya(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function y1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function wK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rf{get title(){return this.data?.[Vl]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ya(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _1 extends p1{constructor(e,n){super(n),this.url=e,Hv(this,n)}toString(){return v1(this._root)}}function Hv(t,e){e.value._routerState=t,e.children.forEach(n=>Hv(t,n))}function v1(t){const e=t.children.length>0?` { ${t.children.map(v1).join(", ")} } `:"";return`${t.value}${e}`}function Gv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mr(e.params,n.params)||t.paramsSubject.next(n.params),function FW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Mr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qv(t,e){const n=Mr(t.params,e.params)&&function UW(t,e){return Vs(t,e)&&t.every((n,r)=>Mr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||qv(t.parent,e.parent))}let Wv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=F(zl),this.location=F(ar),this.changeDetector=F(Fh),this.environmentInjector=F(qn),this.inputBinder=F(Pf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new IK(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hn]})}return t})();class IK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fs?this.route:e===zl?this.childContexts:this.parent.get(e,n)}}const Pf=new L("");let E1=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Rv([r.queryParams,r.params,r.data]).pipe(gr(([s,o,a],u)=>(a={...s,...o,...a},0===u?X(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function Y9(t){const e=pe(t);if(!e)return null;const n=new al(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function Hl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function CK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Hl(t,r,i);return Hl(t,r)})}(t,e,n);return new ui(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hl(t,a)),o}}const r=function TK(t){return new Fs(new Bn(t.url),new Bn(t.params),new Bn(t.queryParams),new Bn(t.fragment),new Bn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Hl(t,s));return new ui(r,i)}}const Kv="ngNavigationCancelingError";function w1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ks(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=I1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function I1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Kv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function D1(t){return t&&t[Kv]}let C1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Cn({type:t,selectors:[["ng-component"]],standalone:!0,features:[jM],decls:1,vars:0,template:function(r,i){1&r&&se(0,"router-outlet")},dependencies:[Wv],encapsulation:2})}return t})();function Qv(t){const e=t.children&&t.children.map(Qv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=C1),n}function dr(t){return t.outlet||ae}function Gl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class NK{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ea(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ea(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ea(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ea(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _K(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Gv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Gl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class T1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xf{constructor(e,n){this.component=e,this.route=n}}function OK(t,e,n){const r=t._root;return ql(r,e?e._root:null,n,[r.value])}function wa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function XB(t){return null!==gd(t)}(t)?e.get(t):t:r}function ql(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ea(e);return t.children.forEach(o=>{(function kK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function FK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vs(t.url,e.url)||!Mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qv(t,e)||!Mr(t.queryParams,e.queryParams);default:return!qv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new T1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ql(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xf(a.outlet.component,o))}else o&&Wl(e,a,i),i.canActivateChecks.push(new T1(r)),ql(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Wl(a,n.getContext(o),i)),i}function Wl(t,e,n){const r=Ea(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Wl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Kl(t){return"function"==typeof t}function b1(t){return t instanceof Ef||"EmptyError"===t?.name}const Nf=Symbol("INITIAL_VALUE");function Ia(){return gr(t=>Rv(t.map(e=>e.pipe(ma(1),function SW(...t){const e=Cu(t);return ft((n,r)=>{(e?Pv(t,n,e):Pv(t,n)).subscribe(r)})}(Nf)))).pipe(Ne(e=>{for(const n of e)if(!0!==n){if(n===Nf)return Nf;if(!1===n||n instanceof _a)return n}return!0}),Li(e=>e!==Nf),ma(1)))}function A1(t){return function eB(...t){return WC(t)}($t(e=>{if(ks(e))throw w1(0,e)}),Ne(e=>!0===e))}class Of{constructor(e){this.segmentGroup=e||null}}class S1{constructor(e){this.urlTree=e}}function Da(t){return Nl(new Of(t))}function M1(t){return Nl(new S1(t))}class rQ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new w(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[ae])return Nl(new w(4e3,!1));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new _a(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new be(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iQ(t,e,n,r,i){const s=Zv(t,e,n);return s.matched?(r=function AK(t,e){return t.providers&&!t._injector&&(t._injector=n_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function eQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?X(i.map(o=>{const a=wa(o,t);return Bi(function zK(t){return t&&Kl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ia(),A1()):X(!0)}(r,e,n).pipe(Ne(o=>!0===o?s:{...Yv}))):X(s)}function Zv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Yv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||kW)(n,t,e);if(!i)return{...Yv};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function R1(t,e,n,r){return n.length>0&&function aQ(t,e,n){return n.some(r=>Vf(t,e,r)&&dr(r)!==ae)}(t,n,r)?{segmentGroup:new be(e,oQ(r,new be(n,t.children))),slicedSegments:[]}:0===n.length&&function uQ(t,e,n){return n.some(r=>Vf(t,e,r))}(t,n,r)?{segmentGroup:new be(t.segments,sQ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function sQ(t,e,n,r,i){const s={};for(const o of r)if(Vf(t,n,o)&&!i[dr(o)]){const a=new be([],{});s[dr(o)]=a}return{...i,...s}}function oQ(t,e){const n={};n[ae]=e;for(const r of t)if(""===r.path&&dr(r)!==ae){const i=new be([],{});n[dr(r)]=i}return n}function Vf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class hQ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new rQ(this.urlSerializer,this.urlTree)}noMatchError(e){return new w(4002,!1)}recognize(){const e=R1(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(Os(n=>{if(n instanceof S1)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Of?this.noMatchError(n):n}),Ne(n=>{const r=new Rf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new ui(r,n),s=new _1("",i),o=function nK(t,e,n=null,r=null){return o1(s1(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ae).pipe(Os(r=>{throw r instanceof Of?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=y1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vt(i).pipe(Ol(s=>{const o=r.children[s],a=function PK(t,e){const n=t.filter(r=>dr(r)===e);return n.push(...t.filter(r=>dr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function PW(t,e){return ft(function RW(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ct(o,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),wf(null),function xW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Li((i,s)=>t(i,s,r)):wi,Nv(1),n?wf(e):qx(()=>new Ef))}(),At(s=>{if(null===s)return Da(r);const o=P1(s);return function fQ(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(o),X(o)}))}processSegment(e,n,r,i,s,o){return vt(n).pipe(Ol(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Os(u=>{if(u instanceof Of)return X(null);throw u}))),Ns(a=>!!a),Os(a=>{if(b1(a))return function cQ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?X([]):Da(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function lQ(t,e,n,r){return!!(dr(t)===r||r!==ae&&Vf(e,n,t))&&("**"===t.path||Zv(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Da(i):Da(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?M1(s):this.applyRedirects.lineralizeSegments(r,s).pipe(At(o=>{const a=new be(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Zv(n,i,s);if(!a)return Da(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?M1(d):this.applyRedirects.lineralizeSegments(i,d).pipe(At(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?Kx(i).parameters:{};a=X({snapshot:new Rf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,x1(r),dr(r),r.component??r._loadedComponent??null,r,N1(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=iQ(n,r,i,e).pipe(Ne(({matched:u,consumedSegments:l,remainingSegments:c,parameters:d})=>u?{snapshot:new Rf(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,x1(r),dr(r),r.component??r._loadedComponent??null,r,N1(r)),consumedSegments:l,remainingSegments:c}:null));return a.pipe(gr(u=>null===u?Da(n):this.getChildConfig(e=r._injector??e,r,i).pipe(gr(({routes:l})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=R1(n,h,f,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(Ne(_=>null===_?null:[new ui(d,_)]));if(0===l.length&&0===g.length)return X([new ui(d,[])]);const m=dr(r)===s;return this.processSegment(c,l,p,g,m?ae:s,!0).pipe(Ne(_=>[new ui(d,_)]))}))))}getChildConfig(e,n,r){return n.children?X({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?X({routes:n._loadedRoutes,injector:n._loadedInjector}):function JK(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?X(!0):X(i.map(o=>{const a=wa(o,t);return Bi(function BK(t){return t&&Kl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ia(),A1())}(e,n,r).pipe(At(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function nQ(t){return Nl(I1(!1,3))}())):X({routes:[],injector:e})}}function pQ(t){const e=t.value.routeConfig;return e&&""===e.path}function P1(t){const e=[],n=new Set;for(const r of t){if(!pQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=P1(r.children);e.push(new ui(r.value,i))}return e.filter(r=>!n.has(r))}function x1(t){return t.data||{}}function N1(t){return t.resolve||{}}function O1(t){return"string"==typeof t.title||null===t.title}function Xv(t){return gr(e=>{const n=t(e);return n?vt(n).pipe(Ne(()=>e)):X(e)})}const Ca=new L("ROUTES");let Jv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(OR)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return X(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Bi(n.loadComponent()).pipe(Ne(V1),$t(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ov(()=>{this.componentLoaders.delete(n)})),i=new Gx(r,()=>new er).pipe(xv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function wQ(t,e,n,r){return Bi(t.loadChildren()).pipe(Ne(V1),At(i=>i instanceof LM||Array.isArray(i)?X(i):vt(e.compileModuleAsync(i))),Ne(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qv),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ov(()=>{this.childrenLoaders.delete(r)})),o=new Gx(s,()=>new er).pipe(xv());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V1(t){return function IQ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let kf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new er,this.transitionAbortSubject=new er,this.configLoader=F(Jv),this.environmentInjector=F(qn),this.urlSerializer=F(Fl),this.rootContexts=F(zl),this.inputBindingEnabled=null!==F(Pf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new pK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Bn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ul,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(s=>0!==s.id),Ne(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),gr(s=>{this.currentTransition=s;let o=!1,a=!1;return X(s).pipe($t(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gr(u=>{const l=u.currentBrowserUrl.toString(),c=!n.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new va(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),pr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return X(u).pipe(gr(h=>{const f=this.transitions?.getValue();return this.events.next(new Sf(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?pr:Promise.resolve(h)}),function gQ(t,e,n,r,i,s){return At(o=>function dQ(t,e,n,r,i,s,o="emptyOnly"){return new hQ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ne(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),$t(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new h1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,_=new Sf(h,this.urlSerializer.serialize(f),p,g);this.events.next(_);const y=m1(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:y,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},X(s)}{const h="";return this.events.next(new va(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),pr}}),$t(u=>{const l=new lK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ne(u=>(this.currentTransition=s={...u,guards:OK(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function GK(t,e){return At(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X({...n,guardsResult:!0}):function qK(t,e,n,r){return vt(t).pipe(At(i=>function XK(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=Gl(e)??i,l=wa(a,u);return Bi(function $K(t){return t&&Kl(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):u.runInContext(()=>l(t,e,n,r))).pipe(Ns())})).pipe(Ia()):X(!0)}(i.component,i.route,n,e,r)),Ns(i=>!0!==i,!0))}(o,r,i,t).pipe(At(a=>a&&function LK(t){return"boolean"==typeof t}(a)?function WK(t,e,n,r){return vt(e).pipe(Ol(i=>Pv(function QK(t,e){return null!==t&&e&&e(new gK(t)),X(!0)}(i.route.parent,r),function KK(t,e){return null!==t&&e&&e(new yK(t)),X(!0)}(i.route,r),function ZK(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function VK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Hx(()=>X(o.guards.map(u=>{const l=Gl(o.node)??n,c=wa(u,l);return Bi(function UK(t){return t&&Kl(t.canActivateChild)}(c)?c.canActivateChild(r,t):l.runInContext(()=>c(r,t))).pipe(Ns())})).pipe(Ia())));return X(s).pipe(Ia())}(t,i.path,n),function YK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>Hx(()=>{const o=Gl(e)??n,a=wa(s,o);return Bi(function jK(t){return t&&Kl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ns())}));return X(i).pipe(Ia())}(t,i.route,n))),Ns(i=>!0!==i,!0))}(r,s,t,e):X(a)),Ne(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),$t(u=>{if(s.guardsResult=u.guardsResult,ks(u.guardsResult))throw w1(0,u.guardsResult);const l=new cK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Li(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Xv(u=>{if(u.guards.canActivateChecks.length)return X(u).pipe($t(l=>{const c=new dK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),gr(l=>{let c=!1;return X(l).pipe(function mQ(t,e){return At(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return vt(i).pipe(Ol(o=>function yQ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!O1(i)&&(s[Vl]=i.title),function _Q(t,e,n,r){const i=function vQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return X({});const s={};return vt(i).pipe(At(o=>function EQ(t,e,n,r){const i=Gl(e)??r,s=wa(t,i);return Bi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ns(),$t(a=>{s[o]=a}))),Nv(1),function NW(t){return Ne(()=>t)}(s),Os(o=>b1(o)?pr:Nl(o)))}(s,t,e,r).pipe(Ne(o=>(t._resolvedData=o,t.data=y1(t,n).resolve,i&&O1(i)&&(t.data[Vl]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),Nv(1),At(o=>s===i.length?X(n):pr))})}(n.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",2)}}))}),$t(l=>{const c=new hK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),Xv(u=>{const l=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe($t(h=>{c.component=h}),Ne(()=>{})));for(const h of c.children)d.push(...l(h));return d};return Rv(l(u.targetSnapshot.root)).pipe(wf(),ma(1))}),Xv(()=>this.afterPreactivation()),Ne(u=>{const l=function DK(t,e,n){const r=Hl(t,e._root,n?n._root:void 0);return new g1(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},s}),$t(()=>{this.events.next(new jv)}),((t,e,n,r)=>Ne(i=>(new NK(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ma(1),$t({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function OW(t){return ft((e,n)=>{In(t).subscribe(ct(n,()=>n.complete(),Mg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe($t(u=>{throw u}))),Ov(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Os(u=>{if(a=!0,D1(u))this.events.next(new $l(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function bK(t){return D1(t)&&ks(t.url)}(u)?this.events.next(new Uv(u.url)):s.resolve(!1);else{this.events.next(new Mf(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){s.reject(l)}}return pr}))}))}cancelNavigationTransition(n,r,i){const s=new $l(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function k1(t){return t!==Ul}let F1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Vl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(DQ)},providedIn:"root"})}return t})(),DQ=(()=>{class t extends F1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(JP))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(bQ)},providedIn:"root"})}return t})();class TQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let bQ=(()=>{class t extends TQ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=xt(t)))(i||t)}}();static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ff=new L("",{providedIn:"root",factory:()=>({})});let AQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(SQ)},providedIn:"root"})}return t})(),SQ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ql=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ql||{});function L1(t,e){t.events.pipe(Li(n=>n instanceof ji||n instanceof $l||n instanceof Mf||n instanceof va),Ne(n=>n instanceof ji||n instanceof va?Ql.COMPLETE:n instanceof $l&&(0===n.code||1===n.code)?Ql.REDIRECTING:Ql.FAILED),Li(n=>n!==Ql.REDIRECTING),ma(1)).subscribe(()=>{e()})}function MQ(t){throw t}function RQ(t,e,n){return e.parse("/")}const PQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(xR),this.isNgZoneEnabled=!1,this._events=new er,this.options=F(Ff,{optional:!0})||{},this.pendingTasks=F(NR),this.errorHandler=this.options.errorHandler||MQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(AQ),this.routeReuseStrategy=F(CQ),this.titleStrategy=F(F1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(Ca,{optional:!0})?.flat()??[],this.navigationTransitions=F(kf),this.urlSerializer=F(Fl),this.location=F(O_),this.componentInputBindingEnabled=!!F(Pf,{optional:!0}),this.eventsSubscription=new wn,this.isNgZoneEnabled=F(Pe)instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _a,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=m1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(B1(r)&&this._events.next(r));if(r instanceof Sf)k1(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof va)this.rawUrlTree=i.rawUrl;else if(r instanceof h1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof jv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof $l)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Uv){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||k1(i.source)};this.scheduleNavigation(s,Ul,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Mf&&this.restoreHistory(i,!0),r instanceof ji&&(this.navigated=!0),B1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ul,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=s1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return o1(d,n,c,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ks(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ul,null,r)}navigate(n,r={skipLocationChange:!1}){return function NQ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new w(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...PQ}:!1===r?{...xQ}:r,ks(n))return Yx(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Yx(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,u=h});const c=this.pendingTasks.add();return L1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B1(t){return!(t instanceof jv||t instanceof Uv)}class j1{}let kQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Li(n=>n instanceof ji),Ol(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=n_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return vt(i).pipe(yo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):X(null);const s=i.pipe(At(o=>null===o?X(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?vt([s,this.loader.loadComponent(r)]).pipe(yo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(U(Nt),U(OR),U(qn),U(j1),U(Jv))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tE=new L("");let U1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ji?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof va&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof f1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new f1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function CA(){throw new Error("invalid")}()};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function li(t,e){return{\u0275kind:t,\u0275providers:e}}function z1(){const t=F(Mn);return e=>{const n=t.get(As);if(e!==n.components[0])return;const r=t.get(Nt),i=t.get(H1);1===t.get(nE)&&r.initialNavigation(),t.get(G1,null,le.Optional)?.setUpPreloading(),t.get(tE,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const H1=new L("",{factory:()=>new er}),nE=new L("",{providedIn:"root",factory:()=>1}),G1=new L("");function jQ(t){return li(0,[{provide:G1,useExisting:kQ},{provide:j1,useExisting:t}])}const q1=new L("ROUTER_FORROOT_GUARD"),$Q=[O_,{provide:Fl,useClass:Vv},Nt,zl,{provide:Fs,useFactory:function $1(t){return t.routerState.root},deps:[Nt]},Jv,[]];function zQ(){return new UR("Router",Nt)}let W1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[$Q,[],{provide:Ca,multi:!0,useValue:n},{provide:q1,useFactory:WQ,deps:[[Nt,new Bd,new jd]]},{provide:Ff,useValue:r||{}},r?.useHash?{provide:Ms,useClass:t6}:{provide:Ms,useClass:yP},{provide:tE,useFactory:()=>{const t=F(I5),e=F(Pe),n=F(Ff),r=F(kf),i=F(Fl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new U1(i,r,t,e,n)}},r?.preloadingStrategy?jQ(r.preloadingStrategy).\u0275providers:[],{provide:UR,multi:!0,useFactory:zQ},r?.initialNavigation?KQ(r):[],r?.bindToComponentInputs?li(8,[E1,{provide:Pf,useExisting:E1}]).\u0275providers:[],[{provide:K1,useFactory:z1},{provide:C_,multi:!0,useExisting:K1}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ca,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(q1,8))};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({})}return t})();function WQ(t){return"guarded"}function KQ(t){return["disabled"===t.initialNavigation?li(3,[{provide:m_,multi:!0,useFactory:()=>{const e=F(Nt);return()=>{e.setUpLocationChangeListener()}}},{provide:nE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?li(2,[{provide:nE,useValue:0},{provide:m_,multi:!0,deps:[Mn],useFactory:e=>{const n=e.get(J9,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Nt),s=e.get(H1);L1(i,()=>{r(!0)}),e.get(kf).afterPreactivation=()=>(r(!0),s.closed?X(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const K1=new L("");function Q1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Q1(s,r,i,o,a,"next",u)}function a(u){Q1(s,r,i,o,a,"throw",u)}o(void 0)})}}const Y1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new JQ;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lf=function(t){return function(t){const e=Y1(t);return Z1.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Bf=()=>{try{return function nY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return Z1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},J1=()=>{var t;return null===(t=Bf())||void 0===t?void 0:t.config};class eN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ui(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function sE(){try{return"object"==typeof indexedDB}catch{return!1}}function tN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jf.prototype.create)}}class jf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function pY(t,e){return t.replace(gY,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new $i(i,`${this.serviceName}: ${o} (${i}).`,r)}}const gY=/\{\$([^}]+)}/g;function $f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rN(s)&&rN(o)){if(!$f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rN(t){return null!==t&&"object"==typeof t}const _Y=1e3,vY=2,EY=144e5,wY=.5;function iN(t,e=_Y,n=vY){const r=e*Math.pow(n,t),i=Math.round(wY*r*(Math.random()-.5)*2);return Math.min(EY,r+i)}function Ls(t){return t&&t._delegate?t._delegate:t}class ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bs="[DEFAULT]";class DY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function TY(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Bs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const uE=[];var ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{});const sN={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},AY=ye.INFO,SY={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},MY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=SY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class lE{constructor(e){this.name=e,this._logLevel=AY,this._logHandler=MY,this._userLogHandler=null,uE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const RY=(t,e)=>e.some(n=>t instanceof n);let oN,aN;const uN=new WeakMap,cE=new WeakMap,lN=new WeakMap,dE=new WeakMap,hE=new WeakMap;let fE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function FY(t){return"function"==typeof t?function kY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xY(){return aN||(aN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(pE(this),e),zi(uN.get(this))}:function(...e){return zi(t.apply(pE(this),e))}:function(e,...n){const r=t.call(pE(this),e,...n);return lN.set(r,e.sort?e.sort():[e]),zi(r)}}(t):(t instanceof IDBTransaction&&function OY(t){if(cE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cE.set(t,e)}(t),RY(t,function PY(){return oN||(oN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fE):t)}function zi(t){if(t instanceof IDBRequest)return function NY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uN.set(n,t)}).catch(()=>{}),hE.set(e,t),e}(t);if(dE.has(t))return dE.get(t);const e=FY(t);return e!==t&&(dE.set(t,e),hE.set(e,t)),e}const pE=t=>hE.get(t),BY=["get","getKey","getAll","getAllKeys","count"],jY=["put","add","delete","clear"],gE=new Map;function cN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gE.get(e))return gE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!BY.includes(n))return;const s=function(){var o=S(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return gE.set(e,s),s}!function VY(t){fE=t(fE)}(t=>({...t,get:(e,n,r)=>cN(e,n)||t.get(e,n,r),has:(e,n)=>!!cN(e,n)||t.has(e,n)}));class UY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function $Y(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const mE="@firebase/app",js=new lE("@firebase/app"),zf="[DEFAULT]",pZ={[mE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Us=new Map,Hf=new Map;function gZ(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hi(t){const e=t.name;if(Hf.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,t);for(const n of Us.values())gZ(n,t);return!0}function Ta(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const di=new jf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}function hN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:zf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=J1()),!n)throw di.create("no-options");const s=Us.get(i);if(s){if($f(n,s.options)&&$f(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new bY(i);for(const u of Hf.values())o.addComponent(u);const a=new yZ(n,r,o);return Us.set(i,a),a}function fN(t=zf){const e=Us.get(t);if(!e&&t===zf&&J1())return hN();if(!e)throw di.create("no-app",{appName:t});return e}function Pr(t,e,n){var r;let i=null!==(r=pZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void js.warn(a.join(" "))}Hi(new ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const vZ="firebase-heartbeat-database",EZ=1,Yl="firebase-heartbeat-store";let _E=null;function pN(){return _E||(_E=function LY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zi(o.result),u.oldVersion,u.newVersion,zi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(vZ,EZ,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Yl)}catch(n){console.warn(n)}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),_E}function vE(){return(vE=S(function*(t){try{return yield(yield pN()).transaction(Yl).objectStore(Yl).get(mN(t))}catch(e){if(e instanceof $i)js.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}})).apply(this,arguments)}function gN(t,e){return EE.apply(this,arguments)}function EE(){return(EE=S(function*(t,e){try{const r=(yield pN()).transaction(Yl,"readwrite");yield r.objectStore(Yl).put(e,mN(t)),yield r.done}catch(n){if(n instanceof $i)js.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n?.message});js.warn(r.message)}}})).apply(this,arguments)}function mN(t){return`${t.name}!${t.options.appId}`}class CZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return S(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yN();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return S(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=yN(),{heartbeatsToSend:i,unsentEntries:s}=function TZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_N(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_N(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Lf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function yN(){return(new Date).toISOString().substring(0,10)}class bZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!sE()&&tN().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return S(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function wZ(t){return vE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return gN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return gN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function _N(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}!function AZ(t){Hi(new ci("platform-logger",e=>new UY(e),"PRIVATE")),Hi(new ci("heartbeat",e=>new CZ(e),"PRIVATE")),Pr(mE,"0.9.26",t),Pr(mE,"0.9.26","esm2017"),Pr("fire-js","")}("");var N,SZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={},wE=wE||{},ne=SZ||self;function Gf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Zl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var IE="closure_uid_"+(1e9*Math.random()>>>0),RZ=0;function PZ(t,e,n){return t.call.apply(t.bind,arguments)}function xZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return(zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PZ:xZ).apply(null,arguments)}function qf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gi(){this.s=this.s,this.o=this.o}Gi.prototype.s=!1,Gi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function MZ(t){Object.prototype.hasOwnProperty.call(t,IE)&&t[IE]||(t[IE]=++RZ)}(this)},Gi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function DE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function EN(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var OZ=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ne.addEventListener("test",n,e),ne.removeEventListener("test",n,e)}catch{}return t}();function Xl(t){return/^[\s\xa0]*$/.test(t)}function Wf(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return-1!=Wf().indexOf(t)}function CE(t){return CE[" "](t),t}CE[" "]=function(){};var bE,t,kZ=xr("Opera"),ba=xr("Trident")||xr("MSIE"),wN=xr("Edge"),TE=wN||ba,IN=xr("Gecko")&&!(-1!=Wf().toLowerCase().indexOf("webkit")&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),FZ=-1!=Wf().toLowerCase().indexOf("webkit")&&!xr("Edge");function DN(){var t=ne.document;return t?t.documentMode:void 0}e:{var AE="",SE=(t=Wf(),IN?/rv:([^\);]+)(\)|;)/.exec(t):wN?/Edge\/([\d\.]+)/.exec(t):ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):FZ?/WebKit\/(\S+)/.exec(t):kZ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(SE&&(AE=SE?SE[1]:""),ba){var ME=DN();if(null!=ME&&ME>parseFloat(AE)){bE=String(ME);break e}}bE=AE}var LZ=ne.document&&ba&&(DN()||parseInt(bE,10))||void 0;function Jl(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IN){e:{try{CE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:BZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jl.$.h.call(this)}}Et(Jl,Ht);var BZ={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ec="closure_listenable_"+(1e6*Math.random()|0),jZ=0;function UZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++jZ,this.fa=this.ia=!1}function Kf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function PE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TN(t){const e={};for(const n in t)e[n]=t[n];return e}const bN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<bN.length;s++)n=bN[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qf(t){this.src=t,this.g={},this.h=0}function xE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=vN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function NE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Qf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=NE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new UZ(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var OE="closure_lm_"+(1e6*Math.random()|0),VE={};function SN(t,e,n,r,i){if(r&&r.once)return RN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SN(t,e[s],n,r,i);return null}return n=BE(n),t&&t[ec]?t.O(e,n,Zl(r)?!!r.capture:!!r,i):MN(t,e,n,!1,r,i)}function MN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Zl(i)?!!i.capture:!!i,a=FE(t);if(a||(t[OE]=a=new Qf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function zZ(){const e=HZ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OZ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function RN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)RN(t,e[s],n,r,i);return null}return n=BE(n),t&&t[ec]?t.P(e,n,Zl(r)?!!r.capture:!!r,i):MN(t,e,n,!0,r,i)}function PN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)PN(t,e[s],n,r,i);else r=Zl(r)?!!r.capture:!!r,n=BE(n),t&&t[ec]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=NE(s=t.g[e],n,r,i))&&(Kf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=FE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=NE(e,n,r,i)),(n=-1<t?e[t]:null)&&kE(n))}function kE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ec])xE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=FE(e))?(xE(n,t),0==n.h&&(n.src=null,e[OE]=null)):Kf(t)}}}function xN(t){return t in VE?VE[t]:VE[t]="on"+t}function HZ(t,e){if(t.fa)t=!0;else{e=new Jl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&kE(t),t=n.call(r,e)}return t}function FE(t){return(t=t[OE])instanceof Qf?t:null}var LE="__closure_events_fn_"+(1e9*Math.random()>>>0);function BE(t){return"function"==typeof t?t:(t[LE]||(t[LE]=function(e){return t.handleEvent(e)}),t[LE])}function wt(){Gi.call(this),this.i=new Qf(this),this.S=this,this.J=null}function Ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;AN(e=new Ht(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yf(o,r,!0,e)&&i}if(i=Yf(o=e.g=t,r,!0,e)&&i,i=Yf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Yf(o=e.g=n[s],r,!1,e)&&i}function Yf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&xE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Et(wt,Gi),wt.prototype[ec]=!0,wt.prototype.removeEventListener=function(t,e,n,r){PN(this,t,e,n,r)},wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kf(n[r]);delete t.g[e],t.h--}}this.J=null},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var jE=ne.JSON.stringify;function qZ(){var t=UE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var NN=new class GZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new KZ,t=>t.reset());class KZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function YZ(t){ne.setTimeout(()=>{throw t},0)}let tc,nc=!1,UE=new class WZ{constructor(){this.h=this.g=null}add(e,n){const r=NN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},ON=()=>{const t=ne.Promise.resolve(void 0);tc=()=>{t.then(ZZ)}};var ZZ=()=>{for(var t;t=qZ();){try{t.h.call(t.g)}catch(n){YZ(n)}var e=NN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nc=!1};function Zf(t,e){wt.call(this),this.h=t||1,this.g=e||ne,this.j=zt(this.qb,this),this.l=Date.now()}function $E(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function zE(t,e,n){if("function"==typeof t)n&&(t=zt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zt(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function VN(t){t.g=zE(()=>{t.g=null,t.i&&(t.i=!1,VN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Et(Zf,wt),(N=Zf.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&($E(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Zf.$.N.call(this),$E(this),delete this.g};class XZ extends Gi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VN(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(t){Gi.call(this),this.h=t,this.g={}}Et(rc,Gi);var kN=[];function FN(t,e,n,r){Array.isArray(n)||(n&&(kN[0]=n.toString()),n=kN);for(var i=0;i<n.length;i++){var s=SN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LN(t){PE(t.g,function(e,n){this.g.hasOwnProperty(n)&&kE(e)},t),t.g={}}function Xf(){this.g=!0}function Aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return jE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}rc.prototype.N=function(){rc.$.N.call(this),LN(this)},rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xf.prototype.Ea=function(){this.g=!1},Xf.prototype.info=function(){};var $s={},BN=null;function Jf(){return BN=BN||new wt}function jN(t){Ht.call(this,$s.Ta,t)}function ic(t){const e=Jf();Ot(e,new jN(e))}function UN(t,e){Ht.call(this,$s.STAT_EVENT,t),this.stat=e}function sn(t){const e=Jf();Ot(e,new UN(e,t))}function $N(t,e){Ht.call(this,$s.Ua,t),this.size=e}function sc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}$s.Ta="serverreachability",Et(jN,Ht),$s.STAT_EVENT="statevent",Et(UN,Ht),$s.Ua="timingevent",Et($N,Ht);var ep={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function HE(){}function GN(){}HE.prototype.h=null;var WE,oc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function GE(){Ht.call(this,"d")}function qE(){Ht.call(this,"c")}function tp(){}function ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rc(this),this.P=rX,this.V=new Zf(t=TE?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qN}function qN(){this.i=null,this.g="",this.h=!1}Et(GE,Ht),Et(qE,Ht),Et(tp,HE),tp.prototype.g=function(){return new XMLHttpRequest},tp.prototype.i=function(){return{}},WE=new tp;var rX=45e3,WN={},KE={};function QE(t,e,n){t.L=1,t.A=sp(hi(e)),t.u=n,t.S=!0,KN(t,null)}function KN(t,e){t.G=Date.now(),uc(t),t.B=hi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),iO(n.i,"t",r),t.o=0,n=t.l.J,t.h=new qN,t.g=SO(t.l,n?e:null,!t.u),0<t.O&&(t.M=new XZ(zt(t.Pa,t,t.g),t.O)),FN(t.U,t.g,"readystatechange",t.nb),e=t.I?TN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ic(),function JZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.v,t.B,t.m,t.W,t.u)}function QN(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function YN(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=iX(t,n),i==KE){4==e&&(t.s=4,sn(14),r=!1),Aa(t.j,t.m,null,"[Incomplete Response]");break}if(i==WN){t.s=4,sn(15),Aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Aa(t.j,t.m,i,null),YE(t,i)}QN(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rw(e),e.M=!0,sn(11))):(Aa(t.j,t.m,n,"[Invalid Chunked Response]"),zs(t),lc(t))}function iX(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?KE:(n=Number(e.substring(n,r)),isNaN(n)?WN:(r+=1)+n>e.length?KE:(e=e.slice(r,r+n),t.o=r+n,e))}function uc(t){t.Y=Date.now()+t.P,ZN(t,t.P)}function ZN(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=sc(zt(t.lb,t),e)}function np(t){t.C&&(ne.clearTimeout(t.C),t.C=null)}function lc(t){0==t.l.H||t.J||CO(t.l,t)}function zs(t){np(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,$E(t.V),LN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function YE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ZE(n.i,t)))if(!t.K&&ZE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;dp(n),lp(n)}nw(n),sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=sc(zt(n.ib,n),6e3));if(1>=aO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gs(n,11)}else if((t.K||n.g==t)&&dp(n),!Xl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const c=l[3];null!=c&&(n.ra=c,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(XE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ze(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=AO(r,r.J?r.pa:null,r.Y),o.K){uO(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(np(a),uc(a)),r.g=o}else IO(r);0<n.j.length&&cp(n)}else"stop"!=l[0]&&"close"!=l[0]||Gs(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Gs(n,7):tw(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ic()}catch{}}function XN(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function oX(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function sX(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=ac.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Nr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const c=Nr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||TE||this.g&&(this.h.h||this.g.ja()||mO(this.g)))){this.J||4!=c||7==e||ic(),np(this);var n=this.g.da();this.ca=n;t:if(QN(this)){var r=mO(this.g);t="";var i=r.length,s=4==Nr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),lc(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function eX(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xl(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,sn(12),zs(this),lc(this);break e}Aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YE(this,n)}this.S?(YN(this,c,o),TE&&this.i&&3==c&&(FN(this.U,this.V,"tick",this.mb),this.V.start())):(Aa(this.j,this.m,o,null),YE(this,o)),4==c&&zs(this),this.i&&!this.J&&(4==c?CO(this.l,this):(this.i=!1,uc(this)))}else(function CX(t){const e={};t=(t.g&&2<=Nr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Xl(t[r]))continue;var n=QZ(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function $Z(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),zs(this),lc(this)}}}catch{}},N.mb=function(){if(this.g){var t=Nr(this.g),e=this.g.ja();this.o<e.length&&(np(this),YN(this,t,e),this.i&&4!=t&&uc(this))}},N.cancel=function(){this.J=!0,zs(this)},N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function tX(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ic(),sn(17)),zs(this),this.s=2,lc(this)):ZN(this,this.Y-t)};var JN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hs){this.h=t.h,rp(this,t.j),this.s=t.s,this.g=t.g,ip(this,t.m),this.l=t.l;var e=t.i,n=new hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),eO(this,n),this.o=t.o}else t&&(e=String(t).match(JN))?(this.h=!1,rp(this,e[1]||"",!0),this.s=cc(e[2]||""),this.g=cc(e[3]||"",!0),ip(this,e[4]),this.l=cc(e[5]||"",!0),eO(this,e[6]||"",!0),this.o=cc(e[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}function hi(t){return new Hs(t)}function rp(t,e,n){t.j=n?cc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ip(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eO(t,e,n){e instanceof hc?(t.i=e,function fX(t,e){e&&!t.j&&(qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nO(this,r),iO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=dc(e,dX)),t.i=new hc(e,t.h))}function ze(t,e,n){t.i.set(e,n)}function sp(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,uX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dc(e,tO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(dc(e,tO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(dc(n,"/"==n.charAt(0)?cX:lX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dc(n,hX)),t.join("")};var tO=/[#\/\?@]/g,lX=/[#\?:]/g,cX=/[#\?]/g,dX=/[#\?@]/g,hX=/#/g;function hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qi(t){t.g||(t.g=new Map,t.h=0,t.i&&function aX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nO(t,e){qi(t),e=Sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rO(t,e){return qi(t),e=Sa(t,e),t.g.has(e)}function iO(t,e,n){nO(t,e),0<n.length&&(t.i=null,t.g.set(Sa(t,e),DE(n)),t.h+=n.length)}function Sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sO(t){this.l=t||gX,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=hc.prototype).add=function(t,e){qi(this),this.i=null,t=Sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){qi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){qi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){qi(this);let e=[];if("string"==typeof t)rO(this,t)&&(e=e.concat(this.g.get(Sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return qi(this),this.i=null,rO(this,t=Sa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var gX=10;function oO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function aO(t){return t.h?1:t.g?t.g.size:0}function ZE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function XE(t,e){t.g?t.g.add(e):t.h=e}function uO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return DE(t.i)}sO.prototype.cancel=function(){if(this.i=lO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mX=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function yX(){this.g=new mX}function _X(t,e,n){const r=n||"";try{XN(t,function(i,s){let o=i;Zl(i)&&(o=jE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function op(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fc(t){this.l=t.ec||null,this.j=t.ob||!1}function ap(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=JE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(fc,HE),fc.prototype.g=function(){return new ap(this.l,this.j)},fc.prototype.i=function(t){return function(){return t}}({}),Et(ap,wt);var JE=0;function cO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=ap.prototype).open=function(t,e){if(this.readyState!=JE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pc(this)),this.readyState=JE},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pc(this):gc(this),3==this.readyState&&cO(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,pc(this))},N.Ya=function(t){this.g&&(this.response=t,pc(this))},N.ka=function(){this.g&&pc(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ap.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var EX=ne.JSON.parse;function et(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dO,this.L=this.M=!1}Et(et,wt);var dO="",wX=/^https?$/i,IX=["POST","PUT"];function hO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fO(t),up(t)}function fO(t){t.F||(t.F=!0,Ot(t,"complete"),Ot(t,"error"))}function pO(t){if(t.h&&typeof wE<"u"&&(!t.C[1]||4!=Nr(t)||2!=t.da()))if(t.v&&4==Nr(t))zE(t.La,0,t);else if(Ot(t,"readystatechange"),4==Nr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(JN)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!wX.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var s=2<Nr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",fO(t)}}finally{up(t)}}}function up(t,e){if(t.g){gO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function gO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function Nr(t){return t.g?t.g.readyState:0}function mO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function yO(t){let e="";return PE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ew(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ze(t,e,n))}function mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _O(t){this.Ga=0,this.j=[],this.l=new Xf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mc("baseRetryDelayMs",5e3,t),this.hb=mc("retryDelaySeedMs",1e4,t),this.eb=mc("forwardChannelMaxRetries",2,t),this.xa=mc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sO(t&&t.concurrentRequestLimit),this.Ja=new yX,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tw(t){if(vO(t),3==t.H){var e=t.W++,n=hi(t.I);if(ze(n,"SID",t.K),ze(n,"RID",e),ze(n,"TYPE","terminate"),yc(t,n),(e=new ac(t,t.l,e)).L=2,e.A=sp(hi(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.A,n=!0),n||(e.g=SO(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uc(e)}bO(t)}function lp(t){t.g&&(rw(t),t.g.cancel(),t.g=null)}function vO(t){lp(t),t.u&&(ne.clearTimeout(t.u),t.u=null),dp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function cp(t){if(!oO(t.i)&&!t.m){t.m=!0;var e=t.Na;tc||ON(),nc||(tc(),nc=!0),UE.add(e,t),t.C=0}}function EO(t,e){var n;n=e?e.m:t.W++;const r=hi(t.I);ze(r,"SID",t.K),ze(r,"RID",n),ze(r,"AID",t.V),yc(t,r),t.o&&t.s&&ew(r,t.o,t.s),n=new ac(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),XE(t.i,n),QE(n,r,e)}function yc(t,e){t.na&&PE(t.na,function(n,r){ze(e,r,n)}),t.h&&XN({},function(n,r){ze(e,r,n)})}function wO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{_X(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tc||ON(),nc||(tc(),nc=!0),UE.add(e,t),t.A=0}}function nw(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=sc(zt(t.Ma,t),TO(t,t.A)),t.A++,0))}function rw(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function DO(t){t.g=new ac(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);ze(e,"RID","rpc"),ze(e,"SID",t.K),ze(e,"AID",t.V),ze(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ze(e,"TO",t.qa),ze(e,"TYPE","xmlhttp"),yc(t,e),t.o&&t.s&&ew(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=sp(hi(e)),n.u=null,n.S=!0,KN(n,t)}function dp(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function CO(t,e){var n=null;if(t.g==e){dp(t),rw(t),t.g=null;var r=2}else{if(!ZE(t.i,e))return;n=e.F,uO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Ot(r=Jf(),new $N(r,n)),cp(t)}else IO(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function TX(t,e){return!(aO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=sc(zt(t.Na,t,e),TO(t,t.C)),t.C++,0)))}(t,e)||2==r&&nw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}function TO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=zt(t.pb,t);n||(n=new Hs("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||rp(n,"https"),sp(n)),function vX(t,e){const n=new Xf;if(ne.Image){const r=new Image;r.onload=qf(op,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qf(op,n,r,"TestLoadImage: error",!1,e),r.onabort=qf(op,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qf(op,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.H=0,t.h&&t.h.za(e),bO(t),vO(t)}function bO(t){if(t.H=0,t.ma=[],t.h){const e=lO(t.i);(0!=e.length||0!=t.j.length)&&(EN(t.ma,e),EN(t.ma,t.j),t.i.i.length=0,DE(t.j),t.j.length=0),t.h.ya()}}function AO(t,e,n){var r=n instanceof Hs?hi(n):new Hs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ip(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hs(null);r&&rp(s,r),e&&(s.g=e),i&&ip(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ze(r,n,e),ze(r,"VER",t.ra),yc(t,r),r}function SO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(t.Ha&&!t.va?new fc({ob:n}):t.va)).Oa(t.J),e}function MO(){}function hp(){if(ba&&!(10<=Number(LZ)))throw Error("Environmental error: no available transport.")}function On(t,e){wt.call(this),this.g=new _O(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ma(this)}function RO(t){GE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function PO(){qE.call(this),this.status=1}function Ma(t){this.g=t}function fr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iw(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=et.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():WE.g(),this.C=function HN(t){return t.h||(t.h=t.i())}(this.u?this.u:WE),this.g.onreadystatechange=zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void hO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=vN(IX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gO(this),0<this.B&&((this.L=function DX(t){return ba&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.ua,this)):this.A=zE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hO(this,s)}},N.ua=function(){typeof wE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),up(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),up(this,!0)),et.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?pO(this):this.kb())},N.kb=function(){pO(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),EX(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=_O.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ac(this,this.l,t);let s=this.s;if(this.U&&(s?(s=TN(s),AN(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wO(this,i,e),ze(n=hi(this.I),"RID",t),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),yc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(yO(s)))+"&"+e:this.o&&ew(n,this.o,s)),XE(this.i,i),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",e),ze(n,"SID","null"),i.aa=!0,QE(i,n,null)):QE(i,n,e),this.H=2}}else 3==this.H&&(t?EO(this,t):0==this.j.length||oO(this.i)||EO(this))},N.Ma=function(){if(this.u=null,DO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sc(zt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sn(10),lp(this),DO(this))},N.ib=function(){null!=this.v&&(this.v=null,lp(this),nw(this),sn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sn(2)):(this.l.info("Failed to ping google.com"),sn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=MO.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},hp.prototype.g=function(t,e){return new On(t,e)},Et(On,wt),On.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AO(t,null,t.Y),cp(t)},On.prototype.close=function(){tw(this.g)},On.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=jE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&cp(e)},On.prototype.N=function(){this.g.h=null,delete this.j,tw(this.g),delete this.g,On.$.N.call(this)},Et(RO,GE),Et(PO,qE),Et(Ma,MO),Ma.prototype.Ba=function(){Ot(this.g,"a")},Ma.prototype.Aa=function(t){Ot(this.g,new RO(t))},Ma.prototype.za=function(t){Ot(this.g,new PO)},Ma.prototype.ya=function(){Ot(this.g,"b")},Et(fr,function bX(){this.blockSize=-1}),fr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)iw(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){iw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){iw(this,r),i=0;break}}this.h=i,this.i+=e},fr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var AX={};function sw(t){return-128<=t&&128>t?function VZ(t,e){var n=AX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ae([0|e],0>e?-1:0)}):new Ae([0|t],0>t?-1:0)}function Or(t){if(isNaN(t)||!isFinite(t))return Ra;if(0>t)return Vt(Or(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ow;return new Ae(e,0)}var ow=4294967296,Ra=sw(0),aw=sw(1),NO=sw(16777216);function fi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Zn(t){return-1==t.h}function Vt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(aw)}function fp(t,e){return t.add(Vt(e))}function pp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _c(t,e){this.g=t,this.h=e}function gp(t,e){if(fi(e))throw Error("division by zero");if(fi(t))return new _c(Ra,Ra);if(Zn(t))return e=gp(Vt(t),e),new _c(Vt(e.g),Vt(e.h));if(Zn(e))return e=gp(t,Vt(e)),new _c(Vt(e.g),e.h);if(30<t.g.length){if(Zn(t)||Zn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=aw,r=e;0>=r.X(t);)n=OO(n),r=OO(r);var i=Pa(n,1),s=Pa(r,1);for(r=Pa(r,2),n=Pa(n,2);!fi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Pa(r,1),n=Pa(n,1)}return e=fp(t,i.R(e)),new _c(i,e)}for(i=Ra;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Or(n)).R(e);Zn(o)||0<o.X(t);)o=(s=Or(n-=r)).R(e);fi(s)&&(s=aw),i=i.add(s),t=fp(t,o)}return new _c(i,t)}function OO(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function Pa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}(N=Ae.prototype).ea=function(){if(Zn(this))return-Vt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ow+r)*e,e*=ow}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(fi(this))return"0";if(Zn(this))return"-"+Vt(this).toString(t);for(var e=Or(Math.pow(t,6)),n=this,r="";;){var i=gp(n,e).g,s=((0<(n=fp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(fi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Zn(t=fp(this,t))?-1:fi(t)?0:1},N.abs=function(){return Zn(this)?Vt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ae(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(fi(this)||fi(t))return Ra;if(Zn(this))return Zn(t)?Vt(this).R(Vt(t)):Vt(Vt(this).R(t));if(Zn(t))return Vt(this.R(Vt(t)));if(0>this.X(NO)&&0>t.X(NO))return Or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,pp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,pp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)},N.gb=function(t){return gp(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)},hp.prototype.createWebChannel=hp.prototype.g,On.prototype.send=On.prototype.u,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,zN.COMPLETE="complete",GN.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",wt.prototype.listen=wt.prototype.O,et.prototype.listenOnce=et.prototype.P,et.prototype.getLastError=et.prototype.Sa,et.prototype.getLastErrorCode=et.prototype.Ia,et.prototype.getStatus=et.prototype.da,et.prototype.getResponseJson=et.prototype.Wa,et.prototype.getResponseText=et.prototype.ja,et.prototype.send=et.prototype.ha,et.prototype.setWithCredentials=et.prototype.Oa,fr.prototype.digest=fr.prototype.l,fr.prototype.reset=fr.prototype.reset,fr.prototype.update=fr.prototype.j,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.R,Ae.prototype.modulo=Ae.prototype.gb,Ae.prototype.compare=Ae.prototype.X,Ae.prototype.toNumber=Ae.prototype.ea,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.D,Ae.fromNumber=Or,Ae.fromString=function xO(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Vt(xO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Or(Math.pow(e,8)),r=Ra,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Or(Math.pow(e,s)),r=r.R(s).add(Or(o))):r=(r=r.R(n)).add(Or(o))}return r};var SX=hr.createWebChannelTransport=function(){return new hp},MX=hr.getStatEventTarget=function(){return Jf()},uw=hr.ErrorCode=ep,RX=hr.EventType=zN,PX=hr.Event=$s,VO=hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mp=(hr.FetchXmlHttpFactory=fc,hr.WebChannel=GN),xX=hr.XhrIo=et,NX=hr.Md5=fr,xa=hr.Integer=Ae;const kO="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Na="10.7.2";const Wi=new lE("@firebase/firestore");function Oa(){return Wi.logLevel}function b(t,...e){if(Wi.logLevel<=ye.DEBUG){const n=e.map(lw);Wi.debug(`Firestore (${Na}): ${t}`,...n)}}function st(t,...e){if(Wi.logLevel<=ye.ERROR){const n=e.map(lw);Wi.error(`Firestore (${Na}): ${t}`,...n)}}function Vn(t,...e){if(Wi.logLevel<=ye.WARN){const n=e.map(lw);Wi.warn(`Firestore (${Na}): ${t}`,...n)}}function lw(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function j(t,e){t||k()}function P(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class FO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class VX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kX{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(S(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new FO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new It(e)}}class FX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.R=n.token,new LO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class BO{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=jX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function Va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${constructor(e){this.timestamp=e}static fromTimestamp(e){return new $(e)}static min(){return new $(new Qe(0,0))}static max(){return new $(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vc{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===vc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends vc{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const UX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends vc{construct(e,n,r){return new qe(e,n,r)}static isValidIdentifier(e){return UX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(n)}static emptyPath(){return new qe([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(de.fromString(e))}static fromName(e){return new x(de.fromString(e).popFirst(5))}static empty(){return new x(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new de(e.slice()))}}function $O(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn($.min(),x.empty(),-1)}static max(){return new kn($.max(),x.empty(),-1)}}function dw(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const zO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ki(t){return hw.apply(this,arguments)}function hw(){return hw=S(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==zO)throw t;b("LocalStore","Unexpectedly lost primary lease")}),hw.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class yp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new yt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ec(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=fw(r.target.error);this.V.reject(new Ec(e,i))}}static open(e,n,r,i){try{return new yp(n,e.transaction(i,r))}catch(s){throw new Ec(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new qX(n)}}class Xn{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Xn.S(Ui())&&st("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),Ks(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!sE())return!1;if(Xn.C())return!0;const e=Ui(),n=Xn.S(e),r=0<n&&n<10,i=Xn.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return S(function*(){return n.db||(b("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Ec(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new A(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new A(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ec(e,a))},s.onupgradeneeded=o=>{b("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{b("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return S(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=yp.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(c=>(u.g(),c)).catch(c=>(u.abort(c),v.reject(c))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,c="FirebaseError"!==l.name&&a<3;if(b("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),!c)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ks(this.k.delete())}}class Ec extends A{constructor(e,n){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Qi(t){return"IndexedDbTransactionError"===t.name}class qX{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(b("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ks(r)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),Ks(this.store.add(e))}get(e){return Ks(this.store.get(e)).next(n=>(void 0===n&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),Ks(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),Ks(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new v((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new v((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new v((r,i)=>{n.onerror=s=>{const o=fw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new v((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new GX(a),l=n(a.primaryKey,a.value,u);if(l instanceof v){const c=l.catch(d=>(u.done(),v.reject(d)));r.push(c)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>v.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ks(t){return new v((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=fw(r.target.error);n(i)}})}let HO=!1;function fw(t){const e=Xn.S(Ui());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HO||(HO=!0,setTimeout(()=>{throw r},0)),r}}return t}let Fn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function wc(t){return null==t}function Ic(t){return 0===t&&1/t==-1/0}function XO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ue{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vp(this.root,e,this.comparator,!0)}}class vp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1,kt.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eV(this.data.getIterator())}getIteratorFrom(e){return new eV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class eV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new _n([])}unionWith(e){let n=new xe(qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class tV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tV("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const fJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(j(!!t),"string"==typeof t){let e=0;const n=fJ.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function pi(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}function Ep(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wp(t){const e=t.mapValue.fields.__previous_value__;return Ep(e)?wp(e):e}function Dc(t){const e=Zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class pJ{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qs&&e.projectId===this.projectId&&e.database===this.database}}const Xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ep(t)?4:sV(t)?9007199254740991:10:k()}function kr(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zi(i.timestampValue),a=Zi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,pi(t.bytesValue).isEqual(pi(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return tt(i.geoPointValue.latitude)===tt(s.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return tt(i.integerValue)===tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tt(i.doubleValue),a=tt(s.doubleValue);return o===a?Ic(o)===Ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XO(o)!==XO(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!kr(o[u],a[u])))return!1;return!0}(t,e);default:return k()}var s}function Cc(t,e){return void 0!==(t.values||[]).find(n=>kr(n,e))}function es(t,e){if(t===e)return 0;const n=Ji(t),r=Ji(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tt(s.integerValue||s.doubleValue),u=tt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return nV(t.timestampValue,e.timestampValue);case 4:return nV(Dc(t),Dc(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(s,o){const a=pi(s),u=pi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=J(a[l],u[l]);if(0!==c)return c}return J(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=J(tt(s.latitude),tt(o.latitude));return 0!==a?a:J(tt(s.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=es(a[l],u[l]);if(c)return c}return J(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Xi.mapValue&&o===Xi.mapValue)return 0;if(s===Xi.mapValue)return 1;if(o===Xi.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const h=J(u[d],c[d]);if(0!==h)return h;const f=es(a[u[d]],l[c[d]]);if(0!==f)return f}return J(u.length,c.length)}(t.mapValue,e.mapValue);default:throw k()}}function nV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=Zi(t),r=Zi(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function Ba(t){return gw(t)}function gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?pi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=gw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${gw(n.fields[o])}`;return i+"}"}(t.mapValue):k()}function mw(t){return!!t&&"integerValue"in t}function Tc(t){return!!t&&"arrayValue"in t}function rV(t){return!!t&&"nullValue"in t}function iV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cp(t){return!!t&&"mapValue"in t}function bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(bc(this.value))}}function uV(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new qe([n]);if(Cp(r)){const s=uV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}class He{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,$.min(),$.min(),$.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new He(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new He(e,2,n,$.min(),$.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,$.min(),$.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ts{constructor(e,n){this.position=e,this.inclusive=n}}function lV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):es(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function cV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function yJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class dV{}class he extends dV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new _J(e,n,r):"array-contains"===n?new wJ(e,r):"in"===n?new yV(e,r):"not-in"===n?new IJ(e,r):"array-contains-any"===n?new DJ(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new vJ(e,r):new EJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(es(n,this.value)):null!==n&&Ji(this.value)===Ji(n)&&this.matchesComparison(es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Se extends dV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Se(e,n)}matches(e){return ja(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ja(t){return"and"===t.op}function _w(t){return function hV(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&ja(t)}function vw(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(_w(t))return t.filters.map(e=>vw(e)).join(",");{const e=t.filters.map(n=>vw(n)).join(",");return`${t.op}(${e})`}}function fV(t,e){return t instanceof he?(r=t,(i=e)instanceof he&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)):t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&fV(o,i.filters[a]),!0)}(t,e):void k();var r,i}function gV(t){return t instanceof he?`${(n=t).field.canonicalString()} ${n.op} ${Ba(n.value)}`:t instanceof Se?function(n){return n.op.toString()+" {"+n.getFilters().map(gV).join(" ,")+"}"}(t):"Filter";var n}class _J extends he{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class vJ extends he{constructor(e,n){super(e,"in",n),this.keys=mV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EJ extends he{constructor(e,n){super(e,"not-in",n),this.keys=mV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class wJ extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tc(n)&&Cc(n.arrayValue,this.value)}}class yV extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cc(this.value.arrayValue,n)}}class IJ extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cc(this.value.arrayValue,n)}}class DJ extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}class CJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Ew(t,e=null,n=[],r=[],i=null,s=null,o=null){return new CJ(t,e,n,r,i,s,o)}function Zs(t){const e=P(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),wc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.ce=n}return e.ce}function Sc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cV(t.startAt,e.startAt)&&cV(t.endAt,e.endAt)}function Tp(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class gi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Ua(t){return new gi(t)}function wV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function $a(t){const e=P(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xe(qe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ac(s,r))}),n.has(qe.keyField().canonicalString())||e.le.push(new Ac(qe.keyField(),r))}return e.le}function on(t){const e=P(t);return e.he||(e.he=function IV(t,e){if("F"===t.limitType)return Ew(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ac(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ts(t.startAt.position,t.startAt.inclusive):null;return Ew(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,$a(t))),e.he}function Ap(t,e,n){return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mc(t,e){return Sc(on(t),on(e))&&t.limitType===e.limitType}function DV(t){return`${Zs(on(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gV(i)).join(", ")}]`),wc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function Rc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of $a(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const l=lV(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,$a(r),i)||r.endAt&&!function(o,a,u){const l=lV(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,$a(r),i)));var r,i}function TV(t){return(e,n)=>{let r=!1;for(const i of $a(t)){const s=TJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function TJ(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return null!==u&&null!==l?es(u,l):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JO(this.inner)}size(){return this.innerSize}}const bJ=new Ue(x.comparator);function vn(){return bJ}const bV=new Ue(x.comparator);function Pc(...t){let e=bV;for(const n of t)e=e.insert(n.key,n);return e}function AV(t){let e=bV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fr(){return xc()}function SV(){return xc()}function xc(){return new mi(t=>t.toString(),(t,e)=>t.isEqual(e))}const AJ=new Ue(x.comparator),SJ=new xe(x.comparator);function ue(...t){let e=SJ;for(const n of t)e=e.add(n);return e}const MJ=new xe(J);function MV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function RV(t){return{integerValue:""+t}}function PV(t,e){return function GO(t){return"number"==typeof t&&Number.isInteger(t)&&!Ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?RV(e):MV(t,e)}class Sp{constructor(){this._=void 0}}function RJ(t,e,n){return t instanceof Ha?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ep(s)&&(s=wp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xs?NV(t,e):t instanceof Js?OV(t,e):function(i,s){const o=xV(i,s),a=VV(o)+VV(i.Ie);return mw(o)&&mw(i.Ie)?RV(a):MV(i.serializer,a)}(t,e)}function PJ(t,e,n){return t instanceof Xs?NV(t,e):t instanceof Js?OV(t,e):n}function xV(t,e){return t instanceof Ga?mw(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Ha extends Sp{}class Xs extends Sp{constructor(e){super(),this.elements=e}}function NV(t,e){const n=kV(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Js extends Sp{constructor(e){super(),this.elements=e}}function OV(t,e){let n=kV(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class Ga extends Sp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function VV(t){return tt(t.integerValue||t.doubleValue)}function kV(t){return Tc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class NJ{constructor(e,n){this.version=e,this.transformResults=n}}class We{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new We}static exists(e){return new We(void 0,e)}static updateTime(e){return new We(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Rp{}function FV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Wa(t.key,We.none()):new qa(t.key,t.data,We.none());{const n=t.data,r=Ft.empty();let i=new xe(qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new yi(t.key,r,new _n(i.toArray()),We.none())}}function OJ(t,e,n){t instanceof qa?function(i,s,o){const a=i.value.clone(),u=jV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yi?function(i,s,o){if(!Mp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=jV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(BV(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Oc(t,e,n,r){return t instanceof qa?function(s,o,a,u){if(!Mp(s.precondition,o))return a;const l=s.value.clone(),c=UV(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof yi?function(s,o,a,u){if(!Mp(s.precondition,o))return a;const l=UV(s.fieldTransforms,u,o),c=o.data;return c.setAll(BV(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Mp(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function VJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xV(r.transform,i||null);null!=s&&(null===n&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function LV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Va(r,i,(s,o)=>function xJ(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Xs&&i instanceof Xs||r instanceof Js&&i instanceof Js?Va(r.elements,i.elements,kr):r instanceof Ga&&i instanceof Ga?kr(r.Ie,i.Ie):r instanceof Ha&&i instanceof Ha);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class qa extends Rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yi extends Rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jV(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,PJ(o,a,n[i]))}return r}function UV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RJ(s,o,e))}return r}class Wa extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cw extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=FV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>LV(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>LV(n,r))}}class bw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=AJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bw(e,n,r,i)}}class Aw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class FJ{constructor(e,n){this.count=e,this.unchangedNames=n}}var ht,me;function zV(t){if(void 0===t)return st("GRPC error has no .code"),E.UNKNOWN;switch(t){case ht.OK:return E.OK;case ht.CANCELLED:return E.CANCELLED;case ht.UNKNOWN:return E.UNKNOWN;case ht.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ht.INTERNAL:return E.INTERNAL;case ht.UNAVAILABLE:return E.UNAVAILABLE;case ht.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ht.NOT_FOUND:return E.NOT_FOUND;case ht.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ht.ABORTED:return E.ABORTED;case ht.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ht.DATA_LOSS:return E.DATA_LOSS;default:return k()}}(me=ht||(ht={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";const LJ=new xa([4294967295,4294967295],0);function GV(t){const e=function HV(){return new TextEncoder}().encode(t),n=new NX;return n.update(e),new Uint8Array(n.digest())}function qV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xa([n,r],0),new xa([i,s],0)]}class Sw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Vc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=xa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(xa.fromNumber(r)));return 1===i.compare(LJ)&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=GV(e),[r,i]=qV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Sw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=GV(e),[r,i]=qV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kc($.min(),i,new Ue(J),vn(),ue())}}class Fc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fc(r,n,ue(),ue(),ue())}}class xp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class WV{constructor(e,n){this.targetId=e,this.fe=n}}class KV{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QV{constructor(){this.ge=0,this.pe=ZV(),this.ye=_t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new Fc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ZV()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,j(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class BJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=vn(),this.Qe=YV(),this.Ke=new Ue(J)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Tp(s))if(0===r){const o=new x(s.path);this.We(n,o,He.newNoDocument(o,$.min()))}else j(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=pi(r).toUint8Array()}catch(u){if(u instanceof tV)return Vn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Sw(o,i,s)}catch(u){return Vn(u instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Tp(a.target)){const u=new x(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,He.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new kc(e,n,this.Ke,this.qe,r);return this.qe=vn(),this.Qe=YV(),this.Ke=new Ue(J),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new QV,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xe(J),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new QV),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function YV(){return new Ue(x.comparator)}function ZV(){return new Ue(x.comparator)}const jJ={asc:"ASCENDING",desc:"DESCENDING"},UJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$J={and:"AND",or:"OR"};class zJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mw(t,e){return t.useProto3Json||wc(e)?e:{value:e}}function Ka(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HJ(t,e){return Ka(t,e.toTimestamp())}function ot(t){return j(!!t),$.fromTimestamp(function(n){const r=Zi(n);return new Qe(r.seconds,r.nanos)}(t))}function Rw(t,e){return Pw(t,e).canonicalString()}function Pw(t,e){const n=(i=t,new de(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function JV(t){const e=de.fromString(t);return j(lk(e)),e}function Lc(t,e){return Rw(t.databaseId,e.path)}function Lr(t,e){const n=JV(e);if(n.get(1)!==t.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(nk(n))}function ek(t,e){return Rw(t.databaseId,e)}function xw(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nk(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rk(t,e,n){return{name:Lc(t,e),fields:n.value.mapValue.fields}}function sk(t,e){return{documents:[ek(t,e.path)]}}function Ow(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ek(t,i);const s=function(l){if(0!==l.length)return uk(Se.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:ns((h=c).field),direction:QJ(h.dir)};var h})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mw(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:i};var l}function ok(t){let e=function tk(t){const e=JV(t);return 4===e.length?de.emptyPath():nk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=ak(d);return h instanceof Se&&_w(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>{return new Ac(Qa((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,wc(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new ts((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new ts(d.values||[],!d.before)}(n.endAt)),function EV(t,e,n,r,i,s,o,a){return new gi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function ak(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return he.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(n.unaryFilter.field);return he.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qa(n.unaryFilter.field);return he.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qa(n.unaryFilter.field);return he.create(o,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?he.create(Qa((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Se.create(n.compositeFilter.filters.map(r=>ak(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return k()}}(n.compositeFilter.op))}(t):k();var n}function QJ(t){return jJ[t]}function YJ(t){return UJ[t]}function ZJ(t){return $J[t]}function ns(t){return{fieldPath:t.canonicalString()}}function Qa(t){return qe.fromServerFormat(t.fieldPath)}function uk(t){return t instanceof he?function(n){if("=="===n.op){if(iV(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(rV(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(iV(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(rV(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:YJ(n.op),value:n.value}}}(t):t instanceof Se?function(n){const r=n.getFilters().map(i=>uk(i));return 1===r.length?r[0]:{compositeFilter:{op:ZJ(n.op),filters:r}}}(t):k()}function XJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class _i{constructor(e,n,r,i,s=$.min(),o=$.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ck{constructor(e){this.ct=e}}function Vw(t){const e=ok({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ap(e,e.limit,"L"):e}class ro{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ic(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(pi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?sV(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):k()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),x.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}ro.bt=new ro;class oee{constructor(){this._n=new Uw}addToCollectionParentIndex(e,n){return this._n.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(kn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class Uw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(de.comparator)).toArray()}}new Uint8Array(0);class qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);class so{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new so(0)}static Bn(){return new so(-1)}}class hee{constructor(){this.changes=new mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Fk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Oc(r.mutation,i,_n.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vn();const o=xc(),a=xc();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof yi)?s=s.insert(l.key,l):void 0!==c?(o.set(l.key,c.mutation.getFieldMask()),Oc(c.mutation,l,c.mutation.getFieldMask(),Qe.now())):o.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new gee(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xc();let i=new Ue((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let c=r.get(u)||_n.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=SV();c.forEach(h=>{if(!s.has(h)){const f=FV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return x.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ww(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Fr());let a=-1,u=s;return o.next(l=>v.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?v.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(c=>({batchId:a,changes:AV(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Pc();return this.indexManager.getCollectionParents(e,s).next(a=>v.forEach(a,u=>{const l=(d=n,h=u.child(s),new gi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,He.newInvalidDocument(c)))});let a=Pc();return o.forEach((u,l)=>{const c=s.get(u);void 0!==c&&Oc(c.mutation,l,_n.empty(),Qe.now()),Rc(n,l)&&(a=a.insert(u,l))}),a})}}class mee{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return v.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:ot(i.createTime)}),v.resolve();var i}getNamedQuery(e,n){return v.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:Vw(i.bundledQuery),readTime:ot(i.readTime)}),v.resolve();var i}}class yee{constructor(){this.overlays=new Ue(x.comparator),this.hr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Fr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Fr(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Fr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return v.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Aw(n,r));let s=this.hr.get(n);void 0===s&&(s=ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}class $w{constructor(){this.Pr=new xe(Ct.Ir),this.Tr=new xe(Ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ct(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new x(new de([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new x(new de([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return x.comparator(e.key,n.key)||J(e.pr,n.pr)}static Er(e,n){return J(e.pr,n.pr)||x.comparator(e.key,n.key)}}class _ee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xe(Ct.Ir)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++;const o=new Tw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(J);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),v.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new x(s),0);let a=new xe(J);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),v.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return v.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ct(n,0),i=this.wr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vee{constructor(e){this.vr=e,this.docs=new Ue(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():He.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dw($O(c),r)<=0||(i.has(c.key)||Rc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Fr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Eee(this)}getSize(e){return v.resolve(this.size)}}class Eee extends hee{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class wee{constructor(e){this.persistence=e,this.Mr=new mi(n=>Zs(n),Sc),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Or=0,this.Nr=new $w,this.targetCount=0,this.Br=so.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),v.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.qn(n),v.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Nr.containsKey(n))}}class zw{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Fn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new wee(this),this.indexManager=new oee,this.remoteDocumentCache=new vee(r=>this.referenceDelegate.Kr(r)),this.serializer=new ck(n),this.$r=new mee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new _ee(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new Iee(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return v.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Iee extends HX{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.zr=new $w,this.jr=null}static Hr(e){return new jp(e)}get Jr(){if(this.jr)return this.jr;throw k()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),v.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Jr,r=>{const i=x.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,$.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return v.or([()=>v.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Ww{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ww(e,n.fromCache,r,i)}}class Cee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function dY(){return!function lY(){var t;const e=null===(t=Bf())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:Xn.v(Ui())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Cee;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Oa()<=ye.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),v.resolve()):(Oa()<=ye.DEBUG&&b("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Oa()<=ye.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):v.resolve())}ji(e,n){if(wV(n))return v.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ap(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,Ap(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return wV(n)||i.isEqual($.min())?v.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?v.resolve(null):(Oa()<=ye.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.es(e,o,n,function UO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new kn(i,x.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,n){let r=new xe(TV(e));return n.forEach((i,s)=>{Rc(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Oa()<=ye.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",za(n)),this.zi.getDocumentsMatchingQuery(e,n,kn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Tee{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ue(J),this.rs=new mi(s=>Zs(s),Sc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Uk(t,e){return Kw.apply(this,arguments)}function Kw(){return Kw=S(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}),Kw.apply(this,arguments)}function $k(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function See(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tu(t,e,n){return Qw.apply(this,arguments)}function Qw(){return Qw=S(function*(t,e,n){const r=P(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Qi(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),Qw.apply(this,arguments)}function zp(t,e,n){const r=P(t);let i=$.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const d=P(u),h=d.rs.get(c);return void 0!==h?v.resolve(d.ns.get(h)):d.Qr.getTargetData(l,c)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:$.min(),n?s:ue())).next(a=>(function qk(t,e,n){let r=t.ss.get(e)||$.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}(r,function CV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,hs:s})))}class eI{constructor(){this.activeTargetIds=function Dw(){return MJ}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qk{constructor(){this.no=new eI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new eI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pee{io(e){}shutdown(){}}class Yk{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qp=null;function nI(){return null===qp?qp=268435456+Math.round(2147483648*Math.random()):qp++,"0x"+qp.toString(16)}const xee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nee{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Wt="WebChannelConnection";class Oee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=nI(),u=this.bo(n,r.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(b("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Vn("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Na,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){return`${this.fo}/v1/${r}:${xee[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=nI();return new Promise((o,a)=>{const u=new xX;u.setWithCredentials(!0),u.listenOnce(RX.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uw.NO_ERROR:const c=u.getResponseJson();b(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case uw.TIMEOUT:b(Wt,`RPC '${e}' ${s} timed out`),a(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case uw.HTTP_ERROR:const d=u.getStatus();if(b(Wt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(_)>=0?_:E.UNKNOWN}(f.status);a(new A(p,f.message))}else a(new A(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new A(E.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{b(Wt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);b(Wt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(e,n,r){const i=nI(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SX(),a=MX(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");b(Wt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,f=!1;const p=new Nee({lo:m=>{f?b(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(b(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(Wt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),g=(m,_,y)=>{m.listen(_,I=>{try{y(I)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,mp.EventType.OPEN,()=>{f||b(Wt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,mp.EventType.CLOSE,()=>{f||(f=!0,b(Wt,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,mp.EventType.ERROR,m=>{f||(f=!0,Vn(Wt,`RPC '${e}' stream ${i} transport errored:`,m),p.Vo(new A(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,mp.EventType.MESSAGE,m=>{var _;if(!f){const y=m.data[0];j(!!y);const T=y.error||(null===(_=y[0])||void 0===_?void 0:_.error);if(T){b(Wt,`RPC '${e}' stream ${i} received error:`,T);const V=T.status;let G=function(ln){const En=ht[ln];if(void 0!==En)return zV(En)}(V),re=T.message;void 0===G&&(G=E.INTERNAL,re="Unknown error status: "+V+" with message "+T.message),f=!0,p.Vo(new A(G,re)),d.close()}else b(Wt,`RPC '${e}' stream ${i} received:`,y),p.mo(y)}}),g(a,PX.STAT_EVENT,m=>{m.stat===VO.PROXY?b(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===VO.NOPROXY&&b(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function Wp(){return typeof document<"u"?document:null}function Wc(t){return new zJ(t,!0)}class rI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Xk{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new rI(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return S(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return S(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return S(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new A(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(S(function*(){e.state=0,e.start()}))}__(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vee extends Xk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function qJ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:k(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(j(void 0===c||"string"==typeof c),_t.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),_t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:zV(l.code);return new A(c,l.message||"")}(o);n=new KV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Lr(t,r.document.name),s=ot(r.document.updateTime),o=r.document.createTime?ot(r.document.createTime):$.min(),a=new Ft({mapValue:{fields:r.document.fields}}),u=He.newFoundDocument(i,s,o,a);n=new xp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Lr(t,r.document),s=r.readTime?ot(r.readTime):$.min(),o=He.newNoDocument(i,s);n=new xp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Lr(t,r.document);n=new xp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new FJ(i,s);n=new WV(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return $.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$.min():o.readTime?ot(o.readTime):$.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=xw(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Tp(u)?{documents:sk(s,u)}:{query:Ow(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XV(s,o.resumeToken);const l=Mw(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo($.min())>0){a.readTime=Ka(s,o.snapshotVersion.toTimestamp());const l=Mw(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function KJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=xw(this.serializer),n.removeTarget=e,this.t_(n)}}class kee extends Xk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function WJ(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(i,s){let o=ot(i.updateTime?i.updateTime:s);return o.isEqual($.min())&&(o=ot(s)),new NJ(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.T_(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=xw(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Bc(t,e){let n;if(e instanceof qa)n={update:rk(t,e.key,e.value)};else if(e instanceof Wa)n={delete:Lc(t,e.key)};else if(e instanceof yi)n={update:rk(t,e.key,e.data),updateMask:XJ(e.fieldMask)};else{if(!(e instanceof Cw))return k();n={verify:Lc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Js)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:HJ(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:k()),n;var s}(this.serializer,r))};this.t_(n)}}class Fee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Pw(n,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(E.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Pw(n,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(E.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Bee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(st(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class jee{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(S(function*(){var u;os(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=S(function*(c){const d=P(c);d.v_.add(4),yield nu(d),d.x_.set("Unknown"),d.v_.delete(4),yield Kc(d)}),function l(c){return u.apply(this,arguments)})(o))}))}),this.x_=new Bee(r,i)}}function Kc(t){return sI.apply(this,arguments)}function sI(){return sI=S(function*(t){if(os(t))for(const e of t.F_)yield e(!0)}),sI.apply(this,arguments)}function nu(t){return oI.apply(this,arguments)}function oI(){return oI=S(function*(t){for(const e of t.F_)yield e(!1)}),oI.apply(this,arguments)}function Kp(t,e){const n=P(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),lI(n)?uI(n):iu(n).Jo()&&aI(n,e))}function Qc(t,e){const n=P(t),r=iu(n);n.C_.delete(e),r.Jo()&&Jk(n,e),0===n.C_.size&&(r.Jo()?r.Xo():os(n)&&n.x_.set("Unknown"))}function aI(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).c_(e)}function Jk(t,e){t.O_.Oe(e),iu(t).l_(e)}function uI(t){t.O_=new BJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.x_.p_()}function lI(t){return os(t)&&!iu(t).Ho()&&t.C_.size>0}function os(t){return 0===P(t).v_.size}function eF(t){t.O_=void 0}function Uee(t){return cI.apply(this,arguments)}function cI(){return cI=S(function*(t){t.C_.forEach((e,n)=>{aI(t,e)})}),cI.apply(this,arguments)}function $ee(t,e){return dI.apply(this,arguments)}function dI(){return dI=S(function*(t,e){eF(t),lI(t)?(t.x_.S_(e),uI(t)):t.x_.set("Unknown")}),dI.apply(this,arguments)}function zee(t,e,n){return hI.apply(this,arguments)}function hI(){return hI=S(function*(t,e,n){if(t.x_.set("Online"),e instanceof KV&&2===e.state&&e.cause)try{yield(r=S(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.C_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.C_.delete(u),s.O_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qp(t,r)}else if(e instanceof xp?t.O_.$e(e):e instanceof WV?t.O_.Je(e):t.O_.Ge(e),!n.isEqual($.min()))try{const r=yield $k(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),Jk(s,u);const d=new _i(c.target,u,l,c.sequenceNumber);aI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield Qp(t,r)}var r}),hI.apply(this,arguments)}function Qp(t,e,n){return fI.apply(this,arguments)}function fI(){return fI=S(function*(t,e,n){if(!Qi(e))throw e;t.v_.add(1),yield nu(t),t.x_.set("Offline"),n||(n=()=>$k(t.localStore)),t.asyncQueue.enqueueRetryable(S(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Kc(t)}))}),fI.apply(this,arguments)}function tF(t,e){return e().catch(n=>Qp(t,n,e))}function ru(t){return pI.apply(this,arguments)}function pI(){return pI=S(function*(t){const e=P(t),n=as(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Hee(e);)try{const i=yield See(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,Gee(e,i)}catch(i){yield Qp(e,i)}nF(e)&&rF(e)}),pI.apply(this,arguments)}function Hee(t){return os(t)&&t.D_.length<10}function Gee(t,e){t.D_.push(e);const n=as(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function nF(t){return os(t)&&!as(t).Ho()&&t.D_.length>0}function rF(t){as(t).start()}function qee(t){return gI.apply(this,arguments)}function gI(){return gI=S(function*(t){as(t).d_()}),gI.apply(this,arguments)}function Wee(t){return mI.apply(this,arguments)}function mI(){return mI=S(function*(t){const e=as(t);for(const n of t.D_)e.I_(n.mutations)}),mI.apply(this,arguments)}function Kee(t,e,n){return yI.apply(this,arguments)}function yI(){return yI=S(function*(t,e,n){const r=t.D_.shift(),i=bw.from(r,e,n);yield tF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ru(t)}),yI.apply(this,arguments)}function Qee(t,e){return _I.apply(this,arguments)}function _I(){return _I=S(function*(t,e){var n;e&&as(t).P_&&(yield(n=S(function*(i,s){if(function $V(t){switch(t){default:return k();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=s.code)&&a!==E.ABORTED){const o=i.D_.shift();as(i).Zo(),yield tF(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield ru(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),nF(t)&&rF(t)}),_I.apply(this,arguments)}function iF(t,e){return vI.apply(this,arguments)}function vI(){return vI=S(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=os(n);n.v_.add(3),yield nu(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Kc(n)}),vI.apply(this,arguments)}function wI(){return wI=S(function*(t,e){const n=P(t);e?(n.v_.delete(2),yield Kc(n)):e||(n.v_.add(2),yield nu(n),n.x_.set("Unknown"))}),wI.apply(this,arguments)}function iu(t){return t.N_||(t.N_=function(n,r,i){const s=P(n);return s.R_(),new Vee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Uee.bind(null,t),To:$ee.bind(null,t),u_:zee.bind(null,t)}),t.F_.push(function(){var e=S(function*(n){n?(t.N_.Zo(),lI(t)?uI(t):t.x_.set("Unknown")):(yield t.N_.stop(),eF(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function as(t){return t.B_||(t.B_=function(n,r,i){const s=P(n);return s.R_(),new kee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:qee.bind(null,t),To:Qee.bind(null,t),E_:Wee.bind(null,t),T_:Kee.bind(null,t)}),t.F_.push(function(){var e=S(function*(n){n?(t.B_.Zo(),yield ru(t)):(yield t.B_.stop(),t.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class II{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new II(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function su(t,e){if(st("AsyncQueue",`${e}: ${t}`),Qi(t))return new A(E.UNAVAILABLE,`${e}: ${t}`);throw t}class ou{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class sF{constructor(){this.L_=new Ue(x.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):k():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class au{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new au(e,n,ou.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yee{constructor(){this.q_=void 0,this.Q_=[]}}class Zee{constructor(){this.queries=new mi(e=>DV(e),Mc),this.onlineState="Unknown",this.K_=new Set}}function CI(){return CI=S(function*(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Yee),i)try{s.q_=yield n.onListen(r)}catch(o){const a=su(o,`Initialization of query '${za(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&AI(n)}),CI.apply(this,arguments)}function bI(){return bI=S(function*(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),bI.apply(this,arguments)}function Xee(t,e){const n=P(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&AI(n)}function Jee(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function AI(t){t.K_.forEach(e=>{e.next()})}class SI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class uF{constructor(e){this.key=e}}class lF{constructor(e){this.key=e}}class cF{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ue(),this.mutatedKeys=ue(),this.ua=TV(e),this.ca=new ou(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new sF,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Rc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ua(f,u)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return g(f)-g(p)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],u=0===this.aa.size&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,0!==o.length||l?{snapshot:new au(this.query,e.ca,s,o,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new sF,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ue(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new lF(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new uF(r))}),n}Ra(e){this.oa=e.hs,this.aa=ue();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return au.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class nte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rte{constructor(e){this.key=e,this.ma=!1}}class ite{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new mi(a=>DV(a),Mc),this.pa=new Map,this.ya=new Set,this.wa=new Ue(x.comparator),this.Sa=new Map,this.ba=new $w,this.Da={},this.Ca=new Map,this.va=so.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function ste(t,e){return MI.apply(this,arguments)}function MI(){return MI=S(function*(t,e){const n=function XI(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ute.bind(null,e),e.fa.u_=Xee.bind(null,e.eventManager),e.fa.xa=Jee.bind(null,e.eventManager),e}(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield function eu(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}(n.localStore,on(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function RI(t,e,n,r,i){return PI.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Kp(n.remoteStore,o)}return i}),MI.apply(this,arguments)}function PI(){return PI=S(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=S(function*(m,_,y,I){let T=_.view.ha(y);T.Xi&&(T=yield zp(m.localStore,_.query,!1).then(({documents:Me})=>_.view.ha(Me,T)));const V=I&&I.targetChanges.get(_.targetId),G=I&&null!=I.targetMismatches.get(_.targetId),re=_.view.applyChanges(T,m.isPrimaryClient,V,G);return UI(m,_.targetId,re.da),re.snapshot}),function g(m,_,y,I){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield zp(t.localStore,e,!0),o=new cF(e,s.hs),a=o.ha(s.documents),u=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,u);UI(t,n,l.da);const c=new nte(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot}),PI.apply(this,arguments)}function ote(t,e){return xI.apply(this,arguments)}function xI(){return xI=S(function*(t,e){const n=P(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Mc(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qc(n.remoteStore,r.targetId),uu(n,r.targetId)}).catch(Ki))):(uu(n,r.targetId),yield tu(n.localStore,r.targetId,!0))}),xI.apply(this,arguments)}function NI(){return NI=S(function*(t,e,n){const r=function JI(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cte.bind(null,e),e}(t);try{const i=yield function(o,a){const u=P(o),l=Qe.now(),c=a.reduce((f,p)=>f.add(p.key),ue());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=vn(),g=ue();return u.os.getEntries(f,c).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const _=[];for(const y of a){const I=VJ(y,d.get(y.key).overlayedDocument);null!=I&&_.push(new yi(y.key,I,uV(I.value.mapValue),We.exists(!0)))}return u.mutationQueue.addMutationBatch(f,l,_,a)}).next(m=>{h=m;const _=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,_)})}).then(()=>({batchId:h.batchId,changes:AV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new Ue(J)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),yield vi(r,i.changes),yield ru(r.remoteStore)}catch(i){const s=su(i,"Failed to persist write");n.reject(s)}}),NI.apply(this,arguments)}function dF(t,e){return OI.apply(this,arguments)}function OI(){return OI=S(function*(t,e){const n=P(t);try{const r=yield function Aee(t,e){const n=P(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_t.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),m=f,_=c,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(s,f))});let u=vn(),l=ue();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function zk(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}(s,o,e.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual($.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?j(o.ma):i.removedDocuments.size>0&&(j(o.ma),o.ma=!1))}),yield vi(n,r,e)}catch(r){yield Ki(r)}}),OI.apply(this,arguments)}function hF(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=P(o);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(l=!0)}),l&&AI(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ute(t,e,n){return VI.apply(this,arguments)}function VI(){return VI=S(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ue(x.comparator);o=o.insert(s,He.newNoDocument(s,$.min()));const a=ue().add(s),u=new kc($.min(),new Map,new Ue(J),o,a);yield dF(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),$I(r)}else yield tu(r.localStore,e,!1).then(()=>uu(r,e,n)).catch(Ki)}),VI.apply(this,arguments)}function lte(t,e){return kI.apply(this,arguments)}function kI(){return kI=S(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield function bee(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,h=d.keys();let f=v.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(u,p)).next(g=>{const m=l.docVersions.get(p);j(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);jI(n,r,null),BI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vi(n,i)}catch(i){yield Ki(i)}}),kI.apply(this,arguments)}function cte(t,e,n){return FI.apply(this,arguments)}function FI(){return FI=S(function*(t,e,n){const r=P(t);try{const i=yield function(o,a){const u=P(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(j(null!==d),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);jI(r,e,n),BI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vi(r,i)}catch(i){yield Ki(i)}}),FI.apply(this,arguments)}function BI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function jI(t,e,n){const r=P(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function uu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||fF(t,r)})}function fF(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(Qc(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),$I(t))}function UI(t,e,n){for(const r of n)r instanceof uF?(t.ba.addReference(r.key,e),hte(t,r)):r instanceof lF?(b("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||fF(t,r.key)):k()}function hte(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(b("SyncEngine","New document in limbo: "+n),t.ya.add(r),$I(t))}function $I(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new x(de.fromString(e)),r=t.va.next();t.Sa.set(r,new rte(n)),t.wa=t.wa.insert(n,r),Kp(t.remoteStore,new _i(on(Ua(n.path)),r,"TargetPurposeLimboResolution",Fn._e))}}function vi(t,e,n){return zI.apply(this,arguments)}function zI(){return zI=S(function*(t,e,n){const r=P(t),i=[],s=[],o=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const c=Ww.Ki(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.fa.u_(i),yield(a=S(function*(l,c){const d=P(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>v.forEach(c,f=>v.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>v.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Qi(h))throw h;b("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ns=d.ns.insert(f,m)}}}),function u(l,c){return a.apply(this,arguments)})(r.localStore,s))}),zI.apply(this,arguments)}function fte(t,e){return HI.apply(this,arguments)}function HI(){return HI=S(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield Uk(n.localStore,e);n.currentUser=e,(s=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vi(n,r.us)}var s}),HI.apply(this,arguments)}function pte(t,e){const n=P(t),r=n.Sa.get(e);if(r&&r.ma)return ue().add(r.key);{let i=ue();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}class Yp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return S(function*(){n.serializer=Wc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function jk(t,e,n,r){return new Tee(t,e,n,r)}(this.persistence,new Bk,e.initialUser,this.serializer)}createPersistence(e){return new zw(jp.Hr,this.serializer)}createSharedClientState(e){return new Qk}terminate(){var e=this;return S(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lu{initialize(e,n){var r=this;return S(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>hF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fte.bind(null,r.syncEngine),yield function EI(t,e){return wI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zee}createDatastore(e){const n=Wc(e.databaseInfo.databaseId),r=new Oee(e.databaseInfo);return new Fee(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>hF(this.syncEngine,n,0),a=Yk.D()?new Yk:new Pee,new jee(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const d=new ite(i,s,o,a,u,l);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return S(function*(){var n,r;yield(r=S(function*(s){const o=P(s);b("RemoteStore","RemoteStore shutting down."),o.v_.add(5),yield nu(o),o.M_.shutdown(),o.x_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ate{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=BO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=S(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=su(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Xp(t,e){return eD.apply(this,arguments)}function eD(){return eD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=S(function*(s){r.isEqual(s)||(yield Uk(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),eD.apply(this,arguments)}function tD(t,e){return nD.apply(this,arguments)}function nD(){return nD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function rD(t){return iD.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iF(e.remoteStore,i)),t._onlineComponents=e}),nD.apply(this,arguments)}function iD(){return iD=S(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function vF(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Vn("Error using user provided cache. Falling back to memory cache: "+n),yield Xp(t,new Yp)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Xp(t,new Yp);return t._offlineComponents}),iD.apply(this,arguments)}function Jp(t){return sD.apply(this,arguments)}function sD(){return sD=S(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield tD(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield tD(t,new lu))),t._onlineComponents}),sD.apply(this,arguments)}function aD(){return aD=S(function*(t){const e=yield Jp(t),n=e.eventManager;return n.onListen=ste.bind(null,e.syncEngine),n.onUnlisten=ote.bind(null,e.syncEngine),n}),aD.apply(this,arguments)}function CF(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(S(function*(){return function(s,o,a,u,l){const c=new Zp({next:h=>{o.enqueueAndForget(()=>function TI(t,e){return bI.apply(this,arguments)}(s,d)),h.fromCache&&"server"===u.source?l.reject(new A(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new SI(a,c,{includeMetadataChanges:!0,Z_:!0});return function DI(t,e){return CI.apply(this,arguments)}(s,d)}(yield function du(t){return aD.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function TF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const bF=new Map;function uD(t,e,n){if(!n)throw new A(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AF(t){if(!x.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SF(t){if(x.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":k()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(t);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class RF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lte(t,e,n,r){if(!0===e&&!0===r)throw new A(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=TF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new OX;switch(r.type){case"firstParty":return new LX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bF.get(n);r&&(b("ComponentProvider","Removing Datastore"),bF.delete(n),r.terminate())}(this),Promise.resolve()}}class Lt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lt(this.firestore,e,this._query)}}class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class Br extends Lt{constructor(e,n,r){super(e,n,Ua(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new x(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}class Ute{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new rI(this,"async_queue_retry"),this._u=()=>{const n=Wp();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Wp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new yt;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return S(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!Qi(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,st("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=II.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&k()}verifyOperationInProgress(){}hu(){var e=this;return S(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class $e extends Yc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ute,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NF(this),this._firestoreClient.terminate()}}function ut(t){return t._firestoreClient||NF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NF(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new pJ(t._databaseId,u,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TF(c.experimentalLongPollingOptions),c.useFetchStreams));var u,c;t._firestoreClient=new Ate(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(_t.fromBase64String(e))}catch(n){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kF{constructor(e){this._methodName=e}}class cD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const Gte=/^__.*__$/;class qte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}function LF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class tg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return rg(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(LF(this.du)&&Gte.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Wte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wc(e)}Su(e,n,r,i=!1){return new tg({du:e,methodName:n,wu:r,path:qe.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fu(t){const e=t._freezeSettings(),n=Wc(t._databaseId);return new Wte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dD(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);mD("Data must be an object, but it was:",o,r);const a=zF(r,o);let u,l;if(s.merge)u=new _n(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Jc(e,d,n);if(!o.contains(h))throw new A(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);GF(c,h)||c.push(h)}u=new _n(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new qte(new Ft(a),u,l)}function uo(t,e){if(HF(t=Ls(t)))return mD("Unsupported field value:",e,t),zF(t,e);if(t instanceof kF)return function(r,i){if(!LF(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=uo(a,i.gu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=Ls(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return PV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:Ka(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ka(i.serializer,s)}}if(r instanceof cD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:XV(i.serializer,r._byteString)};if(r instanceof at){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${eg(r)}`)}(t,e)}function zF(t,e){const n={};return JO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const s=uo(i,e.Ru(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function HF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof cD||t instanceof ao||t instanceof at||t instanceof kF)}function mD(t,e,n){if(!HF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=eg(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function Jc(t,e,n){if((e=Ls(e))instanceof hu)return e._internalPath;if("string"==typeof e)return ng(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kte=new RegExp("[~\\*/\\[\\]]");function ng(t,e,n){if(e.search(Kte)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hu(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new A(E.INVALID_ARGUMENT,a+t+u)}function GF(t,e){return t.some(n=>n.isEqual(e))}class yD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Qte extends yD{data(){return super.data()}}function ig(t,e){return"string"==typeof e?ng(t,e):e instanceof hu?e._internalPath:e._delegate._internalPath}class Zte{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new cD(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wp(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);j(lk(r));const i=new Qs(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gu extends yD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ig("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ug extends gu{data(e={}){return super.data(e)}}class mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ug(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new ug(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Jte(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class us extends Zte{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function td(t,e){return function(r,i){const s=new yt;return r.asyncQueue.enqueueAndForget(S(function*(){return function ate(t,e,n){return NI.apply(this,arguments)}(yield function oD(t){return Jp(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(ut(t),e)}!function(e,n=!0){Na="10.7.2",Hi(new ci("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $e(new kX(r.getProvider("auth-internal")),new BX(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pr(kO,"4.4.1",e),Pr(kO,"4.4.1","esm2017")}(),Pr("firebase","10.7.2","app");const mne=(t,e)=>e.some(n=>t instanceof n);let tL,nL;const rL=new WeakMap,ID=new WeakMap,iL=new WeakMap,DD=new WeakMap,CD=new WeakMap;let TD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ID.get(t);if("objectStoreNames"===e)return t.objectStoreNames||iL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Dne(t){return"function"==typeof t?function Ine(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _ne(){return nL||(nL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bD(this),e),ls(rL.get(this))}:function(...e){return ls(t.apply(bD(this),e))}:function(e,...n){const r=t.call(bD(this),e,...n);return iL.set(r,e.sort?e.sort():[e]),ls(r)}}(t):(t instanceof IDBTransaction&&function Ene(t){if(ID.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ID.set(t,e)}(t),mne(t,function yne(){return tL||(tL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,TD):t)}function ls(t){if(t instanceof IDBRequest)return function vne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rL.set(n,t)}).catch(()=>{}),CD.set(e,t),e}(t);if(DD.has(t))return DD.get(t);const e=Dne(t);return e!==t&&(DD.set(t,e),CD.set(e,t)),e}const bD=t=>CD.get(t),Tne=["get","getKey","getAll","getAllKeys","count"],bne=["put","add","delete","clear"],AD=new Map;function sL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(AD.get(e))return AD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tne.includes(n))return;const s=function(){var o=S(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return AD.set(e,s),s}!function wne(t){TD=t(TD)}(t=>({...t,get:(e,n,r)=>sL(e,n)||t.get(e,n,r),has:(e,n)=>!!sL(e,n)||t.has(e,n)}));const oL="@firebase/installations",SD="0.6.4",aL=1e4,uL=`w:${SD}`,lL="FIS_v2",Ane="https://firebaseinstallations.googleapis.com/v1",Sne=36e5,Ei=new jf("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cL(t){return t instanceof $i&&t.code.includes("request-failed")}function MD({projectId:t}){return`${Ane}/projects/${t}/installations`}function dL(t){return{token:t.token,requestStatus:2,expiresIn:xne(t.expiresIn),creationTime:Date.now()}}function RD(t,e){return PD.apply(this,arguments)}function PD(){return PD=S(function*(t,e){const r=(yield e.json()).error;return Ei.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),PD.apply(this,arguments)}function hL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xD(t){return ND.apply(this,arguments)}function ND(){return ND=S(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),ND.apply(this,arguments)}function xne(t){return Number(t.replace("s","000"))}function OD(){return OD=S(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=MD(t),i=hL(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:lL,appId:t.appId,sdkVersion:uL})},u=yield xD(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:dL(l.authToken)}}throw yield RD("Create Installation",u)}),OD.apply(this,arguments)}function pL(t){return new Promise(e=>{setTimeout(e,t)})}const kne=/^[cdef][\w-]{21}$/,VD="";function Fne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Lne(t){return function Vne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return kne.test(n)?n:VD}catch{return VD}}function yu(t){return`${t.appName}!${t.appId}`}const _u=new Map;function gL(t,e){const n=yu(t);mL(n,e),function Une(t,e){const n=function yL(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=t=>{mL(t.data.key,t.data.fid)}),co}();n&&n.postMessage({key:t,fid:e}),function _L(){0===_u.size&&co&&(co.close(),co=null)}()}(n,e)}function mL(t,e){const n=_u.get(t);if(n)for(const r of n)r(e)}let co=null;const $ne="firebase-installations-database",zne=1,ho="firebase-installations-store";let kD=null;function FD(){return kD||(kD=function Cne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ls(o.result),u.oldVersion,u.newVersion,ls(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}($ne,zne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ho)}})),kD}function dg(t,e){return LD.apply(this,arguments)}function LD(){return LD=S(function*(t,e){const n=yu(t),i=(yield FD()).transaction(ho,"readwrite"),s=i.objectStore(ho),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&gL(t,e.fid),e}),LD.apply(this,arguments)}function BD(t){return jD.apply(this,arguments)}function jD(){return jD=S(function*(t){const e=yu(t),r=(yield FD()).transaction(ho,"readwrite");yield r.objectStore(ho).delete(e),yield r.done}),jD.apply(this,arguments)}function nd(t,e){return UD.apply(this,arguments)}function UD(){return UD=S(function*(t,e){const n=yu(t),i=(yield FD()).transaction(ho,"readwrite"),s=i.objectStore(ho),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&gL(t,a.fid),a}),UD.apply(this,arguments)}function $D(t){return zD.apply(this,arguments)}function zD(){return zD=S(function*(t){let e;const n=yield nd(t.appConfig,r=>{const i=function Hne(t){return EL(t||{fid:Fne(),registrationStatus:0})}(r),s=function Gne(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ei.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function qne(t,e){return HD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Wne(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===VD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),zD.apply(this,arguments)}function HD(){return HD=S(function*(t,e){try{const n=yield function One(t,e){return OD.apply(this,arguments)}(t,e);return dg(t.appConfig,n)}catch(n){throw cL(n)&&409===n.customData.serverCode?yield BD(t.appConfig):yield dg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),HD.apply(this,arguments)}function Wne(t){return GD.apply(this,arguments)}function GD(){return GD=S(function*(t){let e=yield vL(t.appConfig);for(;1===e.registrationStatus;)yield pL(100),e=yield vL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield $D(t);return r||n}return e}),GD.apply(this,arguments)}function vL(t){return nd(t,e=>{if(!e)throw Ei.create("installation-not-found");return EL(e)})}function EL(t){return function Kne(t){return 1===t.registrationStatus&&t.registrationTime+aL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qD(){return qD=S(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Yne(t,{fid:e}){return`${MD(t)}/${e}/authTokens:generate`}(t,n),i=function fL(t,{refreshToken:e}){const n=hL(t);return n.append("Authorization",function Nne(t){return`${lL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:uL,appId:t.appId}})},u=yield xD(()=>fetch(r,a));if(u.ok)return dL(yield u.json());throw yield RD("Generate Auth Token",u)}),qD.apply(this,arguments)}function WD(t){return KD.apply(this,arguments)}function KD(){return KD=S(function*(t,e=!1){let n;const r=yield nd(t.appConfig,s=>{if(!IL(s))throw Ei.create("not-registered");const o=s.authToken;if(!e&&function Jne(t){return 2===t.requestStatus&&!function ere(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Sne}(t)}(o))return s;if(1===o.requestStatus)return n=function Zne(t,e){return QD.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ei.create("app-offline");const a=function tre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Xne(t,e){return YD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),KD.apply(this,arguments)}function QD(){return QD=S(function*(t,e){let n=yield wL(t.appConfig);for(;1===n.authToken.requestStatus;)yield pL(100),n=yield wL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?WD(t,e):r}),QD.apply(this,arguments)}function wL(t){return nd(t,e=>{if(!IL(e))throw Ei.create("not-registered");return function nre(t){return 1===t.requestStatus&&t.requestTime+aL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function YD(){return YD=S(function*(t,e){try{const n=yield function Qne(t,e){return qD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield dg(t.appConfig,r),n}catch(n){if(!cL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dg(t.appConfig,r)}else yield BD(t.appConfig);throw n}}),YD.apply(this,arguments)}function IL(t){return void 0!==t&&2===t.registrationStatus}function ZD(){return ZD=S(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $D(e);return r?r.catch(console.error):WD(e).catch(console.error),n.fid}),ZD.apply(this,arguments)}function XD(){return XD=S(function*(t,e=!1){const n=t;return yield function sre(t){return JD.apply(this,arguments)}(n),(yield WD(n,e)).token}),XD.apply(this,arguments)}function JD(){return JD=S(function*(t){const{registrationPromise:e}=yield $D(t);e&&(yield e)}),JD.apply(this,arguments)}function nC(t){return Ei.create("missing-app-config-values",{valueName:t})}const DL="installations",cre=t=>{const e=t.getProvider("app").getImmediate(),n=function ure(t){if(!t||!t.options)throw nC("App Configuration");if(!t.name)throw nC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ta(e,"heartbeat"),_delete:()=>Promise.resolve()}},dre=t=>{const n=Ta(t.getProvider("app").getImmediate(),DL).getImmediate();return{getId:()=>function rre(t){return ZD.apply(this,arguments)}(n),getToken:i=>function ire(t){return XD.apply(this,arguments)}(n,i)}};(function hre(){Hi(new ci(DL,cre,"PUBLIC")),Hi(new ci("installations-internal",dre,"PRIVATE"))})(),Pr(oL,SD),Pr(oL,SD,"esm2017");const hg="analytics",fre="firebase_id",pre="origin",gre=6e4,mre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rC="https://www.googletagmanager.com/gtag/js",Tt=new lE("@firebase/analytics"),an=new jf("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _re(t){if(!t.startsWith(rC)){const e=an.create("invalid-gtag-resource",{gtagURL:t});return Tt.warn(e.message),""}return t}function CL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iC(){return iC=S(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield CL(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Tt.error(a)}t("config",i,s)}),iC.apply(this,arguments)}function sC(){return sC=S(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield CL(n);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Tt.error(s)}}),sC.apply(this,arguments)}const Are=30,TL=new class Mre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Rre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function oC(){return oC=S(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Rre(r)},s=mre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw an.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),oC.apply(this,arguments)}function aC(){return aC=S(function*(t,e=TL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw an.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw an.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vre;return setTimeout(S(function*(){a.abort()}),void 0!==n?n:gre),bL({appId:r,apiKey:i,measurementId:s},o,a,e)}),aC.apply(this,arguments)}function bL(t,e,n){return uC.apply(this,arguments)}function uC(){return uC=S(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=TL){var s;const{appId:o,measurementId:a}=t;try{yield function Nre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Tt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Pre(t){return oC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!function Ore(t){if(!(t instanceof $i&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Tt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw u}const c=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?iN(n,i.intervalMillis,Are):iN(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Tt.debug(`Calling attemptFetch again in ${c} millis`),bL(t,d,r,i)}}),uC.apply(this,arguments)}class Vre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let lC,mC;function cC(){return cC=S(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),cC.apply(this,arguments)}function yC(){return yC=S(function*(){if(!sE())return Tt.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield tN()}catch(t){return Tt.warn(an.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),yC.apply(this,arguments)}function _C(){return _C=S(function*(t,e,n,r,i,s,o){var a;const u=function xre(t){return aC.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tt.error(f)),e.push(u);const l=function $re(){return yC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);(function bre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rC)&&n.src.includes(t))return n;return null})(s)||function Ere(t,e){const n=function vre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:_re}),r=document.createElement("script"),i=`${rC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,c.measurementId),mC&&(i("consent","default",mC),function AL(t){mC=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[pre]="firebase",h.update=!0,null!=d&&(h[fre]=d),i("config",c.measurementId,h),lC&&(i("set",lC),function SL(t){lC=t}(void 0)),c.measurementId}),_C.apply(this,arguments)}class Hre{constructor(e){this.app=e}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},ML=[];const RL={};let xL,Ur,fg="dataLayer",vC=!1;function qre(t,e,n){!function Gre(){const t=[];if(function cY(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),function hY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=an.create("invalid-analytics-context",{errorInfo:e});Tt.warn(n.message)}}();const r=t.options.appId;if(!r)throw an.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw an.create("no-api-key");Tt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[r])throw an.create("already-exists",{id:r});if(!vC){!function wre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(fg);const{wrappedGtag:s,gtagCore:o}=function Tre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Cre(t,e,n,r){function s(){return s=S(function*(o,...a){try{if("event"===o){const[u,l]=a;yield function Dre(t,e,n,r,i){return sC.apply(this,arguments)}(t,e,n,u,l)}else if("config"===o){const[u,l]=a;yield function Ire(t,e,n,r,i,s){return iC.apply(this,arguments)}(t,e,n,r,u,l)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,l,c]=a;t("get",u,l,c)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Tt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(jr,ML,RL,fg,"gtag");Ur=s,xL=o,vC=!0}return jr[r]=function zre(t,e,n,r,i,s,o){return _C.apply(this,arguments)}(t,ML,RL,e,xL,fg,n),new Hre(t)}const NL="@firebase/analytics";!function Yre(){Hi(new ci(hg,(e,{options:n})=>qre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Hi(new ci("analytics-internal",function t(e){try{const n=e.getProvider(hg).getImmediate();return{logEvent:(r,i,s)=>function Qre(t,e,n,r){t=Ls(t),function kre(t,e,n,r,i){return cC.apply(this,arguments)}(Ur,jr[t.app.options.appId],e,n,r).catch(i=>Tt.error(i))}(n,r,i,s)}}catch(n){throw an.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Pr(NL,"0.10.0"),Pr(NL,"0.10.0","esm2017")}();const Zre={apiKey:"AIzaSyDq2wPm76o6htH8TceYo6cwDm9dnJuhj0k",authDomain:"konrad-zelazny-strona.firebaseapp.com",projectId:"konrad-zelazny-strona",storageBucket:"konrad-zelazny-strona.appspot.com",messagingSenderId:"1034585649701",appId:"1:1034585649701:web:9745cdb56ed019c29ec5cc",measurementId:"G-3H7T83GN19"};let VL=(()=>{class t{constructor(){this.initializeApp()}initializeApp(){this.app=hN(Zre),function Wre(t=fN()){const e=Ta(t=Ls(t),hg);return e.isInitialized()?e.getImmediate():function Kre(t,e={}){const n=Ta(t,hg);if(n.isInitialized()){const i=n.getImmediate();if($f(e,n.getOptions()))return i;throw an.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app),this.db=function zte(t,e){const r="string"==typeof t?t:e||"(default)",i=Ta("object"==typeof t?t:fN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Bf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Bte(t,e,n,r={}){var i;const s=(t=fe(t,Yc))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=It.MOCK_USER;else{a=function uY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lf(JSON.stringify({alg:"none",type:"JWT"})),Lf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(l)}t._authCredentials=new VX(new FO(a,u))}}(i,...s)}return i}()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kL=(()=>{class t{constructor(n){this.firebaseService=n,this.db=this.firebaseService.db,console.log(this.getOffersFromDatabase("voucher"))}addOfferToDatabase(n,r){var i=this;return S(function*(){const o=(new Date).toISOString(),a=`${n.name.replace(/\s/g,"")}${o}`;yield function tne(t,e,n){t=fe(t,at);const r=fe(t.firestore,$e),i=function vD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return td(r,[dD(fu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,We.none())])}(function PF(t,e,...n){if(t=Ls(t),1===arguments.length&&(e=BO.newId()),uD("doc","path",e),t instanceof Yc){const r=de.fromString(e,...n);return AF(r),new at(t,null,new x(r))}{if(!(t instanceof at||t instanceof Br))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return AF(r),new at(t.firestore,t instanceof Br?t.converter:null,new x(r))}}(i.db,r,a),n)})()}getOffersFromDatabase(n){var r=this;return S(function*(){return(yield function ene(t){t=fe(t,Lt);const e=fe(t.firestore,$e),n=ut(e),r=new us(e);return function qF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),CF(n,t._query).then(i=>new mu(e,r,t,i))}(function jte(t,e,...n){if(t=Ls(t),uD("collection","path",e),t instanceof Yc){const r=de.fromString(e,...n);return SF(r),new Br(t,null,r)}{if(!(t instanceof at||t instanceof Br))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return SF(r),new Br(t.firestore,null,r)}}(r.db,n))).docs.map(s=>s.data())})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(VL))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-offer-service"]],decls:2,vars:0,template:function(r,i){1&r&&(M(0,"p"),z(1,"offer-service works!"),R())}})}return t})(),FL=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ir),C(Sn))};static#t=this.\u0275dir=Z({type:t})}return t})(),fo=(()=>{class t extends FL{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=xt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,features:[Te]})}return t})();const $r=new L("NgValueAccessor"),eie={provide:$r,useExisting:Ve(()=>pg),multi:!0},nie=new L("CompositionEventMode");let pg=(()=>{class t extends FL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tie(){const t=Oi()?Oi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ir),C(Sn),C(nie,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&De("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Be([eie]),Te]})}return t})();const Kt=new L("NgValidators"),ds=new L("NgAsyncValidators");function $L(t){return function cs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function gg(t){return null}function KL(t){return null!=t}function QL(t){return hl(t)?vt(t):t}function YL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function ZL(t,e){return e.map(n=>n(t))}function XL(t){return t.map(e=>function iie(t){return!t.validate}(e)?e:n=>e.validate(n))}function IC(t){return null!=t?function JL(t){if(!t)return null;const e=t.filter(KL);return 0==e.length?null:function(n){return YL(ZL(n,e))}}(XL(t)):null}function DC(t){return null!=t?function e2(t){if(!t)return null;const e=t.filter(KL);return 0==e.length?null:function(n){return function Xre(...t){const e=dT(t),{args:n,keys:r}=jx(t),i=new lt(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;In(n[c]).subscribe(ct(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?$x(r,a):a),s.complete())}))}});return e?i.pipe(Ux(e)):i}(ZL(n,e).map(QL)).pipe(Ne(YL))}}(XL(t)):null}function t2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CC(t){return t?Array.isArray(t)?t:[t]:[]}function mg(t,e){return Array.isArray(t)?t.includes(e):t===e}function i2(t,e){const n=CC(e);return CC(t).forEach(i=>{mg(n,i)||n.push(i)}),n}function s2(t,e){return CC(e).filter(n=>!mg(t,n))}class o2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class un extends o2{get formDirective(){return null}get path(){return null}}class hs extends o2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class a2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let u2=(()=>{class t extends a2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(hs,2))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Th("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Te]})}return t})(),TC=(()=>{class t extends a2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(un,10))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Th("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Te]})}return t})();const rd="VALID",_g="INVALID",vu="PENDING",id="DISABLED";function SC(t){return(vg(t)?t.validators:t)||null}function MC(t,e){return(vg(e)?e.asyncValidators:t)||null}function vg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class h2{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rd}get invalid(){return this.status===_g}get pending(){return this.status==vu}get disabled(){return this.status===id}get enabled(){return this.status!==id}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(i2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(i2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(s2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(s2(e,this._rawAsyncValidators))}hasValidator(e){return mg(this._rawValidators,e)}hasAsyncValidator(e){return mg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=id,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=rd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rd||this.status===vu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?id:rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vu,this._hasOwnPendingAsyncValidator=!0;const n=QL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?id:this.errors?_g:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vu)?vu:this._anyControlsHaveStatus(_g)?_g:rd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function uie(t){return Array.isArray(t)?IC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lie(t){return Array.isArray(t)?DC(t):t||null}(this._rawAsyncValidators)}}class RC extends h2{constructor(e,n,r){super(SC(n),MC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function d2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new w(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function c2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Eu=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Eg}),Eg="always";function sd(t,e,n=Eg){PC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function hie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&f2(t,e)})}(t,e),function pie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function fie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&f2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function die(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Dg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PC(t,e){const n=function n2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(t2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function r2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(t2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Dg(e._rawValidators,i),Dg(e._rawAsyncValidators,i)}function f2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const vie={provide:un,useExisting:Ve(()=>ad)},od=(()=>Promise.resolve())();let ad=(()=>{class t extends un{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new RC({},IC(n),DC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){od.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),sd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){od.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){od.then(()=>{const r=this._findContainer(n.path),i=new RC({});(function p2(t,e){PC(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){od.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){od.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function g2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(C(Kt,10),C(ds,10),C(Eu,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&De("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([vie]),Te]})}return t})();function m2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function y2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const _2=class extends h2{constructor(e=null,n,r){super(SC(n),MC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=y2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){m2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){m2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){y2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Iie={provide:hs,useExisting:Ve(()=>VC)},w2=(()=>Promise.resolve())();let VC=(()=>{class t extends hs{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new _2,this._registered=!1,this.name="",this.update=new Xe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function OC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===pg?n=s:function yie(t){return Object.getPrototypeOf(t.constructor)===fo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function NC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){w2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&ha(r);w2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function wg(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(C(un,9),C(Kt,10),C(ds,10),C($r,10),C(Fh,8),C(Eu,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Be([Iie]),Te,Hn]})}return t})(),kC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),D2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({})}return t})();const xie={provide:$r,useExisting:Ve(()=>Tg),multi:!0};function R2(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Tg=(()=>{class t extends fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=R2(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Nie(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=xt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&De("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([xie]),Te]})}return t})(),P2=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(R2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(C(Sn),C(Ir),C(Tg,9))};static#t=this.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Oie={provide:$r,useExisting:Ve(()=>jC),multi:!0};function x2(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let jC=(()=>{class t extends fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Vie(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=xt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&De("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([Oie]),Te]})}return t})(),N2=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(x2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(x2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(C(Sn),C(Ir),C(jC,9))};static#t=this.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),po=(()=>{class t{constructor(){this._validator=gg}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,features:[Hn]})}return t})();const Lie={provide:Kt,useExisting:Ve(()=>bg),multi:!0};let bg=(()=>{class t extends po{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ha,this.createValidator=n=>$L}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=xt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Tr("required",i._enabled?"":null)},inputs:{required:"required"},features:[Be([Lie]),Te]})}return t})(),Hie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({imports:[D2]})}return t})(),qie=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Eu,useValue:n.callSetDisabledState??Eg}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({imports:[Hie]})}return t})(),Wie=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.offerService=i,this.selectedOption="training",this.name="",this.email="",this.phone="",this.additionalInfo=""}ngOnInit(){this.route.paramMap.subscribe(n=>{this.selectedOption=n.get("option")??"training"})}addOffer(){this.offerService.addOfferToDatabase({name:this.name,email:this.email,phone:this.phone,additionalInfo:this.additionalInfo,offerType:this.selectedOption},this.selectedOption),this.router.navigate(["/offer-thanks"])}static#e=this.\u0275fac=function(r){return new(r||t)(C(Nt),C(Fs),C(kL))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-offers"]],features:[Be([kL])],decls:31,vars:5,consts:[["id","offers"],[1,"header-text"],[1,"offers-form",3,"ngSubmit"],["for","serviceSelect"],["id","serviceSelect","name","service","required","",3,"ngModel","ngModelChange"],["value","training"],["value","voucher"],["value","trainingPlan"],[1,"offers-item"],["for","nameInput"],["type","text","id","nameInput","name","name","required","",3,"ngModel","ngModelChange"],["for","emailInput"],["type","email","id","emailInput","name","email","required","",3,"ngModel","ngModelChange"],["for","phoneInput"],["type","tel","id","phoneInput","name","phone","required","",3,"ngModel","ngModelChange"],["for","additionalInfoTextarea"],["id","additionalInfoTextarea","name","additionalInfo",3,"ngModel","ngModelChange"],["type","submit"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"p",1),z(2,"Formularz zam\xf3wienia"),R(),M(3,"form",2),De("ngSubmit",function(){return i.addOffer()}),M(4,"label",3),z(5,"Wybierz us\u0142ug\u0119:"),R(),M(6,"select",4),De("ngModelChange",function(o){return i.selectedOption=o}),M(7,"option",5),z(8,"Trening personalny"),R(),M(9,"option",6),z(10,"Voucher"),R(),M(11,"option",7),z(12,"Plan treningowy"),R()(),M(13,"div",8)(14,"label",9),z(15,"Imi\u0119 i nazwisko:"),R(),M(16,"input",10),De("ngModelChange",function(o){return i.name=o}),R()(),M(17,"div",8)(18,"label",11),z(19,"Email:"),R(),M(20,"input",12),De("ngModelChange",function(o){return i.email=o}),R()(),M(21,"div",8)(22,"label",13),z(23,"Telefon:"),R(),M(24,"input",14),De("ngModelChange",function(o){return i.phone=o}),R()(),M(25,"div",8)(26,"label",15),z(27,"Dodatkowe informacje:"),R(),M(28,"textarea",16),De("ngModelChange",function(o){return i.additionalInfo=o}),R()(),M(29,"button",17),z(30,"Przejd\u017a do p\u0142atno\u015bci"),R()()()),2&r&&(Pi(6),ei("ngModel",i.selectedOption),Pi(10),ei("ngModel",i.name),Pi(4),ei("ngModel",i.email),Pi(4),ei("ngModel",i.phone),Pi(4),ei("ngModel",i.additionalInfo))},dependencies:[kC,P2,N2,pg,Tg,u2,TC,bg,VC,ad],styles:["#offers[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-direction:column;justify-content:center;align-items:center}.header-text[_ngcontent-%COMP%]{text-align:center;margin:15px;font-size:48px;font-weight:700}.offers-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;padding:20px;margin-bottom:20px;border-radius:15px;box-shadow:#0003 0 4px 12px;width:75%;height:100%}#serviceSelect[_ngcontent-%COMP%]{width:100%;padding:10px 0;background:none;border:none;border-bottom:1px solid #666;font-size:20px;font-weight:100;text-align:left;outline:none;transition:border-color.5s}.offers-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 0;background:none;border:none;border-bottom:1px solid #666;font-size:20px;font-weight:100;text-align:left;outline:none;transition:border-color .5s}.offers-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#c2c2c2}.offers-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom-color:#6f0000;font-weight:700}.offers-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}#additionalInfoTextarea[_ngcontent-%COMP%]{height:150px;line-height:150%;outline:0;margin-bottom:20px}.offers-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:250px}"]})}return t})();const Kie=function(t){return{open:t}};let UC=(()=>{class t{constructor(n,r){this.renderer=n,this.router=r,this.isMenuOpen=!1,this.menuState="void",this.imageState="normal"}onScroll(n){this.isMenuOpen&&(n.preventDefault(),n.stopPropagation())}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.menuState="visible"===this.menuState?"void":"visible",this.imageState="normal"===this.imageState?"rotate":"normal",this.toggleScrollLock()}toggleScrollLock(){document.body.style.overflow=this.isMenuOpen?"hidden":""}scrollToElement(n){const r=document.getElementById(n);r&&window.scrollTo({top:r.offsetTop-70,behavior:"smooth"})}navigateToSection(n){var r=this;return S(function*(){yield r.router.navigate(["/main"]),r.scrollToElement(n),r.toggleMenu()})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ir),C(Nt))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-header"]],hostBindings:function(r,i){1&r&&De("scroll",function(o){return i.onScroll(o)},0,cA)},decls:40,vars:5,consts:[["id","header"],[1,"header-container"],["id","logo","src","assets/logo/konradzelaznylogo.png","alt","Logo"],[1,"menu-toggle",3,"click"],["id","menu-icon","src","assets/icons/header-black.svg","alt","header button"],["id","separator"],[1,"menu",3,"ngClass"],[1,"menu-links"],[1,"menu-item"],[1,"menu-a",3,"click"],["src","assets/icons/right-arrow.svg","alt","arrow",1,"arrow"],[1,"social-links"],["href","https://www.facebook.com/KonradZelazny.TrenerPersonalny/","target","_blank"],["src","assets/icons/facebook-logo.svg","alt","facebook"],["href","https://www.instagram.com/zelazny_trening/","target","_blank"],["src","assets/icons/instagram-logo.svg","alt","instagram"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1),se(2,"img",2),M(3,"button",3),De("click",function(){return i.toggleMenu()}),se(4,"img",4),R()(),se(5,"div",5),M(6,"div",6)(7,"div",7)(8,"div",8),se(9,"div",5),M(10,"a",9),De("click",function(){return i.navigateToSection("homepage")}),M(11,"p"),z(12,"STRONA G\u0141\xd3WNA"),R(),se(13,"img",10),R(),se(14,"div",5),R(),M(15,"div",8)(16,"a",9),De("click",function(){return i.navigateToSection("about")}),M(17,"p"),z(18,"O MNIE"),R(),se(19,"img",10),R(),se(20,"div",5),R(),M(21,"div",8)(22,"a",9),De("click",function(){return i.navigateToSection("offer")}),M(23,"p"),z(24,"OFERTA"),R(),se(25,"img",10),R(),se(26,"div",5),R(),M(27,"div",8)(28,"a",9),De("click",function(){return i.navigateToSection("contact")}),M(29,"p"),z(30,"KONTAKT"),R(),se(31,"img",10),R(),se(32,"div",5),R()(),M(33,"div",11)(34,"a",12),se(35,"img",13),R(),M(36,"a",14),se(37,"img",15),R()(),M(38,"p"),z(39,"\xa9 2024 KONRAD \u017bELAZNY"),R()()()),2&r&&(Pi(4),ei("@buttonAnimation",i.imageState),Pi(2),ei("ngClass",WM(3,Kie,i.isMenuOpen))("@menuAnimation",i.menuState))},dependencies:[SP],styles:["#header[_ngcontent-%COMP%]{z-index:1;position:fixed;top:0;width:100%;background-color:#fff}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:5px}#logo[_ngcontent-%COMP%]{width:auto;height:60px;margin-left:7px}.menu-toggle[_ngcontent-%COMP%]{background:none;border:none}#menu-icon[_ngcontent-%COMP%]{z-index:1;margin-right:10px}#separator[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#6f0000}.menu[_ngcontent-%COMP%]{opacity:0;pointer-events:none;display:flex;flex-direction:column;position:absolute;align-items:center;width:80vw;height:100vh;top:72px;right:0;background:linear-gradient(180deg,#FFF 0%,#BDBDBD 78%);box-shadow:-4px 4px 5px #00000026;padding:10px}.menu-a[_ngcontent-%COMP%]{color:#000;text-decoration:none;display:flex;justify-content:center;align-items:center}.menu-a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;width:250px;font-size:25px;font-weight:400}p[_ngcontent-%COMP%]{text-align:center}.menu.open[_ngcontent-%COMP%]{pointer-events:auto;display:flex}.arrow[_ngcontent-%COMP%]{height:25px;fill:#6f0000}.social-links[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;margin-top:20px}@media (max-height: 600px){.menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:70vh;padding:20px;border-radius:0 0 0 20px}.menu.open[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:70vh;padding:20px}.menu-a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.social-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:100%;margin-top:20px}}"],data:{animation:[ix("menuAnimation",[nf("void",pa({opacity:0})),nf("visible",pa({opacity:1})),rf("void => visible",tf("200ms ease-in")),rf("visible => void",tf("200ms ease-out"))]),ix("buttonAnimation",[nf("normal",pa({filter:"none",transform:"scale(1)"})),nf("rotate",pa({filter:"opacity(50%)",transform:"scale(1.2)"})),rf("normal => rotate",tf("200ms ease-in")),rf("rotate => normal",tf("200ms ease-out"))])]}})}return t})(),Qie=(()=>{class t{constructor(n){this.headerComponent=n}navigateToSection(n){this.headerComponent.navigateToSection(n),this.headerComponent.toggleMenu()}static#e=this.\u0275fac=function(r){return new(r||t)(C(UC))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-homepage"]],features:[Be([UC])],decls:16,vars:0,consts:[["id","homepage"],[1,"main-image"],["src","assets/logo/konradzelaznylogowtle.png","alt","Konrad \u017belazny"],[1,"text-container"],[1,"buttons"],[1,"offer-button",3,"click"],["src","assets/backgrounds/trening.png","alt",""],[1,"button-text"],[1,"contact-button",3,"click"],["src","assets/icons/email.png","alt",""]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1),se(2,"img",2),R(),M(3,"p",3),z(4,"PROFESJONALNY TRENING POD OKIEM "),M(5,"b"),z(6,"DO\u015aWIADCZONEGO TRENERA"),R()(),M(7,"div",4)(8,"button",5),De("click",function(){return i.navigateToSection("offer")}),se(9,"img",6),M(10,"p",7),z(11,"Oferta"),R()(),M(12,"button",8),De("click",function(){return i.navigateToSection("contact")}),se(13,"img",9),M(14,"p",7),z(15,"Kontakt"),R()()()())},styles:["#homepage[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}#homepage[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0;border:2px solid #6F0000}.text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:10px;padding-bottom:10px;margin:0;color:#000;text-align:center;font-size:34px}.main-image[_ngcontent-%COMP%]{display:flex;justify-content:center;filter:drop-shadow(0px 0px 25px #00000060);width:90%}.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;z-index:-1}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.offer-button[_ngcontent-%COMP%], .contact-button[_ngcontent-%COMP%]{background-color:#fff;z-index:0;border:3px solid #6F0000;border-radius:15px;box-shadow:#0000004d 6px 4px 8px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:150px;height:150px;margin:20px}.offer-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .contact-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:50%;filter:blur(1px)}.offer-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px}.contact-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.button-text[_ngcontent-%COMP%]{color:#6f0000;font-size:26px;font-weight:700;text-shadow:0px 0px 12px white}"]})}return t})(),Yie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-about"]],decls:37,vars:0,consts:[["id","about"],[1,"primary"],[1,"main-container"],[1,"about-text"],["src","assets/backgrounds/konrad2.png","alt","Konrad \u017belazny"],[1,"second-container"],["src","assets/backgrounds/konrad3.png","alt","Konrad \u017belazny"],[1,"secondary"],[1,"text-container"],[1,"about-text-right"],[1,"third-container"],[1,"benefits-container"],[1,"benefits-items"],[1,"benefits-item"],["src","assets/icons/tick.svg","alt","Tick"],[1,"benefits-text"],["src","assets/backgrounds/konrad4.png","alt","Konrad \u017belazny"]],template:function(r,i){1&r&&(se(0,"hr"),M(1,"section",0)(2,"h1",1),z(3,"O MNIE"),R(),M(4,"div",2)(5,"p",3),z(6,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"),R(),se(7,"img",4),R(),M(8,"div",5),se(9,"img",6),M(10,"h1",7),z(11,"TRENING"),R(),M(12,"div",8)(13,"p",9),z(14,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"),R()()(),M(15,"div",10)(16,"h1",1),z(17,"DLACZEGO JA?"),R(),M(18,"div",11)(19,"div",12)(20,"div",13),se(21,"img",14),M(22,"p",15),z(23," BENEFIT"),R()(),M(24,"div",13),se(25,"img",14),M(26,"p",15),z(27," BENEFIT"),R()(),M(28,"div",13),se(29,"img",14),M(30,"p",15),z(31," BENEFIT"),R()(),M(32,"div",13),se(33,"img",14),M(34,"p",15),z(35," BENEFIT"),R()()(),se(36,"img",16),R()()())},styles:["#about[_ngcontent-%COMP%]{margin-top:30px}.primary[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:48px;font-weight:700}hr[_ngcontent-%COMP%]{margin-top:30px;border:2px solid #6F0000}.secondary[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:0;font-size:48px;font-weight:700;color:#fff}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}.main-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto}.about-text[_ngcontent-%COMP%]{margin-left:15px;font-size:20px}.about-text-right[_ngcontent-%COMP%]{width:60%;text-align:right;margin-right:15px;font-size:20px;color:#fff}.second-container[_ngcontent-%COMP%]{height:90vw}.second-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:100%}.text-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%}.third-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.benefits-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.benefits-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:15px}.benefits-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;margin-left:15px;font-size:20px}.benefits-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}"]})}return t})(),Zie=(()=>{class t{constructor(n){this.router=n}redirectToOffers(n){this.router.navigate(["/offers",{option:n}])}static#e=this.\u0275fac=function(r){return new(r||t)(C(Nt))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-offer"]],decls:37,vars:0,consts:[["id","offer"],[1,"header-text"],[1,"offer-container"],[1,"offer-item"],["src","assets/backgrounds/trening.png","alt","",1,"item-image"],[1,"item-title"],[1,"item-desc"],[1,"price-container"],[1,"price"],[1,"item-button",3,"click"],["src","assets/backgrounds/voucher.jpg","alt","",1,"item-image"],["src","assets/backgrounds/training-plan.png","alt","",1,"item-image"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"p",1),z(2,"OFERTA"),R(),M(3,"div",2)(4,"div",3),se(5,"img",4),M(6,"p",5),z(7,"Trening personalny"),R(),M(8,"p",6),z(9,"Indywidualny trening dopasowany do Twoich cel\xf3w i potrzeb"),R(),M(10,"div",7)(11,"p",8),z(12,"120 z\u0142"),R(),M(13,"button",9),De("click",function(){return i.redirectToOffers("training")}),z(14,"Wybierz"),R()()(),M(15,"div",3),se(16,"img",10),M(17,"p",5),z(18,"Voucher"),R(),M(19,"p",6),z(20,"Voucher na trening personalny"),R(),M(21,"div",7)(22,"p",8),z(23,"120 z\u0142"),R(),M(24,"button",9),De("click",function(){return i.redirectToOffers("voucher")}),z(25,"Wybierz"),R()()(),M(26,"div",3),se(27,"img",11),M(28,"p",5),z(29,"Plan treningowy"),R(),M(30,"p",6),z(31,"Spersonalizowany plan treningowy dostosowany do Twoich cel\xf3w"),R(),M(32,"div",7)(33,"p",8),z(34,"120 z\u0142"),R(),M(35,"button",9),De("click",function(){return i.redirectToOffers("trainingPlan")}),z(36,"Wybierz"),R()()()()())},styles:["#offer[_ngcontent-%COMP%]{height:2000px;display:flex;flex-direction:column;align-items:center}.header-text[_ngcontent-%COMP%]{text-align:center;margin:15px;font-size:48px;font-weight:700}.offer-container[_ngcontent-%COMP%]{display:flex;gap:20px;max-width:600px;flex-direction:column;align-items:center;justify-content:center}.offer-item[_ngcontent-%COMP%]{background-color:#fff;z-index:0;border-radius:15px;box-shadow:#0003 0 4px 12px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:75%;height:100%}.item-image[_ngcontent-%COMP%]{filter:drop-shadow(rgba(0,0,0,.3) 0px 0px 12px);margin-top:15px;border-radius:15px;width:90%}.price-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-around}.item-title[_ngcontent-%COMP%]{width:90%;font-size:28px;text-align:center;font-weight:700}.item-desc[_ngcontent-%COMP%]{width:90%;font-size:18px;text-align:center}.price[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-weight:700}.item-button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:120px}"]})}return t})(),Xie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-contact"]],decls:42,vars:0,consts:[["id","contact"],[1,"header-text"],["src","assets/backgrounds/konrad2.png","alt","Konrad \u017belazny"],["action","https://formsubmit.co/damian.kaniewski.contact@gmail.com","method","POST",1,"contact-form"],["type","text","name","name","required","","placeholder","Imi\u0119 i nazwisko"],["type","email","name","email","required","","placeholder","Adres e-mail"],["type","number","name","number","placeholder","Numer telefonu (opcjonalnie)"],["id","message","required","","name","message","placeholder","W czym mog\u0119 Ci pom\xf3c?"],["type","submit"],["type","hidden","name","_next","value","http://localhost:4200/"],["type","hidden","name","_template","value","box"],[1,"information"],[1,"information-item"],[1,"information-header"],["src","assets/icons/journey.png","alt","map icon",1,"information-img"],[1,"mapouter"],[1,"gmap_canvas"],["src","https://maps.google.com/maps?q=xtreme%20skawina&t=&z=14&ie=UTF8&iwloc=&output=embed","frameborder","0","scrolling","no",2,"width","330px","height","240px"],["href","https://blooketjoin.org/blooket-host/"],["src","assets/icons/telephone.png","alt","map icon",1,"information-img"],["src","assets/icons/email.png","alt","map icon",1,"information-img"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"p",1),z(2,"SKONTAKTUJ SI\u0118"),R(),se(3,"img",2),M(4,"form",3),se(5,"input",4)(6,"input",5)(7,"input",6)(8,"textarea",7),M(9,"button",8),z(10,"Wy\u015blij"),R(),se(11,"input",9)(12,"input",10),R(),M(13,"div",11)(14,"div",12)(15,"div",13),se(16,"img",14),M(17,"p"),z(18," Miejsce trening\xf3w"),R()(),M(19,"p"),z(20,"Xtreme Fitness"),se(21,"br"),z(22,"29 Listopada 21, 32-050 Skawina"),R(),M(23,"div",15)(24,"div",16),se(25,"iframe",17),M(26,"a",18),z(27,"blooket host"),R()()()(),M(28,"div",12)(29,"div",13),se(30,"img",19),M(31,"p"),z(32," Telefon"),R()(),M(33,"p"),z(34,"+48 666 856 171"),R()(),M(35,"div",12)(36,"div",13),se(37,"img",20),M(38,"p"),z(39," E-mail"),R()(),M(40,"p"),z(41,"zelaznykonrad@gmail.com"),R()()()())},dependencies:[kC,TC,ad],styles:["#contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:20px}.header-text[_ngcontent-%COMP%]{text-align:center;margin:15px;font-size:48px;font-weight:700}.contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;padding:20px;border-radius:15px;box-shadow:#0003 0 4px 12px;width:75%;height:100%}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 0;background:none;border:none;border-bottom:1px solid #666;font-size:20px;font-weight:100;text-align:left;outline:none;transition:border-color .5s}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#c2c2c2}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom-color:#6f0000;font-weight:700}#message[_ngcontent-%COMP%]{height:150px;line-height:150%;outline:0;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:120px}.information[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:50px}.information-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.information-img[_ngcontent-%COMP%]{width:50px;height:50px}.information-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px;font-size:20px;font-weight:700;text-align:center}.information-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.information-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px;padding:20px 10px}.mapouter[_ngcontent-%COMP%]{margin-top:15px;z-index:0}.mapouter[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-radius:15px}",".mapouter[_ngcontent-%COMP%]{position:relative;height:240px;width:330px;background:#fff;} .maprouter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff !important;position:absolute !important;top:0 !important;z-index:0 !important;}",".gmap_canvas[_ngcontent-%COMP%]{overflow:hidden;height:240px;width:370px}.gmap_canvas[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:relative;z-index:2}"]})}return t})();const Jie=[{path:"offers",component:Wie},{path:"main",component:(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-body"]],decls:4,vars:0,template:function(r,i){1&r&&se(0,"app-homepage")(1,"app-about")(2,"app-offer")(3,"app-contact")},dependencies:[Qie,Yie,Zie,Xie]})}return t})()},{path:"offer-thanks",component:(()=>{class t{constructor(n){this.router=n,setTimeout(()=>{this.router.navigate(["/main"])},3e3)}goBack(){this.router.navigate(["/main"])}static#e=this.\u0275fac=function(r){return new(r||t)(C(Nt))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-offer-thanks"]],decls:10,vars:0,consts:[["id","offer-thanks"],[1,"thanks"],[1,"info"],["id","backButton",3,"click"],["src","assets/logo/konradzelaznylogowtle.png","alt","Konrad \u017belazny"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1)(2,"p"),z(3,"Dzi\u0119kuj\u0119 za z\u0142o\u017cenie zam\xf3wienia! Trener skontaktuje si\u0119 z Tob\u0105 w najbli\u017cszym czasie."),R()(),M(4,"div",2)(5,"p"),z(6,"Za chwil\u0119 zostaniesz przekierowany na stron\u0119 g\u0142\xf3wn\u0105. Je\u015bli przekierowanie si\u0119 nie powiod\u0142o, wci\u015bnij przycisk:"),R(),M(7,"button",3),De("click",function(){return i.goBack()}),z(8,"Powr\xf3t"),R()(),se(9,"img",4),R())},styles:["#offer-thanks[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-direction:column;justify-content:center;align-items:center}#offer-thanks[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%}.thanks[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center;width:80%}.info[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:20px;text-align:center;width:80%}#backButton[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:250px}"]})}return t})()}];let ese=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Un({imports:[W1.forRoot(Jie),W1]})}return t})(),tse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[["id","footer"],[1,"main"],[1,"social-links"],["href","https://www.facebook.com/KonradZelazny.TrenerPersonalny/","target","_blank"],["src","assets/icons/facebook-logo.svg","alt","facebook"],["href","https://www.instagram.com/zelazny_trening/","target","_blank"],["src","assets/icons/instagram-logo.svg","alt","instagram"],[1,"signature"],[1,"author"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1)(2,"div",2)(3,"a",3),se(4,"img",4),R(),M(5,"a",5),se(6,"img",6),R()(),M(7,"p",7),z(8,"\xa9 2024 KONRAD \u017bELAZNY"),R()(),M(9,"p",8),z(10,"Tw\xf3rca strony: Damian Kaniewski"),R()())},styles:["#footer[_ngcontent-%COMP%]{background-color:#6f0000;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:5px}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.social-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px}.social-links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.signature[_ngcontent-%COMP%]{font-size:14px;text-align:right;vertical-align:center;padding-bottom:3px}.author[_ngcontent-%COMP%]{font-size:12px;text-align:right;vertical-align:center;margin:0}"]})}return t})(),nse=(()=>{class t{constructor(n,r){this.router=n,this.firebaseService=r,this.title="Konrad \u017belazny",this.router.navigate(["/main"])}static#e=this.\u0275fac=function(r){return new(r||t)(C(Nt),C(VL))};static#t=this.\u0275cmp=Cn({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&se(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Wv,UC,tse]})}return t})(),rse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t,bootstrap:[nse]});static#n=this.\u0275inj=Un({imports:[XP,ese,yW,qie]})}return t})();p8().bootstrapModule(rse).catch(t=>console.error(t))}},Re=>{Re(Re.s=383)}]);