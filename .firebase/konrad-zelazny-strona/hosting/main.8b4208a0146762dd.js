(self.webpackChunkkonrad_zelazny_strona=self.webpackChunkkonrad_zelazny_strona||[]).push([[179],{383:(nc,or,$s)=>{"use strict";function Me(t){return"function"==typeof t}function rc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ic=rc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function sc(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class mn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof ic?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{oh(s)}catch(o){e=e??[],o instanceof ic?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)oh(e);else{if(e instanceof mn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&sc(n,e)}remove(e){const{_finalizers:n}=this;n&&sc(n,e),e instanceof mn&&e._removeParent(this)}}mn.EMPTY=(()=>{const t=new mn;return t.closed=!0,t})();const ih=mn.EMPTY;function sh(t){return t instanceof mn||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function oh(t){Me(t)?t():t.unsubscribe()}const vi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Go={setTimeout(t,e,...n){const{delegate:r}=Go;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ah(t){Go.setTimeout(()=>{const{onUnhandledError:e}=vi;if(!e)throw t;e(t)})}function oc(){}const Nm=Zi("C",void 0,void 0);function Zi(t,e,n){return{kind:t,value:e,error:n}}let Br=null;function Wo(t){if(vi.useDeprecatedSynchronousErrorHandling){const e=!Br;if(e&&(Br={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Br;if(Br=null,n)throw r}}else t()}class Ko extends mn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sh(e)&&e.add(this)):this.destination=Bm}static create(e,n,r){return new zs(e,n,r)}next(e){this.isStopped?cc(function Om(t){return Zi("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?cc(function ac(t){return Zi("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cc(Nm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vm=Function.prototype.bind;function uc(t,e){return Vm.call(t,e)}class Fm{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Qo(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Qo(r)}else Qo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Qo(n)}}}class zs extends Ko{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&vi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uc(e.next,s),error:e.error&&uc(e.error,s),complete:e.complete&&uc(e.complete,s)}):i=e}this.destination=new Fm(i)}}function Qo(t){vi.useDeprecatedSynchronousErrorHandling?function km(t){vi.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=t)}(t):ah(t)}function cc(t,e){const{onStoppedNotification:n}=vi;n&&Go.setTimeout(()=>n(t,e))}const Bm={closed:!0,next:oc,error:function Lm(t){throw t},complete:oc},lc="function"==typeof Symbol&&Symbol.observable||"@@observable";function jr(t){return t}function uh(t){return 0===t.length?jr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let et=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function lh(t){return t&&t instanceof Ko||function ch(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&sh(t)}(n)?n:new zs(n,r,i);return Wo(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Yo(r))((i,s)=>{const o=new zs({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[lc](){return this}pipe(...n){return uh(n)(this)}toPromise(n){return new(n=Yo(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Yo(t){var e;return null!==(e=t??vi.Promise)&&void 0!==e?e:Promise}const dh=rc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $n=(()=>{class t extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new dc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dh}next(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ih:(this.currentObservers=null,s.push(n),new mn(()=>{this.currentObservers=null,sc(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return t.create=(e,n)=>new dc(e,n),t})();class dc extends $n{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ih}}function hc(t){return Me(t?.lift)}function yt(t){return e=>{if(hc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new Um(t,e,n,r,i)}class Um extends Ko{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pe(t,e){return yt((n,r)=>{let i=0;n.subscribe(ut(r,s=>{r.next(t.call(e,s,i++))}))})}function x(t){return this instanceof x?(this.v=t,this):new x(t)}function fe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Cr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $r=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Mt(t){return Me(t?.then)}function ge(t){return Me(t[lc])}function dt(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function kt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const XC=function FB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JC(t){return Me(t?.[XC])}function eT(t){return function U(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof x?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield x(n.read());if(i)return yield x(void 0);yield yield x(r)}}finally{n.releaseLock()}})}function tT(t){return Me(t?.getReader)}function zn(t){if(t instanceof et)return t;if(null!=t){if(ge(t))return function LB(t){return new et(e=>{const n=t[lc]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if($r(t))return function BB(t){return new et(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Mt(t))return function jB(t){return new et(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ah)})}(t);if(dt(t))return nT(t);if(JC(t))return function UB(t){return new et(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(tT(t))return function $B(t){return nT(eT(t))}(t)}throw kt(t)}function nT(t){return new et(e=>{(function zB(t,e){var n,r,i,s;return function Dr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=fe(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function wi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Gt(t,e,n=1/0){return Me(e)?Gt((r,i)=>Pe((s,o)=>e(r,s,i,o))(zn(t(r,i))),n):("number"==typeof e&&(n=e),yt((r,i)=>function HB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;zn(n(g,l++)).subscribe(ut(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const _=u.shift();o?wi(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Jo(t=1/0){return Gt(jr,t)}const zr=new et(t=>t.complete());function qm(t){return t[t.length-1]}function rT(t){return Me(qm(t))?t.pop():void 0}function mc(t){return function GB(t){return t&&Me(t.schedule)}(qm(t))?t.pop():void 0}function iT(t,e=0){return yt((n,r)=>{n.subscribe(ut(r,i=>wi(r,t,()=>r.next(i),e),()=>wi(r,t,()=>r.complete(),e),i=>wi(r,t,()=>r.error(i),e)))})}function sT(t,e=0){return yt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oT(t,e){if(!t)throw new Error("Iterable cannot be null");return new et(n=>{wi(n,e,()=>{const r=t[Symbol.asyncIterator]();wi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vt(t,e){return e?function JB(t,e){if(null!=t){if(ge(t))return function KB(t,e){return zn(t).pipe(sT(e),iT(e))}(t,e);if($r(t))return function YB(t,e){return new et(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Mt(t))return function QB(t,e){return zn(t).pipe(sT(e),iT(e))}(t,e);if(dt(t))return oT(t,e);if(JC(t))return function ZB(t,e){return new et(n=>{let r;return wi(n,e,()=>{r=t[XC](),wi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(tT(t))return function XB(t,e){return oT(eT(t),e)}(t,e)}throw kt(t)}(t,e):zn(t)}class ur extends $n{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function re(...t){return Vt(t,mc(t))}function aT(t={}){const{connector:e=(()=>new $n),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return yt((g,m)=>{c++,!d&&!l&&h();const _=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Gm(p,i))}),_.subscribe(m),!o&&c>0&&(o=new zs({next:y=>_.next(y),error:y=>{d=!0,h(),a=Gm(f,n,y),_.error(y)},complete:()=>{l=!0,h(),a=Gm(f,r),_.complete()}}),zn(g).subscribe(o))})(s)}}function Gm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new zs({next:()=>{r.unsubscribe(),t()}});return zn(e(...n)).subscribe(r)}function Hr(t,e){return yt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;zn(t(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function nj(t,e){return t===e}function Ne(t){for(let e in t)if(t[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function _h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Wm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rj=Ne({__forward_ref__:Ne});function He(t){return t.__forward_ref__=He,t.toString=function(){return Rt(this())},t}function ee(t){return Km(t)?t():t}function Km(t){return"function"==typeof t&&t.hasOwnProperty(rj)&&t.__forward_ref__===He}function Qm(t){return t&&!!t.\u0275providers}class w extends Error{constructor(e,n){super(function vh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function se(t){return"string"==typeof t?t:null==t?"":String(t)}function Ym(t,e){throw new w(-201,!1)}function cr(t,e){null==t&&function X(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Eh(t){return cT(t,Ih)||cT(t,lT)}function cT(t,e){return t.hasOwnProperty(e)?t[e]:null}function wh(t){return t&&(t.hasOwnProperty(Zm)||t.hasOwnProperty(dj))?t[Zm]:null}const Ih=Ne({\u0275prov:Ne}),Zm=Ne({\u0275inj:Ne}),lT=Ne({ngInjectableDef:Ne}),dj=Ne({ngInjectorDef:Ne});var me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{});let Xm;function xn(t){const e=Xm;return Xm=t,e}function hT(t,e,n){const r=Eh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&me.Optional?null:void 0!==e?e:void Ym(Rt(t))}const qe=globalThis;class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yc={},ry="__NG_DI_FLAG__",Dh="ngTempTokenPath",pj=/\n/gm,pT="__source";let ea;function Xi(t){const e=ea;return ea=t,e}function yj(t,e=me.Default){if(void 0===ea)throw new w(-203,!1);return null===ea?hT(t,void 0,e):ea.get(t,e&me.Optional?null:void 0,e)}function G(t,e=me.Default){return(function dT(){return Xm}()||yj)(ee(t),e)}function B(t,e=me.Default){return G(t,Ch(e))}function Ch(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function iy(t){const e=[];for(let n=0;n<t.length;n++){const r=ee(t[n]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],u=_j(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function _c(t,e){return t[ry]=e,t.prototype[ry]=e,t}function _j(t){return t[ry]}function Ii(t){return{toString:t}.toString()}var Th=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Th||{}),dr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(dr||{});const qr={},be=[],bh=Ne({\u0275cmp:Ne}),sy=Ne({\u0275dir:Ne}),oy=Ne({\u0275pipe:Ne}),mT=Ne({\u0275mod:Ne}),Di=Ne({\u0275fac:Ne}),vc=Ne({__NG_ELEMENT_ID__:Ne}),yT=Ne({__NG_ENV_ID__:Ne});function _T(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ay(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ET(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vT(t){return 3===t||4===t||6===t}function ET(t){return 64===t.charCodeAt(0)}function Ec(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const IT="ng-template";function wj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==_T(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function DT(t){return 4===t.type&&t.value!==IT}function Ij(t,e,n){return e===(4!==t.type||n?t.value:IT)}function Dj(t,e,n){let r=4;const i=t.attrs||[],s=function bj(t){for(let e=0;e<t.length;e++)if(vT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Ij(t,u,n)||""===u&&1===e.length){if(Tr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!wj(t.attrs,c,n)){if(Tr(r))return!1;o=!0}continue}const d=Cj(8&r?"class":u,i,DT(t),n);if(-1===d){if(Tr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==_T(f,c,0)||2&r&&c!==h){if(Tr(r))return!1;o=!0}}}}else{if(!o&&!Tr(r)&&!Tr(u))return!1;if(o&&Tr(u))continue;o=!1,r=u|1&r}}return Tr(r)||o}function Tr(t){return 0==(1&t)}function Cj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Aj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function CT(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dj(t,e[r],n))return!0;return!1}function TT(t,e){return t?":not("+e.trim()+")":e}function Mj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Tr(o)&&(e+=TT(s,i),i=""),r=o,s=s||!Tr(r);n++}return""!==i&&(e+=TT(s,i)),e}function qn(t){return Ii(()=>{const e=AT(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Th.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||dr.Emulated,styles:t.styles||be,_:null,schemas:t.schemas||null,tView:null,id:""};ST(n);const r=t.dependencies;return n.directiveDefs=Ah(r,!1),n.pipeDefs=Ah(r,!0),n.id=function Fj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Nj(t){return we(t)||Wt(t)}function Oj(t){return null!==t}function br(t){return Ii(()=>({type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bT(t,e){if(null==t)return qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function te(t){return Ii(()=>{const e=AT(t);return ST(e),e})}function we(t){return t[bh]||null}function Wt(t){return t[sy]||null}function yn(t){return t[oy]||null}function Gn(t,e){const n=t[mT]||null;if(!n&&!0===e)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return n}function AT(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||be,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bT(t.inputs,e),outputs:bT(t.outputs)}}function ST(t){t.features?.forEach(e=>e(t))}function Ah(t,e){if(!t)return null;const n=e?yn:Nj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Oj)}const ht=0,V=1,le=2,tt=3,Ar=4,wc=5,sn=6,na=7,vt=8,Ji=9,ra=10,oe=11,Ic=12,MT=13,ia=14,Et=15,Dc=16,sa=17,Gr=18,Cc=19,RT=20,es=21,Ci=22,Tc=23,bc=24,ye=25,uy=1,xT=2,Wr=7,oa=9,Kt=11;function Nn(t){return Array.isArray(t)&&"object"==typeof t[uy]}function _n(t){return Array.isArray(t)&&!0===t[uy]}function cy(t){return 0!=(4&t.flags)}function qs(t){return t.componentOffset>-1}function Mh(t){return 1==(1&t.flags)}function Sr(t){return!!t.template}function ly(t){return 0!=(512&t[le])}function Gs(t,e){return t.hasOwnProperty(Di)?t[Di]:null}let Qt=null,Rh=!1;function hr(t){const e=Qt;return Qt=t,e}const OT={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function VT(t){if(!Sc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!BT(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function LT(t){t.dirty=!0,function FT(t){if(void 0===t.liveConsumerNode)return;const e=Rh;Rh=!0;try{for(const n of t.liveConsumerNode)n.dirty||LT(n)}finally{Rh=e}}(t),t.consumerMarkedDirty?.(t)}function hy(t){return t&&(t.nextProducerIndex=0),hr(t)}function fy(t,e){if(hr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Sc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function BT(t){aa(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VT(n),r!==n.version))return!0}return!1}function jT(t){if(aa(t),Sc(t))for(let e=0;e<t.producerNode.length;e++)xh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xh(t,e){if(function $T(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),aa(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)xh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];aa(i),i.producerIndexOfThis[r]=e}}function Sc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function aa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let zT=null;const WT=()=>{},Yj=(()=>({...OT,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:WT}))();class Zj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function fr(){return KT}function KT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Jj),Xj}function Xj(){const t=YT(this),e=t?.current;if(e){const n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Jj(t,e,n,r){const i=this.declaredInputs[n],s=YT(t)||function eU(t,e){return t[QT]=e}(t,{previous:qr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Zj(u&&u.currentValue,e,a===qr),t[r]=e}fr.ngInherit=!0;const QT="__ngSimpleChanges__";function YT(t){return t[QT]||null}const Kr=function(t,e,n){};function Ge(t){for(;Array.isArray(t);)t=t[ht];return t}function On(t,e){return Ge(e[t.index])}function JT(t,e){return t.data[e]}function Wn(t,e){const n=e[t];return Nn(n)?n:n[ht]}function ns(t,e){return null==e?null:t[e]}function eb(t){t[sa]=0}function oU(t){1024&t[le]||(t[le]|=1024,nb(t,1))}function tb(t){1024&t[le]&&(t[le]&=-1025,nb(t,-1))}function nb(t,e){let n=t[tt];if(null===n)return;n[wc]+=e;let r=n;for(n=n[tt];null!==n&&(1===e&&1===r[wc]||-1===e&&0===r[wc]);)n[wc]+=e,r=n,n=n[tt]}const J={lFrame:fb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sb(){return J.bindingsEnabled}function C(){return J.lFrame.lView}function Ie(){return J.lFrame.tView}function Yt(){let t=ob();for(;null!==t&&64===t.type;)t=t.parent;return t}function ob(){return J.lFrame.currentTNode}function Qr(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function _y(){return J.lFrame.isParent}function la(){return J.lFrame.bindingIndex++}function EU(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ey(e)}function Ey(t){J.lFrame.currentDirectiveIndex=t}function Iy(t){J.lFrame.currentQueryIndex=t}function IU(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[sn]:null}function db(t,e,n){if(n&me.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&me.Host||(i=IU(s),null===i||(s=s[ia],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=hb();return r.currentTNode=e,r.lView=t,!0}function Dy(t){const e=hb(),n=t[V];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hb(){const t=J.lFrame,e=null===t?null:t.child;return null===e?fb(t):e}function fb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pb(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gb=pb;function Cy(){const t=pb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function En(){return J.lFrame.selectedIndex}function Ws(t){J.lFrame.selectedIndex=t}function st(){const t=J.lFrame;return JT(t.tView,t.selectedIndex)}let yb=!0;function Nh(){return yb}function rs(t){yb=t}function Oh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function kh(t,e,n){_b(t,e,3,n)}function Vh(t,e,n,r){(3&t[le])===n&&_b(t,e,n,r)}function Ty(t,e){let n=t[le];(3&n)===e&&(n&=8191,n+=1,t[le]=n)}function _b(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[sa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[sa]+=65536),(a<s||-1==s)&&(RU(t,n,e,u),t[sa]=(4294901760&t[sa])+u+2),u++}function vb(t,e){Kr(4,t,e);const n=hr(null);try{e.call(t)}finally{hr(n),Kr(5,t,e)}}function RU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[le]>>13<t[sa]>>16&&(3&t[le])===e&&(t[le]+=8192,vb(a,s)):vb(a,s)}const da=-1;class Rc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ay(t){return t!==da}function xc(t){return 32767&t}function Pc(t,e){let n=function OU(t){return t>>16}(t),r=e;for(;n>0;)r=r[ia],n--;return r}let Sy=!0;function Fh(t){const e=Sy;return Sy=t,e}const Eb=255,wb=5;let kU=0;const Yr={};function Lh(t,e){const n=Ib(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,My(r.data,t),My(e,null),My(r.blueprint,null));const i=Bh(t,e),s=t.injectorIndex;if(Ay(i)){const o=xc(i),a=Pc(i,e),u=a[V].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function My(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ib(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Bh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Mb(i),null===r)return da;if(n++,i=i[ia],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return da}function Ry(t,e,n){!function VU(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(vc)&&(r=n[vc]),null==r&&(r=n[vc]=kU++);const i=r&Eb;e.data[t+(i>>wb)]|=1<<i}(t,e,n)}function Db(t,e,n){if(n&me.Optional||void 0!==t)return t;Ym()}function Cb(t,e,n,r){if(n&me.Optional&&void 0===r&&(r=null),!(n&(me.Self|me.Host))){const i=t[Ji],s=xn(void 0);try{return i?i.get(e,r,n&me.Optional):hT(e,r,n&me.Optional)}finally{xn(s)}}return Db(r,0,n)}function Tb(t,e,n,r=me.Default,i){if(null!==t){if(2048&e[le]&&!(r&me.Self)){const o=function $U(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[le]&&!(512&o[le]);){const a=bb(s,o,n,r|me.Self,Yr);if(a!==Yr)return a;let u=s.parent;if(!u){const c=o[RT];if(c){const l=c.get(n,Yr,r);if(l!==Yr)return l}u=Mb(o),o=o[ia]}s=u}return i}(t,e,n,r,Yr);if(o!==Yr)return o}const s=bb(t,e,n,r,Yr);if(s!==Yr)return s}return Cb(e,n,r,i)}function bb(t,e,n,r,i){const s=function BU(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(vc)?t[vc]:void 0;return"number"==typeof e?e>=0?e&Eb:UU:e}(n);if("function"==typeof s){if(!db(e,t,r))return r&me.Host?Db(i,0,r):Cb(e,n,r,i);try{let o;if(o=s(r),null!=o||r&me.Optional)return o;Ym()}finally{gb()}}else if("number"==typeof s){let o=null,a=Ib(t,e),u=da,c=r&me.Host?e[Et][sn]:null;for((-1===a||r&me.SkipSelf)&&(u=-1===a?Bh(t,e):e[a+8],u!==da&&Sb(r,!1)?(o=e[V],a=xc(u),e=Pc(u,e)):a=-1);-1!==a;){const l=e[V];if(Ab(s,a,l.data)){const d=LU(a,e,n,o,r,c);if(d!==Yr)return d}u=e[a+8],u!==da&&Sb(r,e[V].data[a+8]===c)&&Ab(s,a,e)?(o=l,a=xc(u),e=Pc(u,e)):a=-1}}return i}function LU(t,e,n,r,i,s){const o=e[V],a=o.data[t+8],l=function jh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Sr(f)&&f.type===n)return u}return null}(a,o,n,null==r?qs(a)&&Sy:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==l?Ks(e,o,l,a):Yr}function Ks(t,e,n,r){let i=t[n];const s=e.data;if(function xU(t){return t instanceof Rc}(i)){const o=i;o.resolving&&function ij(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new w(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():se(t)}(s[n]));const a=Fh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?xn(o.injectImpl):null;db(t,r,me.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function MU(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=KT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&xn(c),Fh(a),o.resolving=!1,gb()}}return i}function Ab(t,e,n){return!!(n[e+(t>>wb)]&1<<t)}function Sb(t,e){return!(t&me.Self||t&me.Host&&e)}class wn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Tb(this._tNode,this._lView,e,Ch(r),n)}}function UU(){return new wn(Yt(),C())}function Zt(t){return Ii(()=>{const e=t.prototype.constructor,n=e[Di]||xy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Di]||xy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xy(t){return Km(t)?()=>{const e=xy(ee(t));return e&&e()}:Gs(t)}function Mb(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[sn]:null}const fa="__parameters__";function ga(t,e,n){return Ii(()=>{const r=function Py(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(fa)?u[fa]:Object.defineProperty(u,fa,{value:[]})[fa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ya(t,e){t.forEach(n=>Array.isArray(n)?ya(n,e):e(n))}function xb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $h(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Kn(t,e,n){let r=_a(t,e);return r>=0?t[1|r]=n:(r=~r,function QU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ny(t,e){const n=_a(t,e);if(n>=0)return t[1|n]}function _a(t,e){return function Pb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Hh=_c(ga("Optional"),8),qh=_c(ga("SkipSelf"),4);function Yh(t){return 128==(128&t.flags)}var is=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(is||{});const Ly=new Map;let v$=0;const jy="__ngContext__";function on(t,e){Nn(e)?(t[jy]=e[Cc],function w$(t){Ly.set(t[Cc],t)}(e)):t[jy]=e}let Uy;function $y(t,e){return Uy(t,e)}function Lc(t){const e=t[tt];return _n(e)?e[tt]:e}function Xb(t){return eA(t[Ic])}function Jb(t){return eA(t[Ar])}function eA(t){for(;null!==t&&!_n(t);)t=t[Ar];return t}function wa(t,e,n,r,i){if(null!=r){let s,o=!1;_n(r)?s=r:Nn(r)&&(o=!0,r=r[ht]);const a=Ge(r);0===t&&null!==n?null==i?iA(e,n,a):Qs(e,n,a,i||null,!0):1===t&&null!==n?Qs(e,n,a,i||null,!0):2===t?function rf(t,e,n){const r=tf(t,e);r&&function j$(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function z$(t,e,n,r,i){const s=n[Wr];s!==Ge(n)&&wa(e,t,r,s,i);for(let a=Kt;a<n.length;a++){const u=n[a];jc(u[V],u,t,e,r,s)}}(e,t,s,n,i)}}function Jh(t,e,n){return t.createElement(e,n)}function nA(t,e){const n=t[oa],r=n.indexOf(e);tb(e),n.splice(r,1)}function ef(t,e){if(t.length<=Kt)return;const n=Kt+e,r=t[n];if(r){const i=r[Dc];null!==i&&i!==t&&nA(i,r),e>0&&(t[n-1][Ar]=r[Ar]);const s=$h(t,Kt+e);!function P$(t,e){jc(t,e,e[oe],2,null,null),e[ht]=null,e[sn]=null}(r[V],r);const o=s[Gr];null!==o&&o.detachView(s[V]),r[tt]=null,r[Ar]=null,r[le]&=-129}return r}function Hy(t,e){if(!(256&e[le])){const n=e[oe];e[Tc]&&jT(e[Tc]),e[bc]&&jT(e[bc]),n.destroyNode&&jc(t,e,n,3,null,null),function k$(t){let e=t[Ic];if(!e)return qy(t[V],t);for(;e;){let n=null;if(Nn(e))n=e[Ic];else{const r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[Ar]&&e!==t;)Nn(e)&&qy(e[V],e),e=e[tt];null===e&&(e=t),Nn(e)&&qy(e[V],e),n=e&&e[Ar]}e=n}}(e)}}function qy(t,e){if(!(256&e[le])){e[le]&=-129,e[le]|=256,function B$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Rc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Kr(4,a,u);try{u.call(a)}finally{Kr(5,a,u)}}else{Kr(4,i,s);try{s.call(i)}finally{Kr(5,i,s)}}}}}(t,e),function L$(t,e){const n=t.cleanup,r=e[na];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[na]=null);const i=e[es];if(null!==i){e[es]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[V].type&&e[oe].destroy();const n=e[Dc];if(null!==n&&_n(e[tt])){n!==e[tt]&&nA(n,e);const r=e[Gr];null!==r&&r.detachView(t)}!function I$(t){Ly.delete(t[Cc])}(e)}}function Gy(t,e,n){return function rA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ht];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===dr.None||s===dr.Emulated)return null}return On(r,n)}}(t,e.parent,n)}function Qs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iA(t,e,n){t.appendChild(e,n)}function sA(t,e,n,r,i){null!==r?Qs(t,e,n,r,i):iA(t,e,n)}function tf(t,e){return t.parentNode(e)}let Wy,Zy,uA=function aA(t,e,n){return 40&t.type?On(t,n):null};function nf(t,e,n,r){const i=Gy(t,r,e),s=e[oe],a=function oA(t,e,n){return uA(t,e,n)}(r.parent||e[sn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)sA(s,i,n[u],a,!1);else sA(s,i,n,a,!1);void 0!==Wy&&Wy(s,r,e,n,i)}function Bc(t,e){if(null!==e){const n=e.type;if(3&n)return On(e,t);if(4&n)return Ky(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Bc(t,r);{const i=t[e.index];return _n(i)?Ky(-1,i):Ge(i)}}if(32&n)return $y(e,t)()||Ge(t[e.index]);{const r=lA(t,e);return null!==r?Array.isArray(r)?r[0]:Bc(Lc(t[Et]),r):Bc(t,e.next)}}return null}function lA(t,e){return null!==e?t[Et][sn].projection[e.projection]:null}function Ky(t,e){const n=Kt+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return Bc(r,i)}return e[Wr]}function Qy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&on(Ge(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Qy(t,e,n.child,r,i,s,!1),wa(e,t,i,a,s);else if(32&u){const c=$y(n,r);let l;for(;l=c();)wa(e,t,i,l,s);wa(e,t,i,a,s)}else 16&u?hA(t,e,r,n,i,s):wa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function jc(t,e,n,r,i,s){Qy(n,r,t.firstChild,e,i,s,!1)}function hA(t,e,n,r,i,s){const o=n[Et],u=o[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)wa(e,t,i,u[c],s);else{let c=u;const l=o[tt];Yh(r)&&(c.flags|=128),Qy(t,e,c,l,i,s,!0)}}function fA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ay(t,e,r),null!==i&&fA(t,e,i),null!==s&&function q$(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class _A{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Hc=new z("ENVIRONMENT_INITIALIZER"),SA=new z("INJECTOR",-1),MA=new z("INJECTOR_DEF_TYPES");class r_{get(e,n=yc){if(n===yc){const r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return n}}function _4(...t){return{\u0275providers:xA(0,t),\u0275fromNgModule:!0}}function xA(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ya(e,o=>{const a=o;cf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&PA(i,s),n}function PA(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];i_(i,s=>{e(s,r)})}}function cf(t,e,n,r){if(!(t=ee(t)))return!1;let i=null,s=wh(t);const o=!s&&we(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=wh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)cf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ya(s.imports,l=>{cf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&PA(c,e)}if(!a){const c=Gs(i)||(()=>new i);e({provide:i,useFactory:c,deps:be},i),e({provide:MA,useValue:i,multi:!0},i),e({provide:Hc,useValue:()=>G(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;i_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function i_(t,e){for(let n of t)Qm(n)&&(n=n.\u0275providers),Array.isArray(n)?i_(n,e):e(n)}const v4=Ne({provide:String,useValue:Ne});function s_(t){return null!==t&&"object"==typeof t&&v4 in t}function Ys(t){return"function"==typeof t}const o_=new z("Set Injector scope."),lf={},w4={};let a_;function df(){return void 0===a_&&(a_=new r_),a_}class gr{}class Ta extends gr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c_(e,o=>this.processProvider(o)),this.records.set(SA,ba(void 0,this)),i.has("environment")&&this.records.set(gr,ba(void 0,this));const s=this.records.get(o_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MA.multi,be,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Xi(this),r=xn(void 0);try{return e()}finally{Xi(n),xn(r)}}get(e,n=yc,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yT))return e[yT](this);r=Ch(r);const s=Xi(this),o=xn(void 0);try{if(!(r&me.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function b4(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Eh(e);u=c&&this.injectableDefInScope(c)?ba(u_(e),lf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&me.Self?df():this.parent).get(e,n=r&me.Optional&&n===yc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Dh]=a[Dh]||[]).unshift(Rt(e)),s)throw a;return function vj(t,e,n,r){const i=t[Dh];throw e[pT]&&i.unshift(e[pT]),t.message=function Ej(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Rt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Dh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{xn(o),Xi(s)}}resolveInjectorInitializers(){const e=Xi(this),n=xn(void 0);try{const i=this.get(Hc.multi,be,me.Self);for(const s of i)s()}finally{Xi(e),xn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){let n=Ys(e=ee(e))?e:ee(e&&e.provide);const r=function D4(t){return s_(t)?ba(void 0,t.useValue):ba(kA(t),lf)}(e);if(Ys(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ba(void 0,lf,!0),i.factory=()=>iy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===lf&&(n.value=w4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function T4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ee(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function u_(t){const e=Eh(t),n=null!==e?e.factory:Gs(t);if(null!==n)return n;if(t instanceof z)throw new w(204,!1);if(t instanceof Function)return function I4(t){const e=t.length;if(e>0)throw function kc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new w(204,!1);const n=function lj(t){return t&&(t[Ih]||t[lT])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new w(204,!1)}function kA(t,e,n){let r;if(Ys(t)){const i=ee(t);return Gs(i)||u_(i)}if(s_(t))r=()=>ee(t.useValue);else if(function OA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...iy(t.deps||[]));else if(function NA(t){return!(!t||!t.useExisting)}(t))r=()=>G(ee(t.useExisting));else{const i=ee(t&&(t.useClass||t.provide));if(!function C4(t){return!!t.deps}(t))return Gs(i)||u_(i);r=()=>new i(...iy(t.deps))}return r}function ba(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function c_(t,e){for(const n of t)Array.isArray(n)?c_(n,e):n&&Qm(n)?c_(n.\u0275providers,e):e(n)}const hf=new z("AppId",{providedIn:"root",factory:()=>A4}),A4="ng",VA=new z("Platform Initializer"),Aa=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FA=new z("AnimationModuleType"),LA=new z("CSP nonce",{providedIn:"root",factory:()=>function Da(){if(void 0!==Zy)return Zy;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let BA=(t,e,n)=>null;function y_(t,e,n=!1){return BA(t,e,n)}class F4{}class $A{}class B4{resolveComponentFactory(e){throw function L4(t){const e=Error(`No component factory found for ${Rt(t)}.`);return e.ngComponent=t,e}(e)}}let _f=(()=>{class t{static#e=this.NULL=new B4}return t})();function j4(){return Ra(Yt(),C())}function Ra(t,e){return new Qn(On(t,e))}let Qn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=j4}return t})();class Wc{}let Zr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $4(){const t=C(),n=Wn(Yt().index,t);return(Nn(n)?n:t)[oe]}()}return t})(),z4=(()=>{class t{static#e=this.\u0275prov=K({token:t,providedIn:"root",factory:()=>null})}return t})();class Kc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const H4=new Kc("16.2.12"),E_={};function WA(t,e=null,n=null,r){const i=KA(t,e,n,r);return i.resolveInjectorInitializers(),i}function KA(t,e=null,n=null,r,i=new Set){const s=[n||be,_4(t)];return r=r||("object"==typeof t?void 0:Rt(t)),new Ta(s,e||df(),r||null,i)}let Yn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=yc;static#t=this.NULL=new r_;static create(n,r){if(Array.isArray(n))return WA({name:""},r,n,"");{const i=n.name??"";return WA({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=K({token:t,providedIn:"any",factory:()=>G(SA)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function I_(t){return t.ngOriginalError}class Si{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&I_(e);for(;n&&I_(n);)n=I_(n);return n||null}}function C_(t){return e=>{setTimeout(t,void 0,e)}}const ft=class Z4 extends $n{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=C_(s),i&&(i=C_(i)),o&&(o=C_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof mn&&e.add(a),a}};function YA(...t){}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function X4(){const t="function"==typeof qe.requestAnimationFrame;let e=qe[t?"requestAnimationFrame":"setTimeout"],n=qe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function tz(t){const e=()=>{!function ez(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,T_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function rz(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return ZA(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),XA(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ZA(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),XA(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,b_(t),T_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new w(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,J4,YA,YA);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const J4={};function T_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ZA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XA(t){t._nesting--,T_(t)}class nz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const JA=new z("",{providedIn:"root",factory:eS});function eS(){const t=B(je);let e=!0;return function ej(...t){const e=mc(t),n=function WB(t,e){return"number"==typeof qm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?zn(r[0]):Jo(n)(Vt(r,e)):zr}(new et(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new et(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{je.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(aT()))}function tS(t){return t.ownerDocument.defaultView}function Mi(t){return t instanceof Function?t():t}let A_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}return t})();function Qc(t){for(;t;){t[le]|=64;const e=Lc(t);if(ly(t)&&!e)return t;t=e}return null}const oS=new z("",{providedIn:"root",factory:()=>!1});let Ef=null;function lS(t,e){return t[e]??fS()}function dS(t,e){const n=fS();n.producerNode?.length&&(t[e]=Ef,n.lView=t,Ef=hS())}const hz={...OT,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qc(t.lView)},lView:null};function hS(){return Object.create(hz)}function fS(){return Ef??=hS(),Ef}const ce={};function Mr(t){pS(Ie(),C(),En()+t,!1)}function pS(t,e,n,r){if(!r)if(3==(3&e[le])){const s=t.preOrderCheckHooks;null!==s&&kh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Vh(e,s,0,n)}Ws(n)}function T(t,e=me.Default){const n=C();return null===n?G(t,e):Tb(Yt(),n,ee(t),e)}function wf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ht]=i,d[le]=140|r,(null!==c||t&&2048&t[le])&&(d[le]|=2048),eb(d),d[tt]=d[ia]=t,d[vt]=n,d[ra]=o||t&&t[ra],d[oe]=a||t&&t[oe],d[Ji]=u||t&&t[Ji]||null,d[sn]=s,d[Cc]=function E$(){return v$++}(),d[Ci]=l,d[RT]=c,d[Et]=2==e.type?t[Et]:d,d}function Na(t,e,n,r,i){let s=t.data[e];if(null===s)s=function S_(t,e,n,r,i){const s=ob(),o=_y(),u=t.data[e]=function Ez(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ca(){return null!==J.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function vU(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Mc(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Qr(s,!0),s}function Yc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mS(t,e,n,r,i){const s=lS(e,Tc),o=En(),a=2&r;try{Ws(-1),a&&e.length>ye&&pS(t,e,ye,!1),Kr(a?2:0,i);const c=a?s:null,l=hy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{fy(c,l)}}finally{a&&null===e[Tc]&&dS(e,Tc),Ws(o),Kr(a?3:1,i)}}function M_(t,e,n){if(cy(e)){const r=hr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{hr(r)}}}function R_(t,e,n){sb()&&(function Az(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;qs(n)&&function Oz(t,e,n){const r=On(e,t),i=yS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=If(t,wf(t,i,null,o,r,e,null,t[ra].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Lh(n,e),on(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ks(e,t,a,n);on(c,e),null!==o&&kz(0,a-i,c,u,0,o),Sr(u)&&(Wn(n.index,e)[vt]=Ks(e,t,a,n))}}(t,e,n,On(n,e)),64==(64&n.flags)&&IS(t,e,n))}function x_(t,e,n=On){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function yS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=P_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function P_(t,e,n,r,i,s,o,a,u,c,l){const d=ye+r,h=d+i,f=function pz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ce);return n}(d,h),p="function"==typeof c?c():c;return f[V]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let _S=t=>null;function vS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?ES(n,e,i,s):r.hasOwnProperty(i)&&ES(n,e,r[i],s)}return n}function ES(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function N_(t,e,n,r){if(sb()){const i=null===r?null:{"":-1},s=function Mz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(CT(e,o.selectors,!1))if(r||(r=[]),Sr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),O_(t,e,a.length)}else r.unshift(o),O_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wS(t,e,n,o,i,a),i&&function Rz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new w(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ec(n.mergedAttrs,n.attrs)}function wS(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Ry(Lh(n,e),t,r[c].type);!function Pz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Yc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ec(n.mergedAttrs,l.hostAttrs),Nz(t,n,e,u,l),xz(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function wz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=vS(d.inputs,l,u,h?h.inputs:null),c=vS(d.outputs,l,c,p);const g=null===u||null===o||DT(e)?null:Vz(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function IS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function wU(){return J.lFrame.currentDirectiveIndex}();try{Ws(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Ey(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Sz(u,c)}}finally{Ws(-1),Ey(o)}}function Sz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function O_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sr(e)&&(n[""]=t)}}function Nz(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Gs(i.type)),o=new Rc(s,Sr(i),T);t.blueprint[r]=o,n[r]=o,function Tz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function bz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Yc(t,n,i.hostVars,ce),i)}function Xr(t,e,n,r,i,s){const o=On(t,e);!function k_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?se(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[oe],o,s,t.value,n,r,i)}function kz(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)DS(r,n,o[a++],o[a++],o[a++])}function DS(t,e,n,r,i){const s=hr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{hr(s)}}function Vz(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function CS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function TS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Iy(n[r]),o.contentQueries(2,e[s],s)}}}function If(t,e){return t[Ic]?t[MT][Ar]=e:t[Ic]=e,t[MT]=e,e}function V_(t,e,n){Iy(0);const r=hr(null);try{e(t,n)}finally{hr(r)}}function MS(t,e){const n=t[Ji],r=n?n.get(Si,null):null;r&&r.handleError(e)}function F_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];DS(t.data[o],e[o],r,a,i)}}function Fz(t,e){const n=Wn(e,t),r=n[V];!function Lz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ht];null!==i&&null===n[Ci]&&(n[Ci]=y_(i,n[Ji])),L_(r,n,n[vt])}function L_(t,e,n){Dy(e);try{const r=t.viewQuery;null!==r&&V_(1,r,n);const i=t.template;null!==i&&mS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&TS(t,e),t.staticViewQueries&&V_(2,t.viewQuery,n);const s=t.components;null!==s&&function Bz(t,e){for(let n=0;n<e.length;n++)Fz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[le]&=-5,Cy()}}let RS=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Qj(t,e,n){const r=Object.create(Yj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>LT(r),run:()=>{if(r.dirty=!1,r.hasRun&&!BT(r))return;r.hasRun=!0;const o=hy(r);try{r.cleanupFn(),r.cleanupFn=WT,r.fn(i)}finally{fy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}return t})();function Df(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Wm(i,a):2==s&&(r=Wm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Zc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ge(s)),_n(s)&&xS(s,r);const o=n.type;if(8&o)Zc(t,e,n.child,r);else if(32&o){const a=$y(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=lA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Lc(e[Et]);Zc(u[V],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function xS(t,e){for(let n=Kt;n<t.length;n++){const r=t[n],i=r[V].firstChild;null!==i&&Zc(r[V],r,i,e)}t[Wr]!==t[ht]&&e.push(t[Wr])}function Cf(t,e,n,r=!0){const i=e[ra],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{PS(t,e,t.template,n)}catch(u){throw r&&MS(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function PS(t,e,n,r){const i=e[le];if(256!=(256&i)){e[ra].effectManager?.flush(),Dy(e);try{eb(e),function ub(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&mS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&kh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Vh(e,c,0,null),Ty(e,0)}if(function $z(t){for(let e=Xb(t);null!==e;e=Jb(e)){if(!e[xT])continue;const n=e[oa];for(let r=0;r<n.length;r++){oU(n[r])}}}(e),NS(e,2),null!==t.contentQueries&&TS(t,e),o){const c=t.contentCheckHooks;null!==c&&kh(e,c)}else{const c=t.contentHooks;null!==c&&Vh(e,c,1),Ty(e,1)}!function fz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=lS(e,bc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ws(~s);else{const o=s,a=n[++i],u=n[++i];EU(a,o),r.dirty=!1;const c=hy(r);try{u(2,e[o])}finally{fy(r,c)}}}}finally{null===e[bc]&&dS(e,bc),Ws(-1)}}(t,e);const a=t.components;null!==a&&kS(e,a,0);const u=t.viewQuery;if(null!==u&&V_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&kh(e,c)}else{const c=t.viewHooks;null!==c&&Vh(e,c,2),Ty(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[le]&=-73,tb(e)}finally{Cy()}}}function NS(t,e){for(let n=Xb(t);null!==n;n=Jb(n))for(let r=Kt;r<n.length;r++)OS(n[r],e)}function zz(t,e,n){OS(Wn(e,t),n)}function OS(t,e){if(!function iU(t){return 128==(128&t[le])}(t))return;const n=t[V],r=t[le];if(80&r&&0===e||1024&r||2===e)PS(n,t,n.template,t[vt]);else if(t[wc]>0){NS(t,1);const i=n.components;null!==i&&kS(t,i,1)}}function kS(t,e,n){for(let r=0;r<e.length;r++)zz(t,e[r],n)}class Xc{get rootNodes(){const e=this._lView,n=e[V];return Zc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return 256==(256&this._lView[le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[tt];if(_n(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ef(e,r),$h(n,r))}this._attachedToViewContainer=!1}Hy(this._lView[V],this._lView)}onDestroy(e){!function rb(t,e){if(256==(256&t[le]))throw new w(911,!1);null===t[es]&&(t[es]=[]),t[es].push(e)}(this._lView,e)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-129}reattach(){this._lView[le]|=128}detectChanges(){Cf(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O$(t,e){jc(t,e,e[oe],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e}}class Hz extends Xc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Cf(e[V],e,e[vt],!1)}checkNoChanges(){}get context(){return null}}class VS extends _f{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new Jc(n,this.ngModule)}}function FS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Gz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ch(r);const i=this.injector.get(e,E_,r);return i!==E_||n===E_?i:this.parentInjector.get(e,n,r)}}class Jc extends $A{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=FS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return FS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Rj(t){return t.map(Mj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof gr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Gz(e,s):e,a=o.get(Wc,null);if(null===a)throw new w(407,!1);const d={rendererFactory:a,sanitizer:o.get(z4,null),effectManager:o.get(RS,null),afterRenderEventManager:o.get(A_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function gz(t,e,n,r){const s=r.get(oS,!1)||n===dr.ShadowDom,o=t.selectRootElement(e,s);return function mz(t){_S(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Jh(h,f,function qz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=y_(p,o,!0));const I=P_(0,null,null,1,0,null,null,null,null,null,null),b=wf(null,I,null,_,null,null,d,h,o,null,y);let F,Q;Dy(b);try{const ue=this.componentDef;let Le,Rn=null;ue.findHostDirectiveDefs?(Le=[],Rn=new Map,ue.findHostDirectiveDefs(ue,Le,Rn),Le.push(ue)):Le=[ue];const Un=function Kz(t,e){const n=t[V],r=ye;return t[r]=e,Na(n,r,2,"#host",null)}(b,p),xm=function Qz(t,e,n,r,i,s,o){const a=i[V];!function Yz(t,e,n,r){for(const i of t)e.mergedAttrs=Ec(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Df(e,e.mergedAttrs,!0),null!==n&&pA(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=y_(e,i[Ji]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=wf(i,yS(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&O_(a,t,r.length-1),If(i,d),i[t.index]=d}(Un,p,ue,Le,b,d,h);Q=JT(I,ye),p&&function Xz(t,e,n,r){if(r)ay(t,n,["ng-version",H4.full]);else{const{attrs:i,classes:s}=function xj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Tr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ay(t,n,i),s&&s.length>0&&fA(t,n,s.join(" "))}}(h,ue,p,r),void 0!==n&&function Jz(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Q,this.ngContentSelectors,n),F=function Zz(t,e,n,r,i,s){const o=Yt(),a=i[V],u=On(o,i);wS(a,i,o,n,null,r);for(let l=0;l<n.length;l++)on(Ks(i,a,o.directiveStart+l,o),i);IS(a,i,o),u&&on(u,i);const c=Ks(i,a,o.directiveStart+o.componentOffset,o);if(t[vt]=i[vt]=c,null!==s)for(const l of s)l(c,e);return M_(a,o,t),c}(xm,ue,Le,Rn,b,[eH]),L_(I,b,null)}finally{Cy()}return new Wz(this.componentType,F,Ra(Q,b),b,Q)}}class Wz extends F4{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Hz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;F_(s[V],s,i,e,n),this.previousInputValues.set(e,n),Qc(Wn(this._tNode.index,s))}}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function eH(){const t=Yt();Oh(C()[V],t)}function Oe(t){let e=function LS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Tf(t.inputs),o.inputTransforms=Tf(t.inputTransforms),o.declaredInputs=Tf(t.declaredInputs),o.outputs=Tf(t.outputs);const a=i.hostBindings;a&&iH(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&nH(t,u),c&&rH(t,c),_h(t.inputs,i.inputs),_h(t.declaredInputs,i.declaredInputs),_h(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),_h(o.inputTransforms,i.inputTransforms)),Sr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Oe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function tH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ec(i.hostAttrs,n=Ec(n,i.hostAttrs))}}(r)}function Tf(t){return t===qr?{}:t===be?[]:t}function nH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function rH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function iH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function bf(t){return!!B_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function B_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function an(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ei(t,e,n,r){const i=C();return an(i,la(),e)&&(Ie(),Xr(st(),i,t,e,n,r)),ei}function xf(t,e,n,r,i,s,o,a){const u=C(),c=Ie(),l=t+ye,d=c.firstCreatePass?function MH(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Na(e,t,4,o||null,ns(c,a));N_(e,n,l,ns(c,u)),Oh(e,l);const d=l.tView=P_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qr(d,!1);const h=tM(c,u,d,t);Nh()&&nf(c,u,h,d),on(h,u),If(u,u[l]=CS(h,u,h,d)),Mh(d)&&R_(c,u,d),null!=o&&x_(u,d,a)}let tM=function nM(t,e,n,r){return rs(!0),e[oe].createComment("")};function In(t,e,n){const r=C();return an(r,la(),e)&&function Zn(t,e,n,r,i,s,o,a){const u=On(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(F_(t,n,l,r,i),qs(e)&&function Dz(t,e){const n=Wn(e,t);16&n[le]||(n[le]|=64)}(n,e.index)):3&e.type&&(r=function Iz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(Ie(),st(),r,t,e,r[oe],n,!1),In}function q_(t,e,n,r,i){const o=i?"class":"style";F_(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=C(),s=Ie(),o=ye+t,a=i[oe],u=s.firstCreatePass?function OH(t,e,n,r,i,s){const o=e.consts,u=Na(e,t,2,r,ns(o,i));return N_(e,n,u,ns(o,s)),null!==u.attrs&&Df(u,u.attrs,!1),null!==u.mergedAttrs&&Df(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=rM(s,i,u,a,e,t);i[o]=c;const l=Mh(u);return Qr(u,!0),pA(a,c,u),32!=(32&u.flags)&&Nh()&&nf(s,i,c,u),0===function uU(){return J.lFrame.elementDepthCount}()&&on(c,i),function cU(){J.lFrame.elementDepthCount++}(),l&&(R_(s,i,u),M_(s,u,i)),null!==r&&x_(i,u),M}function P(){let t=Yt();_y()?function vy(){J.lFrame.isParent=!1}():(t=t.parent,Qr(t,!1));const e=t;(function dU(t){return J.skipHydrationRootTNode===t})(e)&&function gU(){J.skipHydrationRootTNode=null}(),function lU(){J.lFrame.elementDepthCount--}();const n=Ie();return n.firstCreatePass&&(Oh(n,t),cy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function PU(t){return 0!=(8&t.flags)}(e)&&q_(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function NU(t){return 0!=(16&t.flags)}(e)&&q_(n,e,C(),e.stylesWithoutHost,!1),P}function ne(t,e,n,r){return M(t,e,n,r),P(),ne}let rM=(t,e,n,r,i,s)=>(rs(!0),Jh(r,i,function mb(){return J.lFrame.currentNamespace}()));function il(t){return!!t&&"function"==typeof t.then}function oM(t){return!!t&&"function"==typeof t.subscribe}function xe(t,e,n,r){const i=C(),s=Ie(),o=Yt();return function uM(t,e,n,r,i,s,o){const a=Mh(r),c=t.firstCreatePass&&function AS(t){return t.cleanup||(t.cleanup=[])}(t),l=e[vt],d=function bS(t){return t[na]||(t[na]=[])}(e);let h=!0;if(3&r.type||o){const g=On(r,e),m=o?o(g):g,_=d.length,y=o?b=>o(Ge(b[r.index])):r.index;let I=null;if(!o&&a&&(I=function UH(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[na],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=lM(r,e,l,s,!1);const b=n.listen(m,i,s);d.push(s,b),c&&c.push(i,y,_,_+1)}}else s=lM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(s),Q=d.length;d.push(s,F),c&&c.push(i,r.index,Q,-(Q+1))}}}(s,i,i[oe],o,t,e,r),xe}function cM(t,e,n,r){try{return Kr(6,e,n),!1!==n(r)}catch(i){return MS(t,i),!1}finally{Kr(7,e,n)}}function lM(t,e,n,r,i){return function s(o){if(o===Function)return r;Qc(t.componentOffset>-1?Wn(t.index,e):e);let u=cM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=cM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Pf(t=1){return function DU(t){return(J.lFrame.contextLView=function CU(t,e){for(;t>0;)e=e[ia],t--;return e}(t,J.lFrame.contextLView))[vt]}(t)}function Nf(t,e){return t<<17|e<<2}function os(t){return t>>17&32767}function Q_(t){return 2|t}function Xs(t){return(131068&t)>>2}function Y_(t,e){return-131069&t|e<<2}function Z_(t){return 1|t}function EM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?os(s):Xs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];YH(t[a],e)&&(u=!0,t[a+1]=r?Z_(l):Q_(l)),a=r?os(l):Xs(l)}u&&(t[n+1]=r?Q_(s):Z_(s))}function YH(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_a(t,e)>=0}function Of(t,e){return function Rr(t,e,n,r){const i=C(),s=Ie(),o=function bi(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function MM(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[En()],o=function SM(t,e){return e>=t.expandoStartIndex}(t,n);(function NM(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function s3(t,e,n,r){const i=function wy(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=sl(n=X_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=X_(i,t,e,n,r),null===s){let u=function o3(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Xs(r))return t[os(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=X_(null,t,e,u[1],r),u=sl(u,e.attrs,r),function a3(t,e,n,r){t[os(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function u3(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=sl(r,t[s].hostAttrs,n);return sl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function KH(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=os(o),u=Xs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||_a(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=os(t[a+1]);t[r+1]=Nf(h,a),0!==h&&(t[h+1]=Y_(t[h+1],r)),t[a+1]=function GH(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Nf(a,0),0!==a&&(t[a+1]=Y_(t[a+1],r)),a=r;else t[r+1]=Nf(u,0),0===a?a=r:t[u+1]=Y_(t[u+1],r),u=r;c&&(t[r+1]=Q_(t[r+1])),EM(t,l,r,!0),EM(t,l,r,!1),function QH(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&_a(s,e)>=0&&(n[r+1]=Z_(n[r+1]))}(e,l,t,r,s),o=Nf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ce&&an(i,o,e)&&function xM(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function WH(t){return 1==(1&t)}(c)?PM(u,e,n,i,Xs(c),o):void 0;kf(l)||(kf(s)||function qH(t){return 2==(2&t)}(c)&&(s=PM(u,null,n,i,a,o)),function H$(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:is.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=is.Important),t.setStyle(n,r,i,s))}}(r,o,function Ph(t,e){return Ge(e[t])}(En(),n),i,s))}(s,s.data[En()],i,i[oe],t,i[o+1]=function h3(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Rt(function ss(t){return t instanceof _A?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Of}function X_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=sl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function sl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kn(t,o,!!n||e[++s]))}return void 0===t?null:t}function PM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ce&&(h=d?be:void 0);let f=d?Ny(h,r):l===r?h:void 0;if(c&&!kf(f)&&(f=Ny(u,r)),kf(f)&&(a=f,o))return a;const p=t[i+1];i=o?os(p):Xs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ny(u,r))}return a}function kf(t){return void 0!==t}function j(t,e=""){const n=C(),r=Ie(),i=t+ye,s=r.firstCreatePass?Na(r,i,1,e,null):r.data[i],o=OM(r,n,s,e,t);n[i]=o,Nh()&&nf(r,n,o,s),Qr(s,!1)}let OM=(t,e,n,r,i)=>(rs(!0),function Xh(t,e){return t.createText(e)}(e[oe],r));const qa="en-US";let rR=qa;function nv(t,e,n,r,i){if(t=ee(t),Array.isArray(t))for(let s=0;s<t.length;s++)nv(t[s],e,n,r,i);else{const s=Ie(),o=C(),a=Yt();let u=Ys(t)?t:ee(t.provide);const c=kA(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ys(t)||!t.multi){const f=new Rc(c,i,T),p=iv(u,e,i?l:l+h,d);-1===p?(Ry(Lh(a,o),s,u),rv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=iv(u,e,l+h,d),p=iv(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Ry(Lh(a,o),s,u);const _=function Nq(t,e,n,r,i){const s=new Rc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,SR(s,i,r&&!n),s}(i?Pq:xq,n.length,i,r,c);!i&&m&&(n[p].providerFactory=_),rv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else rv(s,t,f>-1?f:p,SR(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function rv(t,e,n,r){const i=Ys(e),s=function E4(t){return!!t.useClass}(e);if(i||s){const u=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function SR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function iv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xq(t,e,n,r){return sv(this.multi,[])}function Pq(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ks(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),sv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],sv(i,s);return s}function sv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Rq(t,e,n){const r=Ie();if(r.firstCreatePass){const i=Sr(t);nv(n,r.data,r.blueprint,i,!0),nv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class eo{}class MR{}class ov extends eo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VS(this);const i=Gn(e);this._bootstrapComponents=Mi(i.bootstrap),this._r3Injector=KA(e,n,[{provide:eo,useValue:this},{provide:_f,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class av extends MR{constructor(e){super(),this.moduleType=e}create(e){return new ov(this.moduleType,e,[])}}class RR extends eo{constructor(e){super(),this.componentFactoryResolver=new VS(this),this.instance=null;const n=new Ta([...e.providers,{provide:eo,useValue:this},{provide:_f,useValue:this.componentFactoryResolver}],e.parent||df(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uv(t,e,n=null){return new RR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Vq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=xA(0,n.type),i=r.length>0?uv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(G(gr))})}return t})();function xR(t){t.getStandaloneInjector=e=>e.get(Vq).getOrCreateStandaloneInjector(t)}function LR(t,e,n,r){return function BR(t,e,n,r,i,s){const o=e+n;return an(t,o,i)?function Jr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function dl(t,e){const n=t[e];return n===ce?void 0:n}(t,o+1)}(C(),function vn(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function cG(t,e,n,r=!0){const i=e[V];if(function V$(t,e,n,r){const i=Kt+r,s=n.length;r>0&&(n[i-1][Ar]=e),r<s-Kt?(e[Ar]=n[i],xb(n,Kt+r,e)):(n.push(e),e[Ar]=null),e[tt]=n;const o=e[Dc];null!==o&&n!==o&&function F$(t,e){const n=t[oa];e[Et]!==e[tt][tt][Et]&&(t[xT]=!0),null===n?t[oa]=[e]:n.push(e)}(o,e);const a=e[Gr];null!==a&&a.insertView(t),e[le]|=128}(i,e,t,n),r){const s=Ky(n,t),o=e[oe],a=tf(o,t[Wr]);null!==a&&function N$(t,e,n,r,i,s){r[ht]=i,r[sn]=e,jc(t,r,n,1,i,s)}(i,t[sn],o,e,a,s)}}Symbol;let xi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hG}return t})();const lG=xi,dG=class extends lG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function uG(t,e,n,r){const i=e.tView,a=wf(t,i,n,4096&t[le]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Dc]=t[e.index];const c=t[Gr];return null!==c&&(a[Gr]=c.createEmbeddedView(i)),L_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Xc(i)}};function hG(){return function jf(t,e){return 4&t.type?new dG(e,t,Ra(t,e)):null}(Yt(),C())}let Pr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_G}return t})();function _G(){return function YR(t,e){let n;const r=e[t.index];return _n(r)?n=r:(n=CS(r,e,null,t),e[t.index]=n,If(e,n)),ZR(n,e,t,r),new KR(n,t,e)}(Yt(),C())}const vG=Pr,KR=class extends vG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bh(this._hostTNode,this._hostLView);if(Ay(e)){const n=Pc(e,this._hostLView),r=xc(e);return new wn(n[V].data[r+8],n)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=QR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Oc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Jc(we(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(gr,null);m&&(s=m)}we(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function sU(t){return _n(t[tt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[tt],l=new KR(c,c[sn],c[tt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return cG(a,i,o,!r),e.attachToViewContainerRef(),xb(dv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=QR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ef(this._lContainer,n);r&&($h(dv(this._lContainer),n),Hy(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=ef(this._lContainer,n);return r&&null!=$h(dv(this._lContainer),n)?new Xc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QR(t){return t[8]}function dv(t){return t[8]||(t[8]=[])}let ZR=function XR(t,e,n,r){if(t[Wr])return;let i;i=8&n.type?Ge(r):function EG(t,e){const n=t[oe],r=n.createComment(""),i=On(e,t);return Qs(n,tf(n,i),r,function U$(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Wr]=i};const Iv=new z("Application Initializer");let Dv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(Iv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(il(s))n.push(s);else if(oM(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Pi=new z("LocaleId",{providedIn:"root",factory:()=>B(Pi,me.Optional|me.SkipSelf)||function ZG(){return typeof $localize<"u"&&$localize.locale||qa}()});let Cx=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ur(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class e5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Tx=(()=>{class t{compileModuleSync(n){return new av(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Mi(Gn(n).declarations).reduce((o,a)=>{const u=we(a);return u&&o.push(new Jc(u)),o},[]);return new e5(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Mx=new z(""),Hf=new z("");let Sv,bv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sv||(function I5(t){Sv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(G(je),G(Av),G(Hf))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})(),Av=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Sv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),as=null;const Rx=new z("AllowMultipleToken"),Mv=new z("PlatformDestroyListeners"),Rv=new z("appBootstrapListener");class Px{constructor(e,n){this.name=e,this.token=n}}function Ox(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=xv();if(!o||o.injector.get(Rx,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function T5(t){if(as&&!as.get(Rx,!1))throw new w(400,!1);(function xx(){!function Hj(t){zT=t}(()=>{throw new w(600,!1)})})(),as=t;const e=t.get(Vx);(function Nx(t){t.get(VA,null)?.forEach(n=>n())})(t)}(function kx(t=[],e){return Yn.create({name:e,providers:[{provide:o_,useValue:"platform"},{provide:Mv,useValue:new Set([()=>as=null])},...t]})}(a,r))}return function A5(t){const e=xv();if(!e)throw new w(401,!1);return e}()}}function xv(){return as?.get(Vx)??null}let Vx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function S5(t="zone.js",e){return"noop"===t?new nz:"zone.js"===t?new je(e):t}(r?.ngZone,function Fx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function kq(t,e,n){return new ov(t,e,n)}(n.moduleType,this.injector,function $x(t){return[{provide:je,useFactory:t},{provide:Hc,multi:!0,useFactory:()=>{const e=B(R5,{optional:!0});return()=>e.initialize()}},{provide:Ux,useFactory:M5},{provide:JA,useFactory:eS}]}(()=>i)),o=s.injector.get(Si,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{qf(this._modules,s),a.unsubscribe()})}),function Lx(t,e,n){try{const r=n();return il(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Dv);return a.runInitializers(),a.donePromise.then(()=>(function iR(t){cr(t,"Expected localeId to be defined"),"string"==typeof t&&(rR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Pi,qa)||qa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=Bx({},r);return function D5(t,e,n){const r=new av(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(to);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new w(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Mv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(G(Yn))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Bx(t,e){return Array.isArray(e)?e.reduce(Bx,t):{...t,...e}}let to=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(Ux),this.zoneIsStable=B(JA),this.componentTypes=[],this.components=[],this.isStable=B(Cx).hasPendingTasks.pipe(Hr(n=>n?re(!1):this.zoneIsStable),function tj(t,e=jr){return t=t??nj,yt((n,r)=>{let i,s=!0;n.subscribe(ut(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),aT()),this._injector=B(gr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof $A;if(!this._injector.get(Dv).done)throw!i&&function ta(t){const e=we(t)||Wt(t)||yn(t);return null!==e&&e.standalone}(n),new w(405,!1);let o;o=i?n:this._injector.get(_f).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function C5(t){return t.isBoundToModule}(o)?void 0:this._injector.get(eo),c=o.create(Yn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Mx,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),qf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Rv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ux=new z("",{providedIn:"root",factory:()=>B(Si).handleError.bind(void 0)});function M5(){const t=B(je),e=B(Si);return n=>t.runOutsideAngular(()=>e.handleError(n))}let R5=(()=>{class t{constructor(){this.zone=B(je),this.applicationRef=B(to)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Gf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=P5}return t})();function P5(t){return function N5(t,e,n){if(qs(t)&&!n){const r=Wn(t.index,e);return new Xc(r,r)}return 47&t.type?new Xc(e[Et],e):null}(Yt(),C(),16==(16&t))}class Gx{constructor(){}supports(e){return bf(e)}create(e){return new B5(e)}}const L5=(t,e)=>e;class B5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||L5}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Kx(r,i,s)?n:r,a=Kx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!bf(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function dH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new j5(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Wx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class j5{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Wx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new U5,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Qx{constructor(){}supports(e){return e instanceof Map||B_(e)}create(){return new $5}}class $5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||B_(e)))throw new w(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new z5(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class z5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yx(){return new Qf([new Gx])}let Qf=(()=>{class t{static#e=this.\u0275prov=K({token:t,providedIn:"root",factory:Yx});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Yx()),deps:[[t,new qh,new Hh]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new w(901,!1)}}return t})();function Zx(){return new gl([new Qx])}let gl=(()=>{class t{static#e=this.\u0275prov=K({token:t,providedIn:"root",factory:Zx});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Zx()),deps:[[t,new qh,new Hh]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new w(901,!1)}}return t})();const G5=Ox(null,"core",[]);let W5=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(G(to))};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({})}return t})();function Ka(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Fv=null;function us(){return Fv}class a9{}const Ln=new z("DocumentToken");let Lv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return B(c9)},providedIn:"platform"})}return t})();const u9=new z("Location Initialized");let c9=(()=>{class t extends Lv{constructor(){super(),this._doc=B(Ln),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return us().getBaseHref(this._doc)}onPopState(n){const r=us().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=us().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Bv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function oP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ni(t){return t&&"?"!==t[0]?"?"+t:t}let ro=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return B(uP)},providedIn:"root"})}return t})();const aP=new z("appBaseHref");let uP=(()=>{class t extends ro{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ni(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ni(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Lv),G(aP,8))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l9=(()=>{class t extends ro{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Bv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Lv),G(aP,8))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})(),jv=(()=>{class t{constructor(n){this._subject=new ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function f9(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(oP(cP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ni(r))}normalize(n){return t.stripTrailingSlash(function h9(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,cP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ni;static#t=this.joinWithSlash=Bv;static#n=this.stripTrailingSlash=oP;static#r=this.\u0275fac=function(r){return new(r||t)(G(ro))};static#i=this.\u0275prov=K({token:t,factory:function(){return function d9(){return new jv(G(ro))}()},providedIn:"root"})}return t})();function cP(t){return t.replace(/\/index.html$/,"")}const Yv=/\s+/,_P=[];let vP=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=_P,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Yv):_P}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Yv):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Yv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(T(Qf),T(gl),T(Qn),T(Zr))};static#t=this.\u0275dir=te({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})(),IP=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new t6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){DP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){DP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(T(Pr),T(xi))};static#t=this.\u0275dir=te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class t6{constructor(){this.$implicit=null,this.ngIf=null}}function DP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Rt(e)}'.`)}let b6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({})}return t})();function AP(t){return"server"===t}let R6=(()=>{class t{static#e=this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new x6(G(Ln),window)})}return t})();class x6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function P6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class n8 extends a9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rE extends n8{static makeCurrent(){!function o9(t){Fv||(Fv=t)}(new rE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function r8(){return vl=vl||document.querySelector("base"),vl?vl.getAttribute("href"):null}();return null==n?null:function i8(t){cp=cp||document.createElement("a"),cp.setAttribute("href",t);const e=cp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Z9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let cp,vl=null,o8=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();const iE=new z("EventManagerPlugins");let PP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(G(iE),G(je))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();class NP{constructor(e){this._doc=e}}const sE="ng-app-id";let OP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=AP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${sE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(sE),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(sE,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ln),G(hf),G(LA,8),G(Aa))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();const oE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aE=/%COMP%/g,l8=new z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function VP(t,e){return e.map(n=>n.replace(aE,t))}let uE=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=AP(a),this.defaultRenderer=new cE(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===dr.ShadowDom&&(r={...r,encapsulation:dr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof LP?i.applyToHost(n):i instanceof lE&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case dr.Emulated:s=new LP(u,c,r,this.appId,l,o,a,d);break;case dr.ShadowDom:return new p8(u,c,n,r,o,a,this.nonce,d);default:s=new lE(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(G(PP),G(OP),G(hf),G(l8),G(Ln),G(Aa),G(je),G(LA))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();class cE{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(oE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(FP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(FP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=oE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=oE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(is.DashCase|is.Important)?e.style.setProperty(n,r,i&is.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&is.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=us().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function FP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class p8 extends cE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=VP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lE extends cE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?VP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class LP extends lE{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function d8(t){return"_ngcontent-%COMP%".replace(aE,t)}(c),this.hostAttr=function h8(t){return"_nghost-%COMP%".replace(aE,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let g8=(()=>{class t extends NP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ln))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();const BP=["alt","control","meta","shift"],m8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _8=(()=>{class t extends NP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>us().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),BP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=m8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),BP.forEach(o=>{o!==i&&(0,y8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ln))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();const UP=[{provide:Aa,useValue:"browser"},{provide:VA,useValue:function v8(){rE.makeCurrent()},multi:!0},{provide:Ln,useFactory:function w8(){return function Q$(t){Zy=t}(document),document},deps:[]}],I8=Ox(G5,"browser",UP),D8=new z(""),$P=[{provide:Hf,useClass:class s8{addToWindow(e){qe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new w(5103,!1);return s},qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),qe.getAllAngularRootElements=()=>e.getAllRootElements(),qe.frameworkStabilizers||(qe.frameworkStabilizers=[]),qe.frameworkStabilizers.push(r=>{const i=qe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?us().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Mx,useClass:bv,deps:[je,Av,Hf]},{provide:bv,useClass:bv,deps:[je,Av,Hf]}],zP=[{provide:o_,useValue:"root"},{provide:Si,useFactory:function E8(){return new Si},deps:[]},{provide:iE,useClass:g8,multi:!0,deps:[Ln,je,Aa]},{provide:iE,useClass:_8,multi:!0,deps:[Ln]},uE,OP,PP,{provide:Wc,useExisting:uE},{provide:class N6{},useClass:o8,deps:[]},[]];let HP=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:hf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(G(D8,12))};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({providers:[...zP,...$P],imports:[b6,W5]})}return t})(),qP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ln))};static#t=this.\u0275prov=K({token:t,factory:function(r){let i=null;return i=r?new r:function T8(){return new qP(G(Ln))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;class QP{}class R8{}const Vi="*";function hE(t,e){return{type:7,name:t,definitions:e,options:{}}}function El(t,e=null){return{type:4,styles:e,timings:t}}function YP(t,e=null){return{type:2,steps:t,options:e}}function io(t){return{type:6,styles:t,offset:null}}function wl(t,e,n){return{type:0,name:t,styles:e,options:n}}function Il(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class Dl{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class ZP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function XP(t){return new w(3e3,!1)}function ls(t){switch(t.length){case 0:return new Dl;case 1:return t[0];default:return new ZP(t)}}function JP(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case Vi:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=c}),i.length)throw function J8(t){return new w(3502,!1)}();return s}function pE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&gE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&gE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&gE(n,"destroy",t)))}}function gE(t,e,n){const s=mE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function mE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Jn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function e1(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const d7=(()=>typeof document>"u"?null:document.documentElement)();function yE(t){const e=t.parentNode||t.host||null;return e===d7?null:e}let so=null,t1=!1;function n1(t,e){for(;e;){if(e===t)return!0;e=yE(e)}return!1}function r1(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let i1=(()=>{class t{validateStyleProperty(n){return function f7(t){so||(so=function p7(){return typeof document<"u"?document.body:null}()||{},t1=!!so.style&&"WebkitAppearance"in so.style);let e=!0;return so.style&&!function h7(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in so.style,!e&&t1&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in so.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return n1(n,r)}getParentElement(n){return yE(n)}query(n,r,i){return r1(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new Dl(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})(),_E=(()=>{class t{static#e=this.NOOP=new i1}return t})();const g7=1e3,vE="ng-enter",lp="ng-leave",dp="ng-trigger",hp=".ng-trigger",o1="ng-animating",EE=".ng-animating";function Fi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wE(parseFloat(e[1]),e[2])}function wE(t,e){return"s"===e?t*g7:t}function fp(t,e,n){return t.hasOwnProperty("duration")?t:function y7(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(XP()),{duration:0,delay:0,easing:""};i=wE(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=wE(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function x8(){return new w(3100,!1)}()),a=!0),s<0&&(e.push(function P8(){return new w(3101,!1)}()),a=!0),a&&e.splice(u,0,XP())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Cl(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function a1(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function ds(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function ri(t,e,n){e.forEach((r,i)=>{const s=DE(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function oo(t,e){e.forEach((n,r)=>{const i=DE(r);t.style[i]=""})}function Tl(t){return Array.isArray(t)?1==t.length?t[0]:YP(t):t}const IE=new RegExp("{{\\s*(.+?)\\s*}}","g");function c1(t){let e=[];if("string"==typeof t){let n;for(;n=IE.exec(t);)e.push(n[1]);IE.lastIndex=0}return e}function bl(t,e,n){const r=t.toString(),i=r.replace(IE,(s,o)=>{let a=e[o];return null==a&&(n.push(function O8(t){return new w(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function pp(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const E7=/-+([a-z0-9])/g;function DE(t){return t.replace(E7,(...e)=>e[1].toUpperCase())}function er(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function k8(t){return new w(3004,!1)}()}}function l1(t,e){return window.getComputedStyle(t)[e]}const gp="*";function D7(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function C7(t,e,n){if(":"==t[0]){const u=function T7(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Q8(t){return new w(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function K8(t){return new w(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(d1(i,o));"<"==s[0]&&!(i==gp&&o==gp)&&e.push(d1(o,i))}(r,n,e)):n.push(t),n}const mp=new Set(["true","1"]),yp=new Set(["false","0"]);function d1(t,e){const n=mp.has(t)||yp.has(t),r=mp.has(e)||yp.has(e);return(i,s)=>{let o=t==gp||t==i,a=e==gp||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?mp.has(t):yp.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?mp.has(e):yp.has(e)),o&&a}}const b7=new RegExp("s*:selfs*,?","g");function CE(t,e,n,r){return new A7(t).build(e,n,r)}class A7{constructor(e){this._driver=e}build(e,n,r){const i=new R7(n);return this._resetContextStyleTimingState(i),er(this,Tl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function F8(){return new w(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function L8(){return new w(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{c1(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(pp(s.values()),n.errors.push(function B8(t,e){return new w(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=er(this,Tl(e.animation),n);return{type:1,matchers:D7(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ao(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>er(this,r,n)),options:ao(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=er(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:ao(e.options)}}visitAnimate(e,n){const r=function P7(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return TE(fp(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=TE(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=fp(n,e);return TE(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:io({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=io(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Vi?r.push(a):n.errors.push(new w(3002,!1)):r.push(a1(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function U8(t,e,n,r,i){return new w(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function v7(t,e,n){const r=e.params||{},i=c1(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function N8(t){return new w(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function $8(){return new w(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(_=>{const y=this._makeStyleAst(_,n);let I=null!=y.offset?y.offset:function x7(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),b=0;return null!=I&&(s++,b=y.offset=I),u=u||b<0||b>1,a=a||b<c,c=b,o.push(b),y});u&&n.errors.push(function z8(){return new w(3012,!1)}()),a&&n.errors.push(function H8(){return new w(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function q8(){return new w(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return l.forEach((_,y)=>{const I=h>0?y==f?1:h*y:o[y],b=I*m;n.currentTime=p+g.delay+b,g.duration=b,this._validateStyleAst(_,n),_.offset=I,r.styles.push(_)}),r}visitReference(e,n){return{type:8,animation:er(this,Tl(e.animation),n),options:ao(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ao(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ao(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function S7(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(b7,"")),t=t.replace(/@\*/g,hp).replace(/@\w+/g,n=>hp+"-"+n.slice(1)).replace(/:animating/g,EE),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Jn(n.collectedStyles,n.currentQuerySelector,new Map);const a=er(this,Tl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ao(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function G8(){return new w(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:fp(e.timings,n.errors,!0);return{type:12,animation:er(this,Tl(e.animation),n),timings:r,options:null}}}class R7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ao(t){return t?(t=Cl(t)).params&&(t.params=function M7(t){return t?Cl(t):null}(t.params)):t={},t}function TE(t,e,n){return{duration:t,delay:e,easing:n}}function bE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class _p{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const k7=new RegExp(":enter","g"),F7=new RegExp(":leave","g");function AE(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new L7).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class L7{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new _p;const d=new SE(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?Fi(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),er(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[bE(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Fi(bl(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Fi(r.duration):null,a=null!=r.delay?Fi(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),er(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vp);const o=Fi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>er(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Fi(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),er(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return fp(n.params?bl(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Fi(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=vp);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),er(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;er(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const vp={};class SE{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ep(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Fi(r.duration)),null!=r.delay&&(i.delay=Fi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=bl(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new SE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new B7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(k7,"."+this._enterClassName)).replace(F7,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function W8(t){return new w(3014,!1)}()),a}}class Ep{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Ep(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Vi),this._currentKeyframe.set(n,Vi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function j7(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,Vi)}else ds(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=bl(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=ds(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===Vi&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?pp(e.values()):[],o=n.size?pp(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return bE(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class B7 extends Ep{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=ds(e[0]);u.set("offset",0),s.push(u);const c=ds(e[0]);c.set("offset",p1(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=ds(e[d]);const f=h.get("offset");h.set("offset",p1((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return bE(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function p1(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ME{}const U7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $7 extends ME{normalizePropertyName(e,n){return DE(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(U7.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function V8(t,e){return new w(3005,!1)}())}return o+s}}function g1(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const RE={};class m1{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function z7(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||RE,p=this.buildStyles(r,a&&a.params||RE,d),g=u&&u.params||RE,m=this.buildStyles(i,g,d),_=new Set,y=new Map,I=new Map,b="void"===i,F={params:H7(g,h),delay:this.ast.options?.delay},Q=l?[]:AE(e,n,this.ast.animation,s,o,p,m,F,c,d);let ue=0;if(Q.forEach(Rn=>{ue=Math.max(Rn.duration+Rn.delay,ue)}),d.length)return g1(n,this._triggerName,r,i,b,p,m,[],[],y,I,ue,d);Q.forEach(Rn=>{const Un=Rn.element,xm=Jn(y,Un,new Set);Rn.preStyleProps.forEach(Ho=>xm.add(Ho));const rh=Jn(I,Un,new Set);Rn.postStyleProps.forEach(Ho=>rh.add(Ho)),Un!==n&&_.add(Un)});const Le=pp(_.values());return g1(n,this._triggerName,r,i,b,p,m,Q,Le,y,I,ue)}}function H7(t,e){const n=Cl(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class q7{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Cl(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=bl(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class W7{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new q7(i.style,i.options&&i.options.params||{},r))}),y1(this.states,"true","1"),y1(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new m1(e,i,this.states))}),this.fallbackTransition=function K7(t,e,n){return new m1(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function y1(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Q7=new _p;class Y7{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=CE(this._driver,n,r,[]);if(r.length)throw function e7(t){return new w(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=JP(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=AE(this._driver,n,s,vE,lp,new Map,new Map,r,Q7,i),o.forEach(l=>{const d=Jn(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function t7(){return new w(3300,!1)}()),o=[]),i.length)throw function n7(t){return new w(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Vi))})});const c=ls(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function r7(t){return new w(3301,!1)}();return n}listen(e,n,r,i){const s=mE(n,"","","");return pE(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _1="ng-animate-queued",xE="ng-animate-disabled",tW=[],v1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kr="__ng_removed";class PE{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function oW(t){return t??null}(r?e.value:e),r){const s=Cl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Al="void",NE=new PE(Al);class rW{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function i7(t,e){return new w(3302,!1)}();if(null==r||0==r.length)throw function s7(t){return new w(3303,!1)}();if(!function aW(t){return"start"==t||"done"==t}(r))throw function o7(t,e){return new w(3400,!1)}();const s=Jn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Jn(this._engine.statesByElement,e,new Map);return a.has(n)||(vr(e,dp),vr(e,dp+"-"+n),a.set(n,NE)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function a7(t){return new w(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new OE(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(vr(e,dp),vr(e,dp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new PE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=NE),c.value!==Al&&u.value===c.value){if(!function lW(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const g=[],m=s.matchStyles(u.value,u.params,g),_=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{oo(e,m),ri(e,_)})}return}const h=Jn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(vr(e,_1),o.onStart(()=>{Ya(e,_1)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,hp,!0);r.forEach(i=>{if(i[kr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Al,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ls(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||NE,l=new PE(Al),d=new OE(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[kr];(!s||s===v1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){vr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=mE(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,pE(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class iW{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new rW(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(wp(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!wp(n))return;const s=n[kr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vr(e,xE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ya(e,xE))}removeNode(e,n,r){if(wp(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[kr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return wp(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,hp,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,EE,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ls(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[kr];if(n&&n.setForRemoval){if(e[kr]=v1,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(xE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?ls(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function u7(t){return new w(3402,!1)}()}_flushAnimations(e,n){const r=new _p,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(H=>{l.add(H);const Y=this.driver.query(H,".ng-animate-queued",!0);for(let Z=0;Z<Y.length;Z++)l.add(Y[Z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=I1(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((H,Y)=>{const Z=vE+g++;p.set(Y,Z),H.forEach(Te=>vr(Te,Z))});const m=[],_=new Set,y=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){const Y=this.collectedLeaveElements[H],Z=Y[kr];Z&&Z.setForRemoval&&(m.push(Y),_.add(Y),Z.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(Te=>_.add(Te)):y.add(Y))}const I=new Map,b=I1(h,Array.from(_));b.forEach((H,Y)=>{const Z=lp+g++;I.set(Y,Z),H.forEach(Te=>vr(Te,Z))}),e.push(()=>{f.forEach((H,Y)=>{const Z=p.get(Y);H.forEach(Te=>Ya(Te,Z))}),b.forEach((H,Y)=>{const Z=I.get(Y);H.forEach(Te=>Ya(Te,Z))}),m.forEach(H=>{this.processLeaveNode(H)})});const F=[],Q=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(n).forEach(Z=>{const Te=Z.player,zt=Z.element;if(F.push(Te),this.collectedEnterElements.length){const gn=zt[kr];if(gn&&gn.setForMove){if(gn.previousTriggersValues&&gn.previousTriggersValues.has(Z.triggerName)){const qo=gn.previousTriggersValues.get(Z.triggerName),Ir=this.statesByElement.get(Z.element);if(Ir&&Ir.has(Z.triggerName)){const Pm=Ir.get(Z.triggerName);Pm.value=qo,Ir.set(Z.triggerName,Pm)}}return void Te.destroy()}}const _i=!d||!this.driver.containsElement(d,zt),sr=I.get(zt),Us=p.get(zt),at=this._buildInstruction(Z,r,Us,sr,_i);if(at.errors&&at.errors.length)return void Q.push(at);if(_i)return Te.onStart(()=>oo(zt,at.fromStyles)),Te.onDestroy(()=>ri(zt,at.toStyles)),void i.push(Te);if(Z.isFallbackTransition)return Te.onStart(()=>oo(zt,at.fromStyles)),Te.onDestroy(()=>ri(zt,at.toStyles)),void i.push(Te);const VB=[];at.timelines.forEach(gn=>{gn.stretchStartingKeyframe=!0,this.disabledNodes.has(gn.element)||VB.push(gn)}),at.timelines=VB,r.append(zt,at.timelines),o.push({instruction:at,player:Te,element:zt}),at.queriedElements.forEach(gn=>Jn(a,gn,[]).push(Te)),at.preStyleProps.forEach((gn,qo)=>{if(gn.size){let Ir=u.get(qo);Ir||u.set(qo,Ir=new Set),gn.forEach((Pm,YC)=>Ir.add(YC))}}),at.postStyleProps.forEach((gn,qo)=>{let Ir=c.get(qo);Ir||c.set(qo,Ir=new Set),gn.forEach((Pm,YC)=>Ir.add(YC))})});if(Q.length){const H=[];Q.forEach(Y=>{H.push(function c7(t,e){return new w(3505,!1)}())}),F.forEach(Y=>Y.destroy()),this.reportError(H)}const ue=new Map,Le=new Map;o.forEach(H=>{const Y=H.element;r.has(Y)&&(Le.set(Y,Y),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,ue))}),i.forEach(H=>{const Y=H.element;this._getPreviousPlayers(Y,!1,H.namespaceId,H.triggerName,null).forEach(Te=>{Jn(ue,Y,[]).push(Te),Te.destroy()})});const Rn=m.filter(H=>C1(H,u,c)),Un=new Map;w1(Un,this.driver,y,c,Vi).forEach(H=>{C1(H,u,c)&&Rn.push(H)});const rh=new Map;f.forEach((H,Y)=>{w1(rh,this.driver,new Set(H),u,"!")}),Rn.forEach(H=>{const Y=Un.get(H),Z=rh.get(H);Un.set(H,new Map([...Y?.entries()??[],...Z?.entries()??[]]))});const Ho=[],OB=[],kB={};o.forEach(H=>{const{element:Y,player:Z,instruction:Te}=H;if(r.has(Y)){if(l.has(Y))return Z.onDestroy(()=>ri(Y,Te.toStyles)),Z.disabled=!0,Z.overrideTotalTime(Te.totalTime),void i.push(Z);let zt=kB;if(Le.size>1){let sr=Y;const Us=[];for(;sr=sr.parentNode;){const at=Le.get(sr);if(at){zt=at;break}Us.push(sr)}Us.forEach(at=>Le.set(at,zt))}const _i=this._buildAnimation(Z.namespaceId,Te,ue,s,rh,Un);if(Z.setRealPlayer(_i),zt===kB)Ho.push(Z);else{const sr=this.playersByElement.get(zt);sr&&sr.length&&(Z.parentPlayer=ls(sr)),i.push(Z)}}else oo(Y,Te.fromStyles),Z.onDestroy(()=>ri(Y,Te.toStyles)),OB.push(Z),l.has(Y)&&i.push(Z)}),OB.forEach(H=>{const Y=s.get(H.element);if(Y&&Y.length){const Z=ls(Y);H.setRealPlayer(Z)}}),i.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<m.length;H++){const Y=m[H],Z=Y[kr];if(Ya(Y,lp),Z&&Z.hasAnimation)continue;let Te=[];if(a.size){let _i=a.get(Y);_i&&_i.length&&Te.push(..._i);let sr=this.driver.query(Y,EE,!0);for(let Us=0;Us<sr.length;Us++){let at=a.get(sr[Us]);at&&at.length&&Te.push(...at)}}const zt=Te.filter(_i=>!_i.destroyed);zt.length?uW(this,Y,zt):this.processLeaveNode(Y)}return m.length=0,Ho.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();const Y=this.players.indexOf(H);this.players.splice(Y,1)}),H.play()}),Ho}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Al;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=Jn(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}oo(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;l.add(g);const m=g[kr];if(m&&m.removedBeforeQueried)return new Dl(p.duration,p.delay);const _=g!==u,y=function cW(t){const e=[];return D1(t,e),e}((r.get(g)||tW).map(ue=>ue.getRealPlayer())).filter(ue=>!!ue.element&&ue.element===g),I=s.get(g),b=o.get(g),F=JP(this._normalizer,p.keyframes,I,b),Q=this._buildPlayer(p,F,y);if(p.subTimeline&&i&&d.add(g),_){const ue=new OE(e,a,g);ue.setRealPlayer(Q),c.push(ue)}return Q});c.forEach(p=>{Jn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function sW(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>vr(p,o1));const f=ls(h);return f.onDestroy(()=>{l.forEach(p=>Ya(p,o1)),ri(u,n.toStyles)}),d.forEach(p=>{Jn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Dl(e.duration,e.delay)}}class OE{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Dl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>pE(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Jn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function wp(t){return t&&1===t.nodeType}function E1(t,e){const n=t.style.display;return t.style.display=e??"none",n}function w1(t,e,n,r,i){const s=[];n.forEach(u=>s.push(E1(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[kr]=nW,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>E1(u,s[a++])),o}function I1(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function vr(t,e){t.classList?.add(e)}function Ya(t,e){t.classList?.remove(e)}function uW(t,e,n){ls(n).onDone(()=>t.processLeaveNode(e))}function D1(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ZP?D1(r.players,e):e.push(r)}}function C1(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class Ip{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new iW(e,n,r),this._timelineEngine=new Y7(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=CE(this._driver,s,u,[]);if(u.length)throw function X8(t,e){return new w(3404,!1)}();a=function G7(t,e,n){return new W7(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=e1(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=e1(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let hW=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(oo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oo(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}}return t})();function kE(t){let e=null;return t.forEach((n,r)=>{(function fW(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class T1{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:l1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class pW{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return n1(e,n)}getParentElement(e){return yE(e)}query(e,n,r){return r1(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof T1);(function w7(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function _7(t){return t.length?t[0]instanceof Map?t:t.map(e=>a1(e)):[]}(n).map(f=>ds(f));d=function I7(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,l1(t,a)))}}return e}(e,d,c);const h=function dW(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=kE(e[0]),e.length>1&&(r=kE(e[e.length-1]))):e instanceof Map&&(n=kE(e)),n||r?new hW(t,n,r):null}(e,d);return new T1(e,d,u,h)}}let gW=(()=>{class t extends QP{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:dr.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?YP(n):n;return b1(this._renderer,null,r,"register",[i]),new mW(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Wc),G(Ln))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();class mW extends R8{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new yW(this._id,e,n||{},this._renderer)}}class yW{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return b1(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function b1(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const A1="@.disabled";let _W=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new S1("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=l=>{Array.isArray(l)?l.forEach(u):this.engine.registerTrigger(o,a,n,l.name,l)};return r.data.animation.forEach(u),new vW(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(G(Wc),G(Ip),G(je))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();class S1{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==A1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class vW extends S1{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==A1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function EW(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function wW(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let IW=(()=>{class t extends Ip{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ln),G(_E),G(ME),G(to))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();const M1=[{provide:QP,useClass:gW},{provide:ME,useFactory:function DW(){return new $7}},{provide:Ip,useClass:IW},{provide:Wc,useFactory:function CW(t,e,n){return new _W(t,e,n)},deps:[uE,Ip,je]}],VE=[{provide:_E,useFactory:()=>new pW},{provide:FA,useValue:"BrowserAnimations"},...M1],R1=[{provide:_E,useClass:i1},{provide:FA,useValue:"NoopAnimations"},...M1];let TW=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?R1:VE}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({providers:VE,imports:[HP]})}return t})();const{isArray:AW}=Array,{getPrototypeOf:SW,prototype:MW,keys:RW}=Object;function x1(t){if(1===t.length){const e=t[0];if(AW(e))return{args:e,keys:null};if(function xW(t){return t&&"object"==typeof t&&SW(t)===MW}(e)){const n=RW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:PW}=Array;function P1(t){return Pe(e=>function NW(t,e){return PW(e)?t(...e):t(e)}(t,e))}function N1(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function FE(...t){const e=mc(t),n=rT(t),{args:r,keys:i}=x1(t);if(0===r.length)return Vt([],e);const s=new et(function OW(t,e,n=jr){return r=>{O1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)O1(e,()=>{const c=Vt(t[u],e);let l=!1;c.subscribe(ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>N1(i,o):jr));return n?s.pipe(P1(n)):s}function O1(t,e,n){t?wi(n,t,e):e()}const Cp=rc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function LE(...t){return function kW(){return Jo(1)}()(Vt(t,mc(t)))}function k1(t){return new et(e=>{zn(t()).subscribe(e)})}function Sl(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new et(e?i=>e.schedule(r,0,i):r)}function BE(){return yt((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class V1 extends et{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mn;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mn.EMPTY)}return e}refCount(){return BE()(this)}}function Za(t){return t<=0?()=>zr:yt((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hs(t,e){return yt((n,r)=>{let i=0;n.subscribe(ut(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Tp(t){return yt((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function F1(t=FW){return yt((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function FW(){return new Cp}function uo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?hs((i,s)=>t(i,s,r)):jr,Za(1),n?Tp(e):F1(()=>new Cp))}function Ml(t,e){return Me(e)?Gt(t,e,1):Gt(t,1)}function un(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?yt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):jr}function co(t){return yt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,o=>{s=zn(t(o,co(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function jE(t){return t<=0?()=>zr:yt((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function UE(t){return yt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const de="primary",Rl=Symbol("RouteTitle");class zW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Xa(t){return new zW(t)}function HW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ii(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!L1(t[i],e[i]))return!1;return!0}function L1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function B1(t){return t.length>0?t[t.length-1]:null}function fs(t){return function bW(t){return!!t&&(t instanceof et||Me(t.lift)&&Me(t.subscribe))}(t)?t:il(t)?Vt(Promise.resolve(t)):re(t)}const GW={exact:function $1(t,e,n){if(!lo(t.segments,e.segments)||!bp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!$1(t.children[r],e.children[r],n))return!1;return!0},subset:z1},j1={exact:function WW(t,e){return ii(t,e)},subset:function KW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>L1(t[n],e[n]))},ignored:()=>!0};function U1(t,e,n){return GW[n.paths](t.root,e.root,n.matrixParams)&&j1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function z1(t,e,n){return H1(t,e,e.segments,n)}function H1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!lo(i,n)||e.hasChildren()||!bp(i,n,r))}if(t.segments.length===n.length){if(!lo(t.segments,n)||!bp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!z1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(lo(t.segments,i)&&bp(t.segments,i,r)&&t.children[de])&&H1(t.children[de],e,s,r)}}function bp(t,e,n){return e.every((r,i)=>j1[n](t[i].parameters,r.parameters))}class Ja{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xa(this.queryParams)),this._queryParamMap}toString(){return ZW.serialize(this)}}class ke{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}}class xl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Xa(this.parameters)),this._parameterMap}toString(){return W1(this)}}function lo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Pl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return new $E},providedIn:"root"})}return t})();class $E{parse(e){const n=new uK(e);return new Ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Nl(e.root,!0)}`,r=function eK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Sp(n)}=${Sp(i)}`).join("&"):`${Sp(n)}=${Sp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function XW(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ZW=new $E;function Ap(t){return t.segments.map(e=>W1(e)).join("/")}function Nl(t,e){if(!t.hasChildren())return Ap(t);if(e){const n=t.children[de]?Nl(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${Nl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function YW(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===de&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==de&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===de?[Nl(t.children[de],!1)]:[`${i}:${Nl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[de]?`${Ap(t)}/${n[0]}`:`${Ap(t)}/(${n.join("//")})`}}function q1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(t){return q1(t).replace(/%3B/gi,";")}function zE(t){return q1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mp(t){return decodeURIComponent(t)}function G1(t){return Mp(t.replace(/\+/g,"%20"))}function W1(t){return`${zE(t.path)}${function JW(t){return Object.keys(t).map(e=>`;${zE(e)}=${zE(t[e])}`).join("")}(t.parameters)}`}const tK=/^[^\/()?;#]+/;function HE(t){const e=t.match(tK);return e?e[0]:""}const nK=/^[^\/()?;=#]+/,iK=/^[^=?&#]+/,oK=/^[^&#]+/;class uK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new ke(e,n)),r}parseSegment(){const e=HE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new xl(Mp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function rK(t){const e=t.match(nK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=HE(this.remaining);i&&(r=i,this.capture(r))}e[Mp(n)]=Mp(r)}parseQueryParam(e){const n=function sK(t){const e=t.match(iK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function aK(t){const e=t.match(oK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=G1(n),s=G1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=HE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[de]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}}function K1(t){return t.segments.length>0?new ke([],{[de]:t}):t}function Q1(t){const e={};for(const r of Object.keys(t.children)){const s=Q1(t.children[r]);if(r===de&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function cK(t){if(1===t.numberOfChildren&&t.children[de]){const e=t.children[de];return new ke(t.segments.concat(e.segments),e.children)}return t}(new ke(t.segments,e))}function ho(t){return t instanceof Ja}function Y1(t){let e;const i=K1(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new ke(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function Z1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return qE(i,i,i,n,r);const s=function dK(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new J1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new J1(n,e,r)}(e);if(s.toRoot())return qE(i,i,new ke([],{}),n,r);const o=function hK(t,e,n){if(t.isAbsolute)return new xp(e,!0,0);if(!n)return new xp(e,!1,NaN);if(null===n.parent)return new xp(n,!0,0);const r=Rp(t.commands[0])?0:1;return function fK(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new xp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?kl(o.segmentGroup,o.index,s.commands):eN(o.segmentGroup,o.index,s.commands);return qE(i,o.segmentGroup,a,n,r)}function Rp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ol(t){return"object"==typeof t&&null!=t&&t.outlets}function qE(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:X1(t,e,n);const a=K1(Q1(o));return new Ja(a,s,i)}function X1(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:X1(s,e,n)}),new ke(t.segments,r)}class J1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rp(r[0]))throw new w(4003,!1);const i=r.find(Ol);if(i&&i!==B1(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function eN(t,e,n){if(t||(t=new ke([],{})),0===t.segments.length&&t.hasChildren())return kl(t,e,n);const r=function gK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ol(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!nN(u,c,o))return s;r+=2}else{if(!nN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ke(t.segments.slice(0,r.pathIndex),{});return s.children[de]=new ke(t.segments.slice(r.pathIndex),t.children),kl(s,0,i)}return r.match&&0===i.length?new ke(t.segments,{}):r.match&&!t.hasChildren()?GE(t,e,n):r.match?kl(t,0,i):GE(t,e,n)}function kl(t,e,n){if(0===n.length)return new ke(t.segments,{});{const r=function pK(t){return Ol(t[0])?t[0].outlets:{[de]:t}}(n),i={};if(Object.keys(r).some(s=>s!==de)&&t.children[de]&&1===t.numberOfChildren&&0===t.children[de].segments.length){const s=kl(t.children[de],e,n);return new ke(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=eN(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ke(t.segments,i)}}function GE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ol(s)){const u=mK(s.outlets);return new ke(r,u)}if(0===i&&Rp(n[0])){r.push(new xl(t.segments[e].path,tN(n[0]))),i++;continue}const o=Ol(s)?s.outlets[de]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Rp(a)?(r.push(new xl(o,tN(a))),i+=2):(r.push(new xl(o,{})),i++)}return new ke(r,{})}function mK(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=GE(new ke([],{}),0,r))}),e}function tN(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function nN(t,e,n){return t==n.path&&ii(e,n.parameters)}const Vl="imperative";class si{constructor(e,n){this.id=e,this.url=n}}class Pp extends si{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ps extends si{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fl extends si{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eu extends si{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Np extends si{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rN extends si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yK extends si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _K extends si{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vK extends si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EK extends si{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WE{}class KE{constructor(e){this.url=e}}class AK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ll,this.attachRef=null}}let Ll=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new AK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class sN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=QE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=QE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=YE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return YE(e,this._root).map(n=>n.value)}}function QE(t,e){if(t===e.value)return e;for(const n of e.children){const r=QE(t,n);if(r)return r}return null}function YE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=YE(t,n);if(r.length)return r.unshift(e),r}return[]}class Li{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function tu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class oN extends sN{constructor(e,n){super(e),this.snapshot=n,ZE(this,e)}toString(){return this.snapshot.toString()}}function aN(t,e){const n=function SK(t,e){const o=new Op([],{},{},"",{},de,e,null,{});return new cN("",new Li(o,[]))}(0,e),r=new ur([new xl("",{})]),i=new ur({}),s=new ur({}),o=new ur({}),a=new ur(""),u=new fo(r,i,o,a,s,de,e,n.root);return u.snapshot=n.root,new oN(new Li(u,[]),n)}class fo{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Pe(c=>c[Rl]))??re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(e=>Xa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(e=>Xa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function MK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Op{get title(){return this.data?.[Rl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cN extends sN{constructor(e,n){super(n),this.url=e,ZE(this,n)}toString(){return lN(this._root)}}function ZE(t,e){e.value._routerState=t,e.children.forEach(n=>ZE(t,n))}function lN(t){const e=t.children.length>0?` { ${t.children.map(lN).join(", ")} } `:"";return`${t.value}${e}`}function XE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ii(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ii(e.params,n.params)||t.paramsSubject.next(n.params),function qW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ii(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ii(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function JE(t,e){const n=ii(t.params,e.params)&&function QW(t,e){return lo(t,e)&&t.every((n,r)=>ii(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||JE(t.parent,e.parent))}let ew=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.parentContexts=B(Ll),this.location=B(Pr),this.changeDetector=B(Gf),this.environmentInjector=B(gr),this.inputBinder=B(kp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new RK(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=te({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fr]})}return t})();class RK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fo?this.route:e===Ll?this.childContexts:this.parent.get(e,n)}}const kp=new z("");let dN=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=FE([r.queryParams,r.params,r.data]).pipe(Hr(([s,o,a],u)=>(a={...s,...o,...a},0===u?re(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function s9(t){const e=we(t);if(!e)return null;const n=new Jc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();function Bl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function PK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bl(t,r,i);return Bl(t,r)})}(t,e,n);return new Li(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bl(t,a)),o}}const r=function NK(t){return new fo(new ur(t.url),new ur(t.params),new ur(t.queryParams),new ur(t.fragment),new ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Bl(t,s));return new Li(r,i)}}const tw="ngNavigationCancelingError";function hN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function fN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[tw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function pN(t){return t&&t[tw]}let gN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["ng-component"]],standalone:!0,features:[xR],decls:1,vars:0,template:function(r,i){1&r&&ne(0,"router-outlet")},dependencies:[ew],encapsulation:2})}return t})();function nw(t){const e=t.children&&t.children.map(nw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=gN),n}function Vr(t){return t.outlet||de}function jl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class UK{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),XE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=tu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=tu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new CK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(XE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),XE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class mN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vp{constructor(e,n){this.component=e,this.route=n}}function $K(t,e,n){const r=t._root;return Ul(r,e?e._root:null,n,[r.value])}function nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function cj(t){return null!==Eh(t)}(t)?e.get(t):t:r}function Ul(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=tu(e);return t.children.forEach(o=>{(function HK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function qK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lo(t.url,e.url)||!ii(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JE(t,e)||!ii(t.queryParams,e.queryParams);default:return!JE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ul(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vp(a.outlet.component,o))}else o&&$l(e,a,i),i.canActivateChecks.push(new mN(r)),Ul(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$l(a,n.getContext(o),i)),i}function $l(t,e,n){const r=tu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{$l(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Vp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zl(t){return"function"==typeof t}function yN(t){return t instanceof Cp||"EmptyError"===t?.name}const Fp=Symbol("INITIAL_VALUE");function ru(){return Hr(t=>FE(t.map(e=>e.pipe(Za(1),function VW(...t){const e=mc(t);return yt((n,r)=>{(e?LE(t,n,e):LE(t,n)).subscribe(r)})}(Fp)))).pipe(Pe(e=>{for(const n of e)if(!0!==n){if(n===Fp)return Fp;if(!1===n||n instanceof Ja)return n}return!0}),hs(e=>e!==Fp),Za(1)))}function _N(t){return function jm(...t){return uh(t)}(un(e=>{if(ho(e))throw hN(0,e)}),Pe(e=>!0===e))}class Lp{constructor(e){this.segmentGroup=e||null}}class vN{constructor(e){this.urlTree=e}}function iu(t){return Sl(new Lp(t))}function EN(t){return Sl(new vN(t))}class dQ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new w(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return re(r);if(i.numberOfChildren>1||!i.children[de])return Sl(new w(4e3,!1));i=i.children[de]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ja(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ke(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hQ(t,e,n,r,i){const s=iw(t,e,n);return s.matched?(r=function kK(t,e){return t.providers&&!t._injector&&(t._injector=uv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function uQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?re(i.map(o=>{const a=nu(o,t);return fs(function ZK(t){return t&&zl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),_N()):re(!0)}(r,e,n).pipe(Pe(o=>!0===o?s:{...rw}))):re(s)}function iw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...rw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||HW)(n,t,e);if(!i)return{...rw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wN(t,e,n,r){return n.length>0&&function gQ(t,e,n){return n.some(r=>Bp(t,e,r)&&Vr(r)!==de)}(t,n,r)?{segmentGroup:new ke(e,pQ(r,new ke(n,t.children))),slicedSegments:[]}:0===n.length&&function mQ(t,e,n){return n.some(r=>Bp(t,e,r))}(t,n,r)?{segmentGroup:new ke(t.segments,fQ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function fQ(t,e,n,r,i){const s={};for(const o of r)if(Bp(t,n,o)&&!i[Vr(o)]){const a=new ke([],{});s[Vr(o)]=a}return{...i,...s}}function pQ(t,e){const n={};n[de]=e;for(const r of t)if(""===r.path&&Vr(r)!==de){const i=new ke([],{});n[Vr(r)]=i}return n}function Bp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class EQ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new dQ(this.urlSerializer,this.urlTree)}noMatchError(e){return new w(4002,!1)}recognize(){const e=wN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(co(n=>{if(n instanceof vN)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Lp?this.noMatchError(n):n}),Pe(n=>{const r=new Op([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Li(r,n),s=new cN("",i),o=function lK(t,e,n=null,r=null){return Z1(Y1(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(co(r=>{throw r instanceof Lp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=uN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Vt(i).pipe(Ml(s=>{const o=r.children[s],a=function BK(t,e){const n=t.filter(r=>Vr(r)===e);return n.push(...t.filter(r=>Vr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function BW(t,e){return yt(function LW(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ut(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Tp(null),function jW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?hs((i,s)=>t(i,s,r)):jr,jE(1),n?Tp(e):F1(()=>new Cp))}(),Gt(s=>{if(null===s)return iu(r);const o=IN(s);return function wQ(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}(o),re(o)}))}processSegment(e,n,r,i,s,o){return Vt(n).pipe(Ml(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(co(u=>{if(u instanceof Lp)return re(null);throw u}))),uo(a=>!!a),co(a=>{if(yN(a))return function _Q(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?re([]):iu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function yQ(t,e,n,r){return!!(Vr(t)===r||r!==de&&Bp(e,n,t))&&("**"===t.path||iw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):iu(i):iu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?EN(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Gt(o=>{const a=new ke(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=iw(n,i,s);if(!a)return iu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?EN(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Gt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?B1(i).parameters:{};a=re({snapshot:new Op(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,DN(r),Vr(r),r.component??r._loadedComponent??null,r,CN(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=hQ(n,r,i,e).pipe(Pe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Op(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,DN(r),Vr(r),r.component??r._loadedComponent??null,r,CN(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Hr(u=>null===u?iu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Hr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=wN(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Pe(_=>null===_?null:[new Li(d,_)]));if(0===c.length&&0===g.length)return re([new Li(d,[])]);const m=Vr(r)===s;return this.processSegment(l,c,p,g,m?de:s,!0).pipe(Pe(_=>[new Li(d,_)]))}))))}getChildConfig(e,n,r){return n.children?re({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?re({routes:n._loadedRoutes,injector:n._loadedInjector}):function aQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?re(!0):re(i.map(o=>{const a=nu(o,t);return fs(function WK(t){return t&&zl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),_N())}(e,n,r).pipe(Gt(i=>i?this.configLoader.loadChildren(e,n).pipe(un(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function lQ(t){return Sl(fN(!1,3))}())):re({routes:[],injector:e})}}function IQ(t){const e=t.value.routeConfig;return e&&""===e.path}function IN(t){const e=[],n=new Set;for(const r of t){if(!IQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=IN(r.children);e.push(new Li(r.value,i))}return e.filter(r=>!n.has(r))}function DN(t){return t.data||{}}function CN(t){return t.resolve||{}}function TN(t){return"string"==typeof t.title||null===t.title}function sw(t){return Hr(e=>{const n=t(e);return n?Vt(n).pipe(Pe(()=>e)):re(e)})}const su=new z("ROUTES");let ow=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Tx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return re(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=fs(n.loadComponent()).pipe(Pe(bN),un(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),UE(()=>{this.componentLoaders.delete(n)})),i=new V1(r,()=>new $n).pipe(BE());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function MQ(t,e,n,r){return fs(t.loadChildren()).pipe(Pe(bN),Gt(i=>i instanceof MR||Array.isArray(i)?re(i):Vt(e.compileModuleAsync(i))),Pe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(su,[],{optional:!0,self:!0}).flat()),{routes:o.map(nw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(UE(()=>{this.childrenLoaders.delete(r)})),o=new V1(s,()=>new $n).pipe(BE());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bN(t){return function RQ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let jp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $n,this.transitionAbortSubject=new $n,this.configLoader=B(ow),this.environmentInjector=B(gr),this.urlSerializer=B(Pl),this.rootContexts=B(Ll),this.inputBindingEnabled=null!==B(kp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new IK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new wK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new ur({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hs(s=>0!==s.id),Pe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Hr(s=>{this.currentTransition=s;let o=!1,a=!1;return re(s).pipe(un(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new eu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),zr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return re(u).pipe(Hr(h=>{const f=this.transitions?.getValue();return this.events.next(new Pp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?zr:Promise.resolve(h)}),function DQ(t,e,n,r,i,s){return Gt(o=>function vQ(t,e,n,r,i,s,o="emptyOnly"){return new EQ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Pe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),un(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new rN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,_=new Pp(h,this.urlSerializer.serialize(f),p,g);this.events.next(_);const y=aN(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:y,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},re(s)}{const h="";return this.events.next(new eu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),zr}}),un(u=>{const c=new yK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Pe(u=>(this.currentTransition=s={...u,guards:$K(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function JK(t,e){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?re({...n,guardsResult:!0}):function eQ(t,e,n,r){return Vt(t).pipe(Gt(i=>function oQ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?re(s.map(a=>{const u=jl(e)??i,c=nu(a,u);return fs(function YK(t){return t&&zl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(uo())})).pipe(ru()):re(!0)}(i.component,i.route,n,e,r)),uo(i=>!0!==i,!0))}(o,r,i,t).pipe(Gt(a=>a&&function GK(t){return"boolean"==typeof t}(a)?function tQ(t,e,n,r){return Vt(e).pipe(Ml(i=>LE(function rQ(t,e){return null!==t&&e&&e(new DK(t)),re(!0)}(i.route.parent,r),function nQ(t,e){return null!==t&&e&&e(new TK(t)),re(!0)}(i.route,r),function sQ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function zK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>k1(()=>re(o.guards.map(u=>{const c=jl(o.node)??n,l=nu(u,c);return fs(function QK(t){return t&&zl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(uo())})).pipe(ru())));return re(s).pipe(ru())}(t,i.path,n),function iQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return re(!0);const i=r.map(s=>k1(()=>{const o=jl(e)??n,a=nu(s,o);return fs(function KK(t){return t&&zl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(uo())}));return re(i).pipe(ru())}(t,i.route,n))),uo(i=>!0!==i,!0))}(r,s,t,e):re(a)),Pe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),un(u=>{if(s.guardsResult=u.guardsResult,ho(u.guardsResult))throw hN(0,u.guardsResult);const c=new _K(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),hs(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),sw(u=>{if(u.guards.canActivateChecks.length)return re(u).pipe(un(c=>{const l=new vK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Hr(c=>{let l=!1;return re(c).pipe(function CQ(t,e){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return re(n);let s=0;return Vt(i).pipe(Ml(o=>function TQ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!TN(i)&&(s[Rl]=i.title),function bQ(t,e,n,r){const i=function AQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return re({});const s={};return Vt(i).pipe(Gt(o=>function SQ(t,e,n,r){const i=jl(e)??r,s=nu(t,i);return fs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(uo(),un(a=>{s[o]=a}))),jE(1),function UW(t){return Pe(()=>t)}(s),co(o=>yN(o)?zr:Sl(o)))}(s,t,e,r).pipe(Pe(o=>(t._resolvedData=o,t.data=uN(t,n).resolve,i&&TN(i)&&(t.data[Rl]=i.title),null)))}(o.route,r,t,e)),un(()=>s++),jE(1),Gt(o=>s===i.length?re(n):zr))})}(n.paramsInheritanceStrategy,this.environmentInjector),un({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),un(c=>{const l=new EK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),sw(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(un(h=>{l.component=h}),Pe(()=>{})));for(const h of l.children)d.push(...c(h));return d};return FE(c(u.targetSnapshot.root)).pipe(Tp(),Za(1))}),sw(()=>this.afterPreactivation()),Pe(u=>{const c=function xK(t,e,n){const r=Bl(t,e._root,n?n._root:void 0);return new oN(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),un(()=>{this.events.next(new WE)}),((t,e,n,r)=>Pe(i=>(new UK(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Za(1),un({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ps(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function $W(t){return yt((e,n)=>{zn(t).subscribe(ut(n,()=>n.complete(),oc)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(un(u=>{throw u}))),UE(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),co(u=>{if(a=!0,pN(u))this.events.next(new Fl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function OK(t){return pN(t)&&ho(t.url)}(u)?this.events.next(new KE(u.url)):s.resolve(!1);else{this.events.next(new Np(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return zr}))}))}cancelNavigationTransition(n,r,i){const s=new Fl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AN(t){return t!==Vl}let SN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Rl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return B(xQ)},providedIn:"root"})}return t})(),xQ=(()=>{class t extends SN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(G(qP))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return B(OQ)},providedIn:"root"})}return t})();class NQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let OQ=(()=>{class t extends NQ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Up=new z("",{providedIn:"root",factory:()=>({})});let kQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:function(){return B(VQ)},providedIn:"root"})}return t})(),VQ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Hl||{});function MN(t,e){t.events.pipe(hs(n=>n instanceof ps||n instanceof Fl||n instanceof Np||n instanceof eu),Pe(n=>n instanceof ps||n instanceof eu?Hl.COMPLETE:n instanceof Fl&&(0===n.code||1===n.code)?Hl.REDIRECTING:Hl.FAILED),hs(n=>n!==Hl.REDIRECTING),Za(1)).subscribe(()=>{e()})}function FQ(t){throw t}function LQ(t,e,n){return e.parse("/")}const BQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(Dx),this.isNgZoneEnabled=!1,this._events=new $n,this.options=B(Up,{optional:!0})||{},this.pendingTasks=B(Cx),this.errorHandler=this.options.errorHandler||FQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||LQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(kQ),this.routeReuseStrategy=B(PQ),this.titleStrategy=B(SN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(su,{optional:!0})?.flat()??[],this.navigationTransitions=B(jp),this.urlSerializer=B(Pl),this.location=B(jv),this.componentInputBindingEnabled=!!B(kp,{optional:!0}),this.eventsSubscription=new mn,this.isNgZoneEnabled=B(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ja,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(RN(r)&&this._events.next(r));if(r instanceof Pp)AN(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof eu)this.rawUrlTree=i.rawUrl;else if(r instanceof rN){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof WE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Fl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof KE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||AN(i.source)};this.scheduleNavigation(s,Vl,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Np&&this.restoreHistory(i,!0),r instanceof ps&&(this.navigated=!0),RN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(nw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=Y1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return Z1(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ho(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Vl,null,r)}navigate(n,r={skipLocationChange:!1}){return function UQ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new w(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...BQ}:!1===r?{...jQ}:r,ho(n))return U1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return U1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return MN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RN(t){return!(t instanceof WE||t instanceof KE)}class xN{}let HQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(hs(n=>n instanceof ps),Ml(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=uv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Vt(i).pipe(Jo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):re(null);const s=i.pipe(Gt(o=>null===o?re(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Vt([s,this.loader.loadComponent(r)]).pipe(Jo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(G(Xt),G(Tx),G(gr),G(xN),G(ow))};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uw=new z("");let PN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ps?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof eu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof iN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new iN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function gS(){throw new Error("invalid")}()};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac})}return t})();function Bi(t,e){return{\u0275kind:t,\u0275providers:e}}function ON(){const t=B(Yn);return e=>{const n=t.get(to);if(e!==n.components[0])return;const r=t.get(Xt),i=t.get(kN);1===t.get(cw)&&r.initialNavigation(),t.get(VN,null,me.Optional)?.setUpPreloading(),t.get(uw,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kN=new z("",{factory:()=>new $n}),cw=new z("",{providedIn:"root",factory:()=>1}),VN=new z("");function KQ(t){return Bi(0,[{provide:VN,useExisting:HQ},{provide:xN,useExisting:t}])}const FN=new z("ROUTER_FORROOT_GUARD"),YQ=[jv,{provide:Pl,useClass:$E},Xt,Ll,{provide:fo,useFactory:function NN(t){return t.routerState.root},deps:[Xt]},ow,[]];function ZQ(){return new Px("Router",Xt)}let LN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[YQ,[],{provide:su,multi:!0,useValue:n},{provide:FN,useFactory:tY,deps:[[Xt,new Hh,new qh]]},{provide:Up,useValue:r||{}},r?.useHash?{provide:ro,useClass:l9}:{provide:ro,useClass:uP},{provide:uw,useFactory:()=>{const t=B(R6),e=B(je),n=B(Up),r=B(jp),i=B(Pl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new PN(i,r,t,e,n)}},r?.preloadingStrategy?KQ(r.preloadingStrategy).\u0275providers:[],{provide:Px,multi:!0,useFactory:ZQ},r?.initialNavigation?nY(r):[],r?.bindToComponentInputs?Bi(8,[dN,{provide:kp,useExisting:dN}]).\u0275providers:[],[{provide:BN,useFactory:ON},{provide:Rv,multi:!0,useExisting:BN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:su,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(G(FN,8))};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({})}return t})();function tY(t){return"guarded"}function nY(t){return["disabled"===t.initialNavigation?Bi(3,[{provide:Iv,multi:!0,useFactory:()=>{const e=B(Xt);return()=>{e.setUpLocationChangeListener()}}},{provide:cw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Bi(2,[{provide:cw,useValue:0},{provide:Iv,multi:!0,deps:[Yn],useFactory:e=>{const n=e.get(u9,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Xt),s=e.get(kN);MN(i,()=>{r(!0)}),e.get(jp).afterPreactivation=()=>(r(!0),s.closed?re(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const BN=new z("");function jN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function R(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){jN(s,r,i,o,a,"next",u)}function a(u){jN(s,r,i,o,a,"throw",u)}o(void 0)})}}const UN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new aY;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $p=function(t){return function(t){const e=UN(t);return $N.encodeByteArray(e,!0)}(t).replace(/\./g,"")},zp=()=>{try{return function lY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return $N.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},HN=()=>{var t;return null===(t=zp())||void 0===t?void 0:t.config};class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function gs(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hw(){try{return"object"==typeof indexedDB}catch{return!1}}function GN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hp.prototype.create)}}class Hp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function IY(t,e){return t.replace(DY,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ms(i,`${this.serviceName}: ${o} (${i}).`,r)}}const DY=/\{\$([^}]+)}/g;function Gp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(KN(s)&&KN(o)){if(!Gp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KN(t){return null!==t&&"object"==typeof t}const bY=1e3,AY=2,SY=144e5,MY=.5;function QN(t,e=bY,n=AY){const r=e*Math.pow(n,t),i=Math.round(MY*r*(Math.random()-.5)*2);return Math.min(SY,r+i)}function po(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const go="[DEFAULT]";class xY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function NY(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return R(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===go?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class OY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const gw=[];var Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{});const YN={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},kY=Ce.INFO,VY={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},FY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=VY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class mw{constructor(e){this.name=e,this._logLevel=kY,this._logHandler=FY,this._userLogHandler=null,gw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?YN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const LY=(t,e)=>e.some(n=>t instanceof n);let ZN,XN;const JN=new WeakMap,yw=new WeakMap,eO=new WeakMap,_w=new WeakMap,vw=new WeakMap;let Ew={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return yw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qY(t){return"function"==typeof t?function HY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jY(){return XN||(XN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ww(this),e),ys(JN.get(this))}:function(...e){return ys(t.apply(ww(this),e))}:function(e,...n){const r=t.call(ww(this),e,...n);return eO.set(r,e.sort?e.sort():[e]),ys(r)}}(t):(t instanceof IDBTransaction&&function $Y(t){if(yw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yw.set(t,e)}(t),LY(t,function BY(){return ZN||(ZN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ew):t)}function ys(t){if(t instanceof IDBRequest)return function UY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JN.set(n,t)}).catch(()=>{}),vw.set(e,t),e}(t);if(_w.has(t))return _w.get(t);const e=qY(t);return e!==t&&(_w.set(t,e),vw.set(e,t)),e}const ww=t=>vw.get(t),WY=["get","getKey","getAll","getAllKeys","count"],KY=["put","add","delete","clear"],Iw=new Map;function tO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Iw.get(e))return Iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!WY.includes(n))return;const s=function(){var o=R(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Iw.set(e,s),s}!function zY(t){Ew=t(Ew)}(t=>({...t,get:(e,n,r)=>tO(e,n)||t.get(e,n,r),has:(e,n)=>!!tO(e,n)||t.has(e,n)}));class QY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function YY(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Dw="@firebase/app",mo=new mw("@firebase/app"),Wp="[DEFAULT]",IZ={[Dw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yo=new Map,Kp=new Map;function DZ(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _s(t){const e=t.name;if(Kp.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of yo.values())DZ(n,t);return!0}function ou(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ui=new Hp("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class TZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}function rO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ui.create("bad-app-name",{appName:String(i)});if(n||(n=HN()),!n)throw Ui.create("no-options");const s=yo.get(i);if(s){if(Gp(n,s.options)&&Gp(r,s.config))return s;throw Ui.create("duplicate-app",{appName:i})}const o=new OY(i);for(const u of Kp.values())o.addComponent(u);const a=new TZ(n,r,o);return yo.set(i,a),a}function iO(t=Wp){const e=yo.get(t);if(!e&&t===Wp&&HN())return rO();if(!e)throw Ui.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let i=null!==(r=IZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void mo.warn(a.join(" "))}_s(new ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const AZ="firebase-heartbeat-database",SZ=1,ql="firebase-heartbeat-store";let Tw=null;function sO(){return Tw||(Tw=function GY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ys(o.result),u.oldVersion,u.newVersion,ys(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(AZ,SZ,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),Tw}function bw(){return(bw=R(function*(t){try{return yield(yield sO()).transaction(ql).objectStore(ql).get(aO(t))}catch(e){if(e instanceof ms)mo.warn(e.message);else{const n=Ui.create("idb-get",{originalErrorMessage:e?.message});mo.warn(n.message)}}})).apply(this,arguments)}function oO(t,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=R(function*(t,e){try{const r=(yield sO()).transaction(ql,"readwrite");yield r.objectStore(ql).put(e,aO(t)),yield r.done}catch(n){if(n instanceof ms)mo.warn(n.message);else{const r=Ui.create("idb-set",{originalErrorMessage:n?.message});mo.warn(r.message)}}})).apply(this,arguments)}function aO(t){return`${t.name}!${t.options.appId}`}class PZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return R(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uO();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return R(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=uO(),{heartbeatsToSend:i,unsentEntries:s}=function NZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=$p(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function uO(){return(new Date).toISOString().substring(0,10)}class OZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(function*(){return!!hw()&&GN().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return R(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function MZ(t){return bw.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return R(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return oO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return R(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return oO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function cO(t){return $p(JSON.stringify({version:2,heartbeats:t})).length}!function kZ(t){_s(new ji("platform-logger",e=>new QY(e),"PRIVATE")),_s(new ji("heartbeat",e=>new PZ(e),"PRIVATE")),oi(Dw,"0.9.26",t),oi(Dw,"0.9.26","esm2017"),oi("fire-js","")}("");var k,VZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fr={},Sw=Sw||{},ae=VZ||self;function Qp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Mw="closure_uid_"+(1e9*Math.random()>>>0),LZ=0;function BZ(t,e,n){return t.call.apply(t.bind,arguments)}function jZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BZ:jZ).apply(null,arguments)}function Yp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vs(){this.s=this.s,this.o=this.o}vs.prototype.s=!1,vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function FZ(t){Object.prototype.hasOwnProperty.call(t,Mw)&&t[Mw]||(t[Mw]=++LZ)}(this)},vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function dO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var $Z=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ae.addEventListener("test",n,e),ae.removeEventListener("test",n,e)}catch{}return t}();function Wl(t){return/^[\s\xa0]*$/.test(t)}function Zp(){var t=ae.navigator;return t&&(t=t.userAgent)?t:""}function ai(t){return-1!=Zp().indexOf(t)}function xw(t){return xw[" "](t),t}xw[" "]=function(){};var Nw,t,HZ=ai("Opera"),au=ai("Trident")||ai("MSIE"),hO=ai("Edge"),Pw=hO||au,fO=ai("Gecko")&&!(-1!=Zp().toLowerCase().indexOf("webkit")&&!ai("Edge"))&&!(ai("Trident")||ai("MSIE"))&&!ai("Edge"),qZ=-1!=Zp().toLowerCase().indexOf("webkit")&&!ai("Edge");function pO(){var t=ae.document;return t?t.documentMode:void 0}e:{var Ow="",kw=(t=Zp(),fO?/rv:([^\);]+)(\)|;)/.exec(t):hO?/Edge\/([\d\.]+)/.exec(t):au?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qZ?/WebKit\/(\S+)/.exec(t):HZ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(kw&&(Ow=kw?kw[1]:""),au){var Vw=pO();if(null!=Vw&&Vw>parseFloat(Ow)){Nw=String(Vw);break e}}Nw=Ow}var GZ=ae.document&&au&&(pO()||parseInt(Nw,10))||void 0;function Kl(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fO){e:{try{xw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:WZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kl.$.h.call(this)}}Ft(Kl,ln);var WZ={2:"touch",3:"pen",4:"mouse"};Kl.prototype.h=function(){Kl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ql="closure_listenable_"+(1e6*Math.random()|0),KZ=0;function QZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++KZ,this.fa=this.ia=!1}function Xp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function mO(t){const e={};for(const n in t)e[n]=t[n];return e}const yO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _O(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<yO.length;s++)n=yO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jp(t){this.src=t,this.g={},this.h=0}function Bw(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=lO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function jw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Jp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=jw(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new QZ(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Uw="closure_lm_"+(1e6*Math.random()|0),$w={};function vO(t,e,n,r,i){if(r&&r.once)return wO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vO(t,e[s],n,r,i);return null}return n=Gw(n),t&&t[Ql]?t.O(e,n,Gl(r)?!!r.capture:!!r,i):EO(t,e,n,!1,r,i)}function EO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gl(i)?!!i.capture:!!i,a=Hw(t);if(a||(t[Uw]=a=new Jp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function ZZ(){const e=XZ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$Z||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wO(t,e[s],n,r,i);return null}return n=Gw(n),t&&t[Ql]?t.P(e,n,Gl(r)?!!r.capture:!!r,i):EO(t,e,n,!0,r,i)}function IO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IO(t,e[s],n,r,i);else r=Gl(r)?!!r.capture:!!r,n=Gw(n),t&&t[Ql]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=jw(s=t.g[e],n,r,i))&&(Xp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Hw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jw(e,n,r,i)),(n=-1<t?e[t]:null)&&zw(n))}function zw(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ql])Bw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hw(e))?(Bw(n,t),0==n.h&&(n.src=null,e[Uw]=null)):Xp(t)}}}function DO(t){return t in $w?$w[t]:$w[t]="on"+t}function XZ(t,e){if(t.fa)t=!0;else{e=new Kl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zw(t),t=n.call(r,e)}return t}function Hw(t){return(t=t[Uw])instanceof Jp?t:null}var qw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gw(t){return"function"==typeof t?t:(t[qw]||(t[qw]=function(e){return t.handleEvent(e)}),t[qw])}function Lt(){vs.call(this),this.i=new Jp(this),this.S=this,this.J=null}function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var i=e;_O(e=new ln(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=eg(o,r,!0,e)&&i}if(i=eg(o=e.g=t,r,!0,e)&&i,i=eg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=eg(o=e.g=n[s],r,!1,e)&&i}function eg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Bw(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ft(Lt,vs),Lt.prototype[Ql]=!0,Lt.prototype.removeEventListener=function(t,e,n,r){IO(this,t,e,n,r)},Lt.prototype.N=function(){if(Lt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xp(n[r]);delete t.g[e],t.h--}}this.J=null},Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ww=ae.JSON.stringify;function eX(){var t=Kw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var CO=new class JZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nX,t=>t.reset());class nX{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iX(t){ae.setTimeout(()=>{throw t},0)}let Yl,Zl=!1,Kw=new class tX{constructor(){this.h=this.g=null}add(e,n){const r=CO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},TO=()=>{const t=ae.Promise.resolve(void 0);Yl=()=>{t.then(sX)}};var sX=()=>{for(var t;t=eX();){try{t.h.call(t.g)}catch(n){iX(n)}var e=CO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zl=!1};function tg(t,e){Lt.call(this),this.h=t||1,this.g=e||ae,this.j=cn(this.qb,this),this.l=Date.now()}function Qw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Yw(t,e,n){if("function"==typeof t)n&&(t=cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function bO(t){t.g=Yw(()=>{t.g=null,t.i&&(t.i=!1,bO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ft(tg,Lt),(k=tg.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(Qw(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){tg.$.N.call(this),Qw(this),delete this.g};class oX extends vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bO(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xl(t){vs.call(this),this.h=t,this.g={}}Ft(Xl,vs);var AO=[];function SO(t,e,n,r){Array.isArray(n)||(n&&(AO[0]=n.toString()),n=AO);for(var i=0;i<n.length;i++){var s=vO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function MO(t){Lw(t.g,function(e,n){this.g.hasOwnProperty(n)&&zw(e)},t),t.g={}}function ng(){this.g=!0}function uu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ww(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Xl.prototype.N=function(){Xl.$.N.call(this),MO(this)},Xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ng.prototype.Ea=function(){this.g=!1},ng.prototype.info=function(){};var _o={},RO=null;function rg(){return RO=RO||new Lt}function xO(t){ln.call(this,_o.Ta,t)}function Jl(t){const e=rg();Jt(e,new xO(e))}function PO(t,e){ln.call(this,_o.STAT_EVENT,t),this.stat=e}function bn(t){const e=rg();Jt(e,new PO(e,t))}function NO(t,e){ln.call(this,_o.Ua,t),this.size=e}function ed(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}_o.Ta="serverreachability",Ft(xO,ln),_o.STAT_EVENT="statevent",Ft(PO,ln),_o.Ua="timingevent",Ft(NO,ln);var ig={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zw(){}function VO(){}Zw.prototype.h=null;var eI,td={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xw(){ln.call(this,"d")}function Jw(){ln.call(this,"c")}function sg(){}function nd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xl(this),this.P=dX,this.V=new tg(t=Pw?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new FO}function FO(){this.i=null,this.g="",this.h=!1}Ft(Xw,ln),Ft(Jw,ln),Ft(sg,Zw),sg.prototype.g=function(){return new XMLHttpRequest},sg.prototype.i=function(){return{}},eI=new sg;var dX=45e3,LO={},tI={};function nI(t,e,n){t.L=1,t.A=cg($i(e)),t.u=n,t.S=!0,BO(t,null)}function BO(t,e){t.G=Date.now(),rd(t),t.B=$i(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),QO(n.i,"t",r),t.o=0,n=t.l.J,t.h=new FO,t.g=vk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new oX(cn(t.Pa,t,t.g),t.O)),SO(t.U,t.g,"readystatechange",t.nb),e=t.I?mO(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Jl(),function aX(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.v,t.B,t.m,t.W,t.u)}function jO(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function UO(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=hX(t,n),i==tI){4==e&&(t.s=4,bn(14),r=!1),uu(t.j,t.m,null,"[Incomplete Response]");break}if(i==LO){t.s=4,bn(15),uu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}uu(t.j,t.m,i,null),rI(t,i)}jO(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lI(e),e.M=!0,bn(11))):(uu(t.j,t.m,n,"[Invalid Chunked Response]"),vo(t),id(t))}function hX(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?tI:(n=Number(e.substring(n,r)),isNaN(n)?LO:(r+=1)+n>e.length?tI:(e=e.slice(r,r+n),t.o=r+n,e))}function rd(t){t.Y=Date.now()+t.P,$O(t,t.P)}function $O(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=ed(cn(t.lb,t),e)}function og(t){t.C&&(ae.clearTimeout(t.C),t.C=null)}function id(t){0==t.l.H||t.J||gk(t.l,t)}function vo(t){og(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Qw(t.V),MO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rI(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||iI(n.i,t)))if(!t.K&&iI(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;gg(n),fg(n)}cI(n),bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ed(cn(n.ib,n),6e3));if(1>=XO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wo(n,11)}else if((t.K||n.g==t)&&gg(n),!Wl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sI(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=_k(r,r.J?r.pa:null,r.Y),o.K){JO(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(og(a),rd(a)),r.g=o}else fk(r);0<n.j.length&&pg(n)}else"stop"!=c[0]&&"close"!=c[0]||wo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wo(n,7):uI(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Jl()}catch{}}function zO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function pX(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function fX(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Qp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(k=nd.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==ui(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=ui(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Pw||this.g&&(this.h.h||this.g.ja()||ak(this.g)))){this.J||4!=l||7==e||Jl(),og(this);var n=this.g.da();this.ca=n;t:if(jO(this)){var r=ak(this.g);t="";var i=r.length,s=4==ui(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),id(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function uX(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,bn(12),vo(this),id(this);break e}uu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rI(this,n)}this.S?(UO(this,l,o),Pw&&this.i&&3==l&&(SO(this.U,this.V,"tick",this.mb),this.V.start())):(uu(this.j,this.m,o,null),rI(this,o)),4==l&&vo(this),this.i&&!this.J&&(4==l?gk(this.l,this):(this.i=!1,rd(this)))}else(function PX(t){const e={};t=(t.g&&2<=ui(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Wl(t[r]))continue;var n=rX(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function YZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),vo(this),id(this)}}}catch{}},k.mb=function(){if(this.g){var t=ui(this.g),e=this.g.ja();this.o<e.length&&(og(this),UO(this,t,e),this.i&&4!=t&&rd(this))}},k.cancel=function(){this.J=!0,vo(this)},k.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function cX(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Jl(),bn(17)),vo(this),this.s=2,id(this)):$O(this,this.Y-t)};var HO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Eo){this.h=t.h,ag(this,t.j),this.s=t.s,this.g=t.g,ug(this,t.m),this.l=t.l;var e=t.i,n=new ad;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qO(this,n),this.o=t.o}else t&&(e=String(t).match(HO))?(this.h=!1,ag(this,e[1]||"",!0),this.s=sd(e[2]||""),this.g=sd(e[3]||"",!0),ug(this,e[4]),this.l=sd(e[5]||"",!0),qO(this,e[6]||"",!0),this.o=sd(e[7]||"")):(this.h=!1,this.i=new ad(null,this.h))}function $i(t){return new Eo(t)}function ag(t,e,n){t.j=n?sd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ug(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qO(t,e,n){e instanceof ad?(t.i=e,function wX(t,e){e&&!t.j&&(Es(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WO(this,r),QO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=od(e,vX)),t.i=new ad(e,t.h))}function Xe(t,e,n){t.i.set(e,n)}function cg(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function od(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Eo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(od(e,GO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(od(e,GO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(od(n,"/"==n.charAt(0)?_X:yX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",od(n,EX)),t.join("")};var GO=/[#\/\?@]/g,yX=/[#\?:]/g,_X=/[#\?]/g,vX=/[#\?@]/g,EX=/#/g;function ad(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Es(t){t.g||(t.g=new Map,t.h=0,t.i&&function gX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function WO(t,e){Es(t),e=cu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KO(t,e){return Es(t),e=cu(t,e),t.g.has(e)}function QO(t,e,n){WO(t,e),0<n.length&&(t.i=null,t.g.set(cu(t,e),Rw(n)),t.h+=n.length)}function cu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function YO(t){this.l=t||DX,t=ae.PerformanceNavigationTiming?0<(t=ae.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=ad.prototype).add=function(t,e){Es(this),this.i=null,t=cu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){Es(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.ta=function(){Es(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},k.Z=function(t){Es(this);let e=[];if("string"==typeof t)KO(this,t)&&(e=e.concat(this.g.get(cu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return Es(this),this.i=null,KO(this,t=cu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var DX=10;function ZO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function XO(t){return t.h?1:t.g?t.g.size:0}function iI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sI(t,e){t.g?t.g.add(e):t.h=e}function JO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ek(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rw(t.i)}YO.prototype.cancel=function(){if(this.i=ek(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var CX=class{stringify(t){return ae.JSON.stringify(t,void 0)}parse(t){return ae.JSON.parse(t,void 0)}};function TX(){this.g=new CX}function bX(t,e,n){const r=n||"";try{zO(t,function(i,s){let o=i;Gl(i)&&(o=Ww(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ud(t){this.l=t.ec||null,this.j=t.ob||!1}function dg(t,e){Lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=oI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(ud,Zw),ud.prototype.g=function(){return new dg(this.l,this.j)},ud.prototype.i=function(t){return function(){return t}}({}),Ft(dg,Lt);var oI=0;function tk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function cd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ld(t)}function ld(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=dg.prototype).open=function(t,e){if(this.readyState!=oI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ld(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cd(this)),this.readyState=oI},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ld(this)),this.g&&(this.readyState=3,ld(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cd(this):ld(this),3==this.readyState&&tk(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,cd(this))},k.Ya=function(t){this.g&&(this.response=t,cd(this))},k.ka=function(){this.g&&cd(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(dg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var SX=ae.JSON.parse;function gt(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nk,this.L=this.M=!1}Ft(gt,Lt);var nk="",MX=/^https?$/i,RX=["POST","PUT"];function rk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ik(t),hg(t)}function ik(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}function sk(t){if(t.h&&typeof Sw<"u"&&(!t.C[1]||4!=ui(t)||2!=t.da()))if(t.v&&4==ui(t))Yw(t.La,0,t);else if(Jt(t,"readystatechange"),4==ui(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(HO)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!MX.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var s=2<ui(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ik(t)}}finally{hg(t)}}}function hg(t,e){if(t.g){ok(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ok(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}function ui(t){return t.g?t.g.readyState:0}function ak(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uk(t){let e="";return Lw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function aI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uk(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Xe(t,e,n))}function dd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ck(t){this.Ga=0,this.j=[],this.l=new ng,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dd("baseRetryDelayMs",5e3,t),this.hb=dd("retryDelaySeedMs",1e4,t),this.eb=dd("forwardChannelMaxRetries",2,t),this.xa=dd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YO(t&&t.concurrentRequestLimit),this.Ja=new TX,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uI(t){if(lk(t),3==t.H){var e=t.W++,n=$i(t.I);if(Xe(n,"SID",t.K),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),hd(t,n),(e=new nd(t,t.l,e)).L=2,e.A=cg($i(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ae.Image&&((new Image).src=e.A,n=!0),n||(e.g=vk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),rd(e)}yk(t)}function fg(t){t.g&&(lI(t),t.g.cancel(),t.g=null)}function lk(t){fg(t),t.u&&(ae.clearTimeout(t.u),t.u=null),gg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ae.clearTimeout(t.m),t.m=null)}function pg(t){if(!ZO(t.i)&&!t.m){t.m=!0;var e=t.Na;Yl||TO(),Zl||(Yl(),Zl=!0),Kw.add(e,t),t.C=0}}function dk(t,e){var n;n=e?e.m:t.W++;const r=$i(t.I);Xe(r,"SID",t.K),Xe(r,"RID",n),Xe(r,"AID",t.V),hd(t,r),t.o&&t.s&&aI(r,t.o,t.s),n=new nd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),sI(t.i,n),nI(n,r,e)}function hd(t,e){t.na&&Lw(t.na,function(n,r){Xe(e,r,n)}),t.h&&zO({},function(n,r){Xe(e,r,n)})}function hk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{bX(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Yl||TO(),Zl||(Yl(),Zl=!0),Kw.add(e,t),t.A=0}}function cI(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ed(cn(t.Ma,t),mk(t,t.A)),t.A++,0))}function lI(t){null!=t.B&&(ae.clearTimeout(t.B),t.B=null)}function pk(t){t.g=new nd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=$i(t.wa);Xe(e,"RID","rpc"),Xe(e,"SID",t.K),Xe(e,"AID",t.V),Xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Xe(e,"TO",t.qa),Xe(e,"TYPE","xmlhttp"),hd(t,e),t.o&&t.s&&aI(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=cg($i(e)),n.u=null,n.S=!0,BO(n,t)}function gg(t){null!=t.v&&(ae.clearTimeout(t.v),t.v=null)}function gk(t,e){var n=null;if(t.g==e){gg(t),lI(t),t.g=null;var r=2}else{if(!iI(t.i,e))return;n=e.F,JO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Jt(r=rg(),new NO(r,n)),pg(t)}else fk(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function NX(t,e){return!(XO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ed(cn(t.Na,t,e),mk(t,t.C)),t.C++,0)))}(t,e)||2==r&&cI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}function mk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new Eo("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||ag(n,"https"),cg(n)),function AX(t,e){const n=new ng;if(ae.Image){const r=new Image;r.onload=Yp(lg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yp(lg,n,r,"TestLoadImage: error",!1,e),r.onabort=Yp(lg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yp(lg,n,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bn(2);t.H=0,t.h&&t.h.za(e),yk(t),lk(t)}function yk(t){if(t.H=0,t.ma=[],t.h){const e=ek(t.i);(0!=e.length||0!=t.j.length)&&(dO(t.ma,e),dO(t.ma,t.j),t.i.i.length=0,Rw(t.j),t.j.length=0),t.h.ya()}}function _k(t,e,n){var r=n instanceof Eo?$i(n):new Eo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ug(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Eo(null);r&&ag(s,r),e&&(s.g=e),i&&ug(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Xe(r,n,e),Xe(r,"VER",t.ra),hd(t,r),r}function vk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gt(t.Ha&&!t.va?new ud({ob:n}):t.va)).Oa(t.J),e}function Ek(){}function mg(){if(au&&!(10<=Number(GZ)))throw Error("Environmental error: no available transport.")}function tr(t,e){Lt.call(this),this.g=new ck(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new lu(this)}function wk(t){Xw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ik(){Jw.call(this),this.status=1}function lu(t){this.g=t}function Lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dI(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(k=gt.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eI.g(),this.C=function kO(t){return t.h||(t.h=t.i())}(this.u?this.u:eI),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void rk(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ae.FormData&&t instanceof ae.FormData,!(0<=lO(RX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ok(this),0<this.B&&((this.L=function xX(t){return au&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=Yw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rk(this,s)}},k.ua=function(){typeof Sw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),hg(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hg(this,!0)),gt.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?sk(this):this.kb())},k.kb=function(){sk(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),SX(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=ck.prototype).ra=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new nd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=mO(s),_O(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hk(this,i,e),Xe(n=$i(this.I),"RID",t),Xe(n,"CVER",22),this.F&&Xe(n,"X-HTTP-Session-Id",this.F),hd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(uk(s)))+"&"+e:this.o&&aI(n,this.o,s)),sI(this.i,i),this.bb&&Xe(n,"TYPE","init"),this.P?(Xe(n,"$req",e),Xe(n,"SID","null"),i.aa=!0,nI(i,n,null)):nI(i,n,e),this.H=2}}else 3==this.H&&(t?dk(this,t):0==this.j.length||ZO(this.i)||dk(this))},k.Ma=function(){if(this.u=null,pk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ed(cn(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),fg(this),pk(this))},k.ib=function(){null!=this.v&&(this.v=null,fg(this),cI(this),bn(19))},k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=Ek.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},mg.prototype.g=function(t,e){return new tr(t,e)},Ft(tr,Lt),tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_k(t,null,t.Y),pg(t)},tr.prototype.close=function(){uI(this.g)},tr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Ww(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&pg(e)},tr.prototype.N=function(){this.g.h=null,delete this.j,uI(this.g),delete this.g,tr.$.N.call(this)},Ft(wk,Xw),Ft(Ik,Jw),Ft(lu,Ek),lu.prototype.Ba=function(){Jt(this.g,"a")},lu.prototype.Aa=function(t){Jt(this.g,new wk(t))},lu.prototype.za=function(t){Jt(this.g,new Ik)},lu.prototype.ya=function(){Jt(this.g,"b")},Ft(Lr,function OX(){this.blockSize=-1}),Lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)dI(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dI(this,r),i=0;break}}this.h=i,this.i+=e},Lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var kX={};function hI(t){return-128<=t&&128>t?function zZ(t,e){var n=kX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ve([0|e],0>e?-1:0)}):new Ve([0|t],0>t?-1:0)}function ci(t){if(isNaN(t)||!isFinite(t))return du;if(0>t)return en(ci(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fI;return new Ve(e,0)}var fI=4294967296,du=hI(0),pI=hI(1),Ck=hI(16777216);function zi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Er(t){return-1==t.h}function en(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(pI)}function yg(t,e){return t.add(en(e))}function _g(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fd(t,e){this.g=t,this.h=e}function vg(t,e){if(zi(e))throw Error("division by zero");if(zi(t))return new fd(du,du);if(Er(t))return e=vg(en(t),e),new fd(en(e.g),en(e.h));if(Er(e))return e=vg(t,en(e)),new fd(en(e.g),e.h);if(30<t.g.length){if(Er(t)||Er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pI,r=e;0>=r.X(t);)n=Tk(n),r=Tk(r);var i=hu(n,1),s=hu(r,1);for(r=hu(r,2),n=hu(n,2);!zi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=hu(r,1),n=hu(n,1)}return e=yg(t,i.R(e)),new fd(i,e)}for(i=du;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ci(n)).R(e);Er(o)||0<o.X(t);)o=(s=ci(n-=r)).R(e);zi(s)&&(s=pI),i=i.add(s),t=yg(t,o)}return new fd(i,t)}function Tk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function hu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(i,t.h)}(k=Ve.prototype).ea=function(){if(Er(this))return-en(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fI+r)*e,e*=fI}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(zi(this))return"0";if(Er(this))return"-"+en(this).toString(t);for(var e=ci(Math.pow(t,6)),n=this,r="";;){var i=vg(n,e).g,s=((0<(n=yg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(zi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return Er(t=yg(this,t))?-1:zi(t)?0:1},k.abs=function(){return Er(this)?en(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ve(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(zi(this)||zi(t))return du;if(Er(this))return Er(t)?en(this).R(en(t)):en(en(this).R(t));if(Er(t))return en(this.R(en(t)));if(0>this.X(Ck)&&0>t.X(Ck))return ci(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,_g(n,2*r+2*i),n[2*r+2*i+1]+=s*u,_g(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,_g(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,_g(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)},k.gb=function(t){return vg(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)},mg.prototype.createWebChannel=mg.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,ig.NO_ERROR=0,ig.TIMEOUT=8,ig.HTTP_ERROR=6,OO.COMPLETE="complete",VO.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",Lt.prototype.listen=Lt.prototype.O,gt.prototype.listenOnce=gt.prototype.P,gt.prototype.getLastError=gt.prototype.Sa,gt.prototype.getLastErrorCode=gt.prototype.Ia,gt.prototype.getStatus=gt.prototype.da,gt.prototype.getResponseJson=gt.prototype.Wa,gt.prototype.getResponseText=gt.prototype.ja,gt.prototype.send=gt.prototype.ha,gt.prototype.setWithCredentials=gt.prototype.Oa,Lr.prototype.digest=Lr.prototype.l,Lr.prototype.reset=Lr.prototype.reset,Lr.prototype.update=Lr.prototype.j,Ve.prototype.add=Ve.prototype.add,Ve.prototype.multiply=Ve.prototype.R,Ve.prototype.modulo=Ve.prototype.gb,Ve.prototype.compare=Ve.prototype.X,Ve.prototype.toNumber=Ve.prototype.ea,Ve.prototype.toString=Ve.prototype.toString,Ve.prototype.getBits=Ve.prototype.D,Ve.fromNumber=ci,Ve.fromString=function Dk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return en(Dk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ci(Math.pow(e,8)),r=du,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ci(Math.pow(e,s)),r=r.R(s).add(ci(o))):r=(r=r.R(n)).add(ci(o))}return r};var VX=Fr.createWebChannelTransport=function(){return new mg},FX=Fr.getStatEventTarget=function(){return rg()},gI=Fr.ErrorCode=ig,LX=Fr.EventType=OO,BX=Fr.Event=_o,bk=Fr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eg=(Fr.FetchXmlHttpFactory=ud,Fr.WebChannel=VO),jX=Fr.XhrIo=gt,UX=Fr.Md5=Lr,fu=Fr.Integer=Ve;const Ak="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let pu="10.7.2";const ws=new mw("@firebase/firestore");function gu(){return ws.logLevel}function A(t,...e){if(ws.logLevel<=Ce.DEBUG){const n=e.map(mI);ws.debug(`Firestore (${pu}): ${t}`,...n)}}function It(t,...e){if(ws.logLevel<=Ce.ERROR){const n=e.map(mI);ws.error(`Firestore (${pu}): ${t}`,...n)}}function nr(t,...e){if(ws.logLevel<=Ce.WARN){const n=e.map(mI);ws.warn(`Firestore (${pu}): ${t}`,...n)}}function mI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: `+t;throw It(e),new Error(e)}function q(t,e){t||L()}function N(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Sk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $X{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class zX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HX{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(R(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new Sk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Bt(e)}}class qX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(q("string"==typeof n.token),this.R=n.token,new Mk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Rk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=KX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function mu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new ot(0,0))}static max(){return new W(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pd{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===pd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends pd{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const QX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends pd{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return QX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(_e.fromString(e))}static fromName(e){return new O(_e.fromString(e).popFirst(5))}static empty(){return new O(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new _e(e.slice()))}}function Nk(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(W.min(),O.empty(),-1)}static max(){return new rr(W.max(),O.empty(),-1)}}function _I(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:ie(t.largestBatchId,e.largestBatchId))}const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Is(t){return vI.apply(this,arguments)}function vI(){return vI=R(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==Ok)throw t;A("LocalStore","Unexpectedly lost primary lease")}),vI.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class wg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Nt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new gd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=EI(r.target.error);this.V.reject(new gd(e,i))}}static open(e,n,r,i){try{return new wg(n,e.transaction(i,r))}catch(s){throw new gd(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(A("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eJ(n)}}class wr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===wr.S(gs())&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return A("SimpleDb","Removing database:",e),Co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hw())return!1;if(wr.C())return!0;const e=gs(),n=wr.S(e),r=0<n&&n<10,i=wr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return R(function*(){return n.db||(A("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new gd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new S(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new S(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new gd(e,a))},s.onupgradeneeded=o=>{A("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{A("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return R(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=wg.open(s.db,e,o?"readonly":"readwrite",r),c=i(u).next(l=>(u.g(),l)).catch(l=>(u.abort(l),v.reject(l))).toPromise();return c.catch(()=>{}),yield u.m,c}catch(u){const c=u,l="FirebaseError"!==c.name&&a<3;if(A("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),!l)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class JX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Co(this.k.delete())}}class gd extends S{constructor(e,n){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ds(t){return"IndexedDbTransactionError"===t.name}class eJ{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(A("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(A("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Co(r)}add(e){return A("SimpleDb","ADD",this.store.name,e,e),Co(this.store.add(e))}get(e){return Co(this.store.get(e)).next(n=>(void 0===n&&(n=null),A("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return A("SimpleDb","DELETE",this.store.name,e),Co(this.store.delete(e))}count(){return A("SimpleDb","COUNT",this.store.name),Co(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new v((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new v((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){A("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new v((r,i)=>{n.onerror=s=>{const o=EI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new v((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new JX(a),c=n(a.primaryKey,a.value,u);if(c instanceof v){const l=c.catch(d=>(u.done(),v.reject(d)));r.push(l)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>v.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Co(t){return new v((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=EI(r.target.error);n(i)}})}let kk=!1;function EI(t){const e=wr.S(gs());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new S("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kk||(kk=!0,setTimeout(()=>{throw r},0)),r}}return t}let ir=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function md(t){return null==t}function yd(t){return 0===t&&1/t==-1/0}function zk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ye{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qk(this.data.getIterator())}getIteratorFrom(e){return new qk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class qk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Ue(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gk("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const wJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(q(!!t),"string"==typeof t){let e=0;const n=wJ.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Hi(t){return"string"==typeof t?Ot.fromBase64String(t):Ot.fromUint8Array(t)}function Cg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tg(t){const e=t.mapValue.fields.__previous_value__;return Cg(e)?Tg(e):e}function _d(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}class IJ{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class To{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}const bs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cg(t)?4:Yk(t)?9007199254740991:10:L()}function di(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ts(i.timestampValue),a=Ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Hi(t.bytesValue).isEqual(Hi(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mt(i.doubleValue),a=mt(s.doubleValue);return o===a?yd(o)===yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mu(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(zk(o)!==zk(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!di(o[u],a[u])))return!1;return!0}(t,e);default:return L()}var s}function vd(t,e){return void 0!==(t.values||[]).find(n=>di(n,e))}function Ss(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mt(s.integerValue||s.doubleValue),u=mt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Wk(t.timestampValue,e.timestampValue);case 4:return Wk(_d(t),_d(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Hi(s),u=Hi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=ie(a[c],u[c]);if(0!==l)return l}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(mt(s.latitude),mt(o.latitude));return 0!==a?a:ie(mt(s.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=Ss(a[c],u[c]);if(l)return l}return ie(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===bs.mapValue&&o===bs.mapValue)return 0;if(s===bs.mapValue)return 1;if(o===bs.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=ie(u[d],l[d]);if(0!==h)return h;const f=Ss(a[u[d]],c[l[d]]);if(0!==f)return f}return ie(u.length,l.length)}(t.mapValue,e.mapValue);default:throw L()}}function Wk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ie(t,e);const n=Ts(t),r=Ts(e),i=ie(n.seconds,r.seconds);return 0!==i?i:ie(n.nanos,r.nanos)}function Eu(t){return II(t)}function II(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Hi(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=II(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${II(n.fields[o])}`;return i+"}"}(t.mapValue):L()}function DI(t){return!!t&&"integerValue"in t}function Ed(t){return!!t&&"arrayValue"in t}function Kk(t){return!!t&&"nullValue"in t}function Qk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Yk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(wd(this.value))}}function Jk(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new nt([n]);if(Sg(r)){const s=Jk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bn(e)}class Je{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Je(e,0,W.min(),W.min(),W.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Je(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new Je(e,2,n,W.min(),W.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Je(e,3,n,W.min(),W.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ms{constructor(e,n){this.position=e,this.inclusive=n}}function eV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):Ss(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function tV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function TJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nV{}class ve extends nV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new bJ(e,n,r):"array-contains"===n?new MJ(e,r):"in"===n?new uV(e,r):"not-in"===n?new RJ(e,r):"array-contains-any"===n?new xJ(e,r):new ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new AJ(e,r):new SJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ss(n,this.value)):null!==n&&As(this.value)===As(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends nV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Fe(e,n)}matches(e){return wu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wu(t){return"and"===t.op}function TI(t){return function rV(t){for(const e of t.filters)if(e instanceof Fe)return!1;return!0}(t)&&wu(t)}function bI(t){if(t instanceof ve)return t.field.canonicalString()+t.op.toString()+Eu(t.value);if(TI(t))return t.filters.map(e=>bI(e)).join(",");{const e=t.filters.map(n=>bI(n)).join(",");return`${t.op}(${e})`}}function iV(t,e){return t instanceof ve?(r=t,(i=e)instanceof ve&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)):t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&iV(o,i.filters[a]),!0)}(t,e):void L();var r,i}function oV(t){return t instanceof ve?`${(n=t).field.canonicalString()} ${n.op} ${Eu(n.value)}`:t instanceof Fe?function(n){return n.op.toString()+" {"+n.getFilters().map(oV).join(" ,")+"}"}(t):"Filter";var n}class bJ extends ve{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class AJ extends ve{constructor(e,n){super(e,"in",n),this.keys=aV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SJ extends ve{constructor(e,n){super(e,"not-in",n),this.keys=aV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class MJ extends ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ed(n)&&vd(n.arrayValue,this.value)}}class uV extends ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vd(this.value.arrayValue,n)}}class RJ extends ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vd(this.value.arrayValue,n)}}class xJ extends ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vd(this.value.arrayValue,r))}}class PJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function AI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PJ(t,e,n,r,i,s,o)}function Ao(t){const e=N(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eu(r)).join(",")),e.ce=n}return e.ce}function Dd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tV(t.startAt,e.startAt)&&tV(t.endAt,e.endAt)}function Mg(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Iu(t){return new qi(t)}function hV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Du(t){const e=N(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ue(nt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Id(s,r))}),n.has(nt.keyField().canonicalString())||e.le.push(new Id(nt.keyField(),r))}return e.le}function An(t){const e=N(t);return e.he||(e.he=function fV(t,e){if("F"===t.limitType)return AI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Id(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ms(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ms(t.startAt.position,t.startAt.inclusive):null;return AI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Du(t))),e.he}function xg(t,e,n){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cd(t,e){return Dd(An(t),An(e))&&t.limitType===e.limitType}function pV(t){return`${Ao(An(t))}|lt:${t.limitType}`}function Cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oV(i)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Eu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Eu(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):O.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Du(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const c=eV(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Du(r),i)||r.endAt&&!function(o,a,u){const c=eV(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Du(r),i)));var r,i}function mV(t){return(e,n)=>{let r=!1;for(const i of Du(t)){const s=NJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function NJ(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Ss(u,c):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Hk(this.inner)}size(){return this.innerSize}}const OJ=new Ye(O.comparator);function jn(){return OJ}const yV=new Ye(O.comparator);function bd(...t){let e=yV;for(const n of t)e=e.insert(n.key,n);return e}function _V(t){let e=yV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return Ad()}function vV(){return Ad()}function Ad(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const kJ=new Ye(O.comparator),VJ=new Ue(O.comparator);function he(...t){let e=VJ;for(const n of t)e=e.add(n);return e}const FJ=new Ue(ie);function EV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function wV(t){return{integerValue:""+t}}function IV(t,e){return function Vk(t){return"number"==typeof t&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?wV(e):EV(t,e)}class Pg{constructor(){this._=void 0}}function LJ(t,e,n){return t instanceof Tu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cg(s)&&(s=Tg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof So?CV(t,e):t instanceof Mo?TV(t,e):function(i,s){const o=DV(i,s),a=bV(o)+bV(i.Ie);return DI(o)&&DI(i.Ie)?wV(a):EV(i.serializer,a)}(t,e)}function BJ(t,e,n){return t instanceof So?CV(t,e):t instanceof Mo?TV(t,e):n}function DV(t,e){return t instanceof bu?DI(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Tu extends Pg{}class So extends Pg{constructor(e){super(),this.elements=e}}function CV(t,e){const n=AV(e);for(const r of t.elements)n.some(i=>di(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mo extends Pg{constructor(e){super(),this.elements=e}}function TV(t,e){let n=AV(e);for(const r of t.elements)n=n.filter(i=>!di(i,r));return{arrayValue:{values:n}}}class bu extends Pg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function bV(t){return mt(t.integerValue||t.doubleValue)}function AV(t){return Ed(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class UJ{constructor(e,n){this.version=e,this.transformResults=n}}class rt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rt}static exists(e){return new rt(void 0,e)}static updateTime(e){return new rt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Og{}function SV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Su(t.key,rt.none()):new Au(t.key,t.data,rt.none());{const n=t.data,r=nn.empty();let i=new Ue(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Wi(t.key,r,new Bn(i.toArray()),rt.none())}}function $J(t,e,n){t instanceof Au?function(i,s,o){const a=i.value.clone(),u=xV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,s,o){if(!Ng(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(RV(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Md(t,e,n,r){return t instanceof Au?function(s,o,a,u){if(!Ng(s.precondition,o))return a;const c=s.value.clone(),l=PV(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(s,o,a,u){if(!Ng(s.precondition,o))return a;const c=PV(s.fieldTransforms,u,o),l=o.data;return l.setAll(RV(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Ng(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function zJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=DV(r.transform,i||null);null!=s&&(null===n&&(n=nn.empty()),n.set(r.field,s))}return n||null}function MV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&mu(r,i,(s,o)=>function jJ(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof So&&i instanceof So||r instanceof Mo&&i instanceof Mo?mu(r.elements,i.elements,di):r instanceof bu&&i instanceof bu?di(r.Ie,i.Ie):r instanceof Tu&&i instanceof Tu);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Au extends Og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Og{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xV(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BJ(o,a,n[i]))}return r}function PV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LJ(s,o,e))}return r}class Su extends Og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends Og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$J(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=SV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&mu(this.mutations,e.mutations,(n,r)=>MV(n,r))&&mu(this.baseMutations,e.baseMutations,(n,r)=>MV(n,r))}}class NI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=kJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new NI(e,n,r,i)}}class OI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qJ{constructor(e,n){this.count=e,this.unchangedNames=n}}var At,De;function OV(t){if(void 0===t)return It("GRPC error has no .code"),E.UNKNOWN;switch(t){case At.OK:return E.OK;case At.CANCELLED:return E.CANCELLED;case At.UNKNOWN:return E.UNKNOWN;case At.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case At.INTERNAL:return E.INTERNAL;case At.UNAVAILABLE:return E.UNAVAILABLE;case At.UNAUTHENTICATED:return E.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case At.NOT_FOUND:return E.NOT_FOUND;case At.ALREADY_EXISTS:return E.ALREADY_EXISTS;case At.PERMISSION_DENIED:return E.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case At.ABORTED:return E.ABORTED;case At.OUT_OF_RANGE:return E.OUT_OF_RANGE;case At.UNIMPLEMENTED:return E.UNIMPLEMENTED;case At.DATA_LOSS:return E.DATA_LOSS;default:return L()}}(De=At||(At={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";const GJ=new fu([4294967295,4294967295],0);function VV(t){const e=function kV(){return new TextEncoder}().encode(t),n=new UX;return n.update(e),new Uint8Array(n.digest())}function FV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fu([n,r],0),new fu([i,s],0)]}class kI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rd(`Invalid padding: ${n}`);if(r<0)throw new Rd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Rd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Rd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=fu.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(fu.fromNumber(r)));return 1===i.compare(GJ)&&(i=new fu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=VV(e),[r,i]=FV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=VV(e),[r,i]=FV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xd(W.min(),i,new Ye(ie),jn(),he())}}class Pd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pd(r,n,he(),he(),he())}}class Vg{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class LV{constructor(e,n){this.targetId=e,this.fe=n}}class BV{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jV{constructor(){this.ge=0,this.pe=$V(),this.ye=Ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=he(),n=he(),r=he();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Pd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$V()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,q(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class WJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=jn(),this.Qe=UV(),this.Ke=new Ye(ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Mg(s))if(0===r){const o=new O(s.path);this.We(n,o,Je.newNoDocument(o,W.min()))}else q(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Hi(r).toUint8Array()}catch(u){if(u instanceof Gk)return nr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new kI(o,i,s)}catch(u){return nr(u instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Mg(a.target)){const u=new O(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,Je.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=he();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new xd(e,n,this.Ke,this.qe,r);return this.qe=jn(),this.Qe=UV(),this.Ke=new Ye(ie),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new jV,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ue(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new jV),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function UV(){return new Ye(O.comparator)}function $V(){return new Ye(O.comparator)}const KJ={asc:"ASCENDING",desc:"DESCENDING"},QJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YJ={and:"AND",or:"OR"};class ZJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function VI(t,e){return t.useProto3Json||md(e)?e:{value:e}}function Mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XJ(t,e){return Mu(t,e.toTimestamp())}function Dt(t){return q(!!t),W.fromTimestamp(function(n){const r=Ts(n);return new ot(r.seconds,r.nanos)}(t))}function FI(t,e){return LI(t,e).canonicalString()}function LI(t,e){const n=(i=t,new _e(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function HV(t){const e=_e.fromString(t);return q(eF(e)),e}function Nd(t,e){return FI(t.databaseId,e.path)}function fi(t,e){const n=HV(e);if(n.get(1)!==t.databaseId.projectId)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(WV(n))}function qV(t,e){return FI(t.databaseId,e)}function BI(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WV(t){return q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function KV(t,e,n){return{name:Nd(t,e),fields:n.value.mapValue.fields}}function YV(t,e){return{documents:[qV(t,e.path)]}}function UI(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qV(t,i);const s=function(c){if(0!==c.length)return JV(Fe.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Rs((h=l).field),direction:ree(h.dir)};var h})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=VI(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i};var c}function ZV(t){let e=function GV(t){const e=HV(t);return 4===e.length?_e.emptyPath():WV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){const h=XV(d);return h instanceof Fe&&TI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>{return new Id(Ru((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,md(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new Ms((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new Ms(d.values||[],!d.before)}(n.endAt)),function dV(t,e,n,r,i,s,o,a){return new qi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function XV(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ru(n.unaryFilter.field);return ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ru(n.unaryFilter.field);return ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ru(n.unaryFilter.field);return ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ru(n.unaryFilter.field);return ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?ve.create(Ru((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Fe.create(n.compositeFilter.filters.map(r=>XV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return L()}}(n.compositeFilter.op))}(t):L();var n}function ree(t){return KJ[t]}function iee(t){return QJ[t]}function see(t){return YJ[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ru(t){return nt.fromServerFormat(t.fieldPath)}function JV(t){return t instanceof ve?function(n){if("=="===n.op){if(Qk(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(Kk(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Qk(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(Kk(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:iee(n.op),value:n.value}}}(t):t instanceof Fe?function(n){const r=n.getFilters().map(i=>JV(i));return 1===r.length?r[0]:{compositeFilter:{op:see(n.op),filters:r}}}(t):L()}function oee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ki{constructor(e,n,r,i,s=W.min(),o=W.min(),a=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tF{constructor(e){this.ct=e}}function $I(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xg(e,e.limit,"L"):e}class No{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(mt(e.integerValue));else if("doubleValue"in e){const r=mt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),yd(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Hi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Yk(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):L()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),O.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}No.bt=new No;class pee{constructor(){this._n=new KI}addToCollectionParentIndex(e,n){return this._n.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(rr.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class KI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ue(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(_e.comparator)).toArray()}}new Uint8Array(0);class hn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class ko{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ko(0)}static Bn(){return new ko(-1)}}class Eee{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Md(r.mutation,i,Bn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn();const o=Ad(),a=Ad();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Wi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Md(l.mutation,c,l.mutation.getFieldMask(),ot.now())):o.set(c.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Dee(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ad();let i=new Ye((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Bn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=vV();l.forEach(h=>{if(!s.has(h)){const f=SV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return O.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function SI(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(hi());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,he())).next(l=>({batchId:a,changes:_V(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bd();return this.indexManager.getCollectionParents(e,s).next(a=>v.forEach(a,u=>{const c=(d=n,h=u.child(s),new qi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,Je.newInvalidDocument(l)))});let a=bd();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&Md(l.mutation,c,Bn.empty(),ot.now()),Td(n,c)&&(a=a.insert(u,c))}),a})}}class Cee{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return v.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Dt(i.createTime)}),v.resolve();var i}getNamedQuery(e,n){return v.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:$I(i.bundledQuery),readTime:Dt(i.readTime)}),v.resolve();var i}}class Tee{constructor(){this.overlays=new Ye(O.comparator),this.hr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hi();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=hi(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=hi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=hi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OI(n,r));let s=this.hr.get(n);void 0===s&&(s=he(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}class QI{constructor(){this.Pr=new Ue(Ut.Ir),this.Tr=new Ue(Ut.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ut(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new O(new _e([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new O(new _e([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=he();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return O.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||O.comparator(e.key,n.key)}}class bee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ue(Ut.Ir)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++;const o=new PI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ue(ie);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),v.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new O(s),0);let a=new Ue(ie);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),v.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){q(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return v.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.wr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Aee{constructor(e){this.vr=e,this.docs=new Ye(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn();const o=n.path,a=new O(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_I(Nk(l),r)<=0||(i.has(l.key)||Td(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}Fr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new See(this)}getSize(e){return v.resolve(this.size)}}class See extends Eee{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Mee{constructor(e){this.persistence=e,this.Mr=new Gi(n=>Ao(n),Dd),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Or=0,this.Nr=new QI,this.targetCount=0,this.Br=ko.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),v.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.qn(n),v.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Nr.containsKey(n))}}class YI{constructor(e,n){this.Lr={},this.overlays={},this.kr=new ir(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Mee(this),this.indexManager=new pee,this.remoteDocumentCache=new Aee(r=>this.referenceDelegate.Kr(r)),this.serializer=new tF(n),this.$r=new Cee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new bee(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Ree(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return v.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Ree extends XX{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.zr=new QI,this.jr=null}static Hr(e){return new Hg(e)}get Jr(){if(this.jr)return this.jr;throw L()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),v.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Jr,r=>{const i=O.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return v.or([()=>v.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class eD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new eD(e,n.fromCache,r,i)}}class Pee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function vY(){return!function yY(){var t;const e=null===(t=zp())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:wr.v(gs())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Pee;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(gu()<=Ce.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),v.resolve()):(gu()<=Ce.DEBUG&&A("QueryEngine","Query:",Cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gu()<=Ce.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):v.resolve())}ji(e,n){if(hV(n))return v.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=xg(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,xg(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return hV(n)||i.isEqual(W.min())?v.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?v.resolve(null):(gu()<=Ce.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cu(n)),this.es(e,o,n,function Pk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new ot(n+1,0):new ot(n,r));return new rr(i,O.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ue(mV(e));return n.forEach((i,s)=>{Td(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return gu()<=Ce.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.zi.getDocumentsMatchingQuery(e,n,rr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Nee{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(ie),this.rs=new Gi(s=>Ao(s),Dd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function PF(t,e){return tD.apply(this,arguments)}function tD(){return tD=R(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=he();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}),tD.apply(this,arguments)}function NF(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Vee(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vu(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=R(function*(t,e,n){const r=N(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ds(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),nD.apply(this,arguments)}function Wg(t,e,n){const r=N(t);let i=W.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=N(u),h=d.rs.get(l);return void 0!==h?v.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,o,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:he())).next(a=>(function FF(t,e,n){let r=t.ss.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}(r,function gV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,hs:s})))}class aD{constructor(){this.activeTargetIds=function RI(){return FJ}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jF{constructor(){this.no=new aD,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new aD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bee{io(e){}shutdown(){}}class UF{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yg=null;function cD(){return null===Yg?Yg=268435456+Math.round(2147483648*Math.random()):Yg++,"0x"+Yg.toString(16)}const jee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uee{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const fn="WebChannelConnection";class $ee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=cD(),u=this.bo(n,r.toUriEncodedString());A("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,u,c,i).then(l=>(A("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw nr("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+pu,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){return`${this.fo}/v1/${r}:${jee[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=cD();return new Promise((o,a)=>{const u=new jX;u.setWithCredentials(!0),u.listenOnce(LX.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gI.NO_ERROR:const l=u.getResponseJson();A(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case gI.TIMEOUT:A(fn,`RPC '${e}' ${s} timed out`),a(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case gI.HTTP_ERROR:const d=u.getStatus();if(A(fn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(_)>=0?_:E.UNKNOWN}(f.status);a(new S(p,f.message))}else a(new S(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new S(E.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{A(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(fn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=cD(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VX(),a=FX(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(fn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Uee({lo:m=>{f?A(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(A(fn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(fn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),g=(m,_,y)=>{m.listen(_,I=>{try{y(I)}catch(b){setTimeout(()=>{throw b},0)}})};return g(d,Eg.EventType.OPEN,()=>{f||A(fn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Eg.EventType.CLOSE,()=>{f||(f=!0,A(fn,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,Eg.EventType.ERROR,m=>{f||(f=!0,nr(fn,`RPC '${e}' stream ${i} transport errored:`,m),p.Vo(new S(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Eg.EventType.MESSAGE,m=>{var _;if(!f){const y=m.data[0];q(!!y);const b=y.error||(null===(_=y[0])||void 0===_?void 0:_.error);if(b){A(fn,`RPC '${e}' stream ${i} received error:`,b);const F=b.status;let Q=function(Rn){const Un=At[Rn];if(void 0!==Un)return OV(Un)}(F),ue=b.message;void 0===Q&&(Q=E.INTERNAL,ue="Unknown error status: "+F+" with message "+b.message),f=!0,p.Vo(new S(Q,ue)),d.close()}else A(fn,`RPC '${e}' stream ${i} received:`,y),p.mo(y)}}),g(a,BX.STAT_EVENT,m=>{m.stat===bk.PROXY?A(fn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===bk.NOPROXY&&A(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function Zg(){return typeof document<"u"?document:null}function $d(t){return new ZJ(t,!0)}class lD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class zF{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new lD(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return R(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return R(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return R(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(It(n.toString()),It("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new S(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(R(function*(){e.state=0,e.start()}))}__(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zee extends zF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function eee(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:L(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(q(void 0===l||"string"==typeof l),Ot.fromBase64String(l||"")):(q(void 0===l||l instanceof Uint8Array),Ot.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?E.UNKNOWN:OV(c.code);return new S(l,c.message||"")}(o);n=new BV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=fi(t,r.document.name),s=Dt(r.document.updateTime),o=r.document.createTime?Dt(r.document.createTime):W.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Je.newFoundDocument(i,s,o,a);n=new Vg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=fi(t,r.document),s=r.readTime?Dt(r.readTime):W.min(),o=Je.newNoDocument(i,s);n=new Vg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=fi(t,r.document);n=new Vg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new qJ(i,s);n=new LV(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?Dt(o.readTime):W.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=BI(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Mg(u)?{documents:YV(s,u)}:{query:UI(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zV(s,o.resumeToken);const c=VI(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(W.min())>0){a.readTime=Mu(s,o.snapshotVersion.toTimestamp());const c=VI(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function nee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=BI(this.serializer),n.removeTarget=e,this.t_(n)}}class Hee extends zF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function tee(t,e){return t&&t.length>0?(q(void 0!==e),t.map(n=>function(i,s){let o=Dt(i.updateTime?i.updateTime:s);return o.isEqual(W.min())&&(o=Dt(s)),new UJ(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Dt(e.commitTime);return this.listener.T_(r,n)}return q(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=BI(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Od(t,e){let n;if(e instanceof Au)n={update:KV(t,e.key,e.value)};else if(e instanceof Su)n={delete:Nd(t,e.key)};else if(e instanceof Wi)n={update:KV(t,e.key,e.data),updateMask:oee(e.fieldMask)};else{if(!(e instanceof xI))return L();n={verify:Nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:XJ(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:L()),n;var s}(this.serializer,r))};this.t_(n)}}class qee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,LI(n,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(E.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,LI(n,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(E.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Wee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(It(n),this.g_=!1):A("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Kee{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(R(function*(){var u;Os(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=R(function*(l){const d=N(l);d.v_.add(4),yield Fu(d),d.x_.set("Unknown"),d.v_.delete(4),yield zd(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.x_=new Wee(r,i)}}function zd(t){return hD.apply(this,arguments)}function hD(){return hD=R(function*(t){if(Os(t))for(const e of t.F_)yield e(!0)}),hD.apply(this,arguments)}function Fu(t){return fD.apply(this,arguments)}function fD(){return fD=R(function*(t){for(const e of t.F_)yield e(!1)}),fD.apply(this,arguments)}function Xg(t,e){const n=N(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),mD(n)?gD(n):Bu(n).Jo()&&pD(n,e))}function Hd(t,e){const n=N(t),r=Bu(n);n.C_.delete(e),r.Jo()&&HF(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Os(n)&&n.x_.set("Unknown"))}function pD(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bu(t).c_(e)}function HF(t,e){t.O_.Oe(e),Bu(t).l_(e)}function gD(t){t.O_=new WJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bu(t).start(),t.x_.p_()}function mD(t){return Os(t)&&!Bu(t).Ho()&&t.C_.size>0}function Os(t){return 0===N(t).v_.size}function qF(t){t.O_=void 0}function Qee(t){return yD.apply(this,arguments)}function yD(){return yD=R(function*(t){t.C_.forEach((e,n)=>{pD(t,e)})}),yD.apply(this,arguments)}function Yee(t,e){return _D.apply(this,arguments)}function _D(){return _D=R(function*(t,e){qF(t),mD(t)?(t.x_.S_(e),gD(t)):t.x_.set("Unknown")}),_D.apply(this,arguments)}function Zee(t,e,n){return vD.apply(this,arguments)}function vD(){return vD=R(function*(t,e,n){if(t.x_.set("Online"),e instanceof BV&&2===e.state&&e.cause)try{yield(r=R(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.C_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.C_.delete(u),s.O_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jg(t,r)}else if(e instanceof Vg?t.O_.$e(e):e instanceof LV?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(W.min()))try{const r=yield NF(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.C_.get(c);l&&s.C_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.C_.get(u);if(!l)return;s.C_.set(u,l.withResumeToken(Ot.EMPTY_BYTE_STRING,l.snapshotVersion)),HF(s,u);const d=new Ki(l.target,u,c,l.sequenceNumber);pD(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Jg(t,r)}var r}),vD.apply(this,arguments)}function Jg(t,e,n){return ED.apply(this,arguments)}function ED(){return ED=R(function*(t,e,n){if(!Ds(e))throw e;t.v_.add(1),yield Fu(t),t.x_.set("Offline"),n||(n=()=>NF(t.localStore)),t.asyncQueue.enqueueRetryable(R(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield zd(t)}))}),ED.apply(this,arguments)}function GF(t,e){return e().catch(n=>Jg(t,n,e))}function Lu(t){return wD.apply(this,arguments)}function wD(){return wD=R(function*(t){const e=N(t),n=ks(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Xee(e);)try{const i=yield Vee(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,Jee(e,i)}catch(i){yield Jg(e,i)}WF(e)&&KF(e)}),wD.apply(this,arguments)}function Xee(t){return Os(t)&&t.D_.length<10}function Jee(t,e){t.D_.push(e);const n=ks(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function WF(t){return Os(t)&&!ks(t).Ho()&&t.D_.length>0}function KF(t){ks(t).start()}function ete(t){return ID.apply(this,arguments)}function ID(){return ID=R(function*(t){ks(t).d_()}),ID.apply(this,arguments)}function tte(t){return DD.apply(this,arguments)}function DD(){return DD=R(function*(t){const e=ks(t);for(const n of t.D_)e.I_(n.mutations)}),DD.apply(this,arguments)}function nte(t,e,n){return CD.apply(this,arguments)}function CD(){return CD=R(function*(t,e,n){const r=t.D_.shift(),i=NI.from(r,e,n);yield GF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Lu(t)}),CD.apply(this,arguments)}function rte(t,e){return TD.apply(this,arguments)}function TD(){return TD=R(function*(t,e){var n;e&&ks(t).P_&&(yield(n=R(function*(i,s){if(function NV(t){switch(t){default:return L();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=s.code)&&a!==E.ABORTED){const o=i.D_.shift();ks(i).Zo(),yield GF(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Lu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),WF(t)&&KF(t)}),TD.apply(this,arguments)}function QF(t,e){return bD.apply(this,arguments)}function bD(){return bD=R(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Os(n);n.v_.add(3),yield Fu(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield zd(n)}),bD.apply(this,arguments)}function SD(){return SD=R(function*(t,e){const n=N(t);e?(n.v_.delete(2),yield zd(n)):e||(n.v_.add(2),yield Fu(n),n.x_.set("Unknown"))}),SD.apply(this,arguments)}function Bu(t){return t.N_||(t.N_=function(n,r,i){const s=N(n);return s.R_(),new zee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Qee.bind(null,t),To:Yee.bind(null,t),u_:Zee.bind(null,t)}),t.F_.push(function(){var e=R(function*(n){n?(t.N_.Zo(),mD(t)?gD(t):t.x_.set("Unknown")):(yield t.N_.stop(),qF(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function ks(t){return t.B_||(t.B_=function(n,r,i){const s=N(n);return s.R_(),new Hee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:ete.bind(null,t),To:rte.bind(null,t),E_:tte.bind(null,t),T_:nte.bind(null,t)}),t.F_.push(function(){var e=R(function*(n){n?(t.B_.Zo(),yield Lu(t)):(yield t.B_.stop(),t.D_.length>0&&(A("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class MD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new MD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ju(t,e){if(It("AsyncQueue",`${e}: ${t}`),Ds(t))return new S(E.UNAVAILABLE,`${e}: ${t}`);throw t}class Uu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=bd(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class YF{constructor(){this.L_=new Ye(O.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):L():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $u{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $u(e,n,Uu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ite{constructor(){this.q_=void 0,this.Q_=[]}}class ste{constructor(){this.queries=new Gi(e=>pV(e),Cd),this.onlineState="Unknown",this.K_=new Set}}function xD(){return xD=R(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ite),i)try{s.q_=yield n.onListen(r)}catch(o){const a=ju(o,`Initialization of query '${Cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&OD(n)}),xD.apply(this,arguments)}function ND(){return ND=R(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),ND.apply(this,arguments)}function ote(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&OD(n)}function ate(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function OD(t){t.K_.forEach(e=>{e.next()})}class kD{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new $u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class JF{constructor(e){this.key=e}}class eL{constructor(e){this.key=e}}class tL{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=he(),this.mutatedKeys=he(),this.ua=mV(e),this.ca=new Uu(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new YF,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Td(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return g(f)-g(p)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],u=0===this.aa.size&&this.current&&!i?1:0,c=u!==this._a;return this._a=u,0!==o.length||c?{snapshot:new $u(this.query,e.ca,s,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new YF,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=he(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new eL(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new JF(r))}),n}Ra(e){this.oa=e.hs,this.aa=he();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return $u.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class lte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dte{constructor(e){this.key=e,this.ma=!1}}class hte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Gi(a=>pV(a),Cd),this.pa=new Map,this.ya=new Set,this.wa=new Ye(O.comparator),this.Sa=new Map,this.ba=new QI,this.Da={},this.Ca=new Map,this.va=ko.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function fte(t,e){return VD.apply(this,arguments)}function VD(){return VD=R(function*(t,e){const n=function o0(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ite.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mte.bind(null,e),e.fa.u_=ote.bind(null,e.eventManager),e.fa.xa=ate.bind(null,e.eventManager),e}(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield function ku(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}(n.localStore,An(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function FD(t,e,n,r,i){return LD.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Xg(n.remoteStore,o)}return i}),VD.apply(this,arguments)}function LD(){return LD=R(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=R(function*(m,_,y,I){let b=_.view.ha(y);b.Xi&&(b=yield Wg(m.localStore,_.query,!1).then(({documents:Le})=>_.view.ha(Le,b)));const F=I&&I.targetChanges.get(_.targetId),Q=I&&null!=I.targetMismatches.get(_.targetId),ue=_.view.applyChanges(b,m.isPrimaryClient,F,Q);return KD(m,_.targetId,ue.da),ue.snapshot}),function g(m,_,y,I){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Wg(t.localStore,e,!0),o=new tL(e,s.hs),a=o.ha(s.documents),u=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);KD(t,n,c.da);const l=new lte(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}),LD.apply(this,arguments)}function pte(t,e){return BD.apply(this,arguments)}function BD(){return BD=R(function*(t,e){const n=N(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Cd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hd(n.remoteStore,r.targetId),zu(n,r.targetId)}).catch(Is))):(zu(n,r.targetId),yield Vu(n.localStore,r.targetId,!0))}),BD.apply(this,arguments)}function jD(){return jD=R(function*(t,e,n){const r=function a0(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_te.bind(null,e),e}(t);try{const i=yield function(o,a){const u=N(o),c=ot.now(),l=a.reduce((f,p)=>f.add(p.key),he());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=jn(),g=he();return u.os.getEntries(f,l).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const _=[];for(const y of a){const I=zJ(y,d.get(y.key).overlayedDocument);null!=I&&_.push(new Wi(y.key,I,Jk(I.value.mapValue),rt.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,_,a)}).next(m=>{h=m;const _=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,_)})}).then(()=>({batchId:h.batchId,changes:_V(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Da[o.currentUser.toKey()];c||(c=new Ye(ie)),c=c.insert(a,u),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),yield Qi(r,i.changes),yield Lu(r.remoteStore)}catch(i){const s=ju(i,"Failed to persist write");n.reject(s)}}),jD.apply(this,arguments)}function nL(t,e){return UD.apply(this,arguments)}function UD(){return UD=R(function*(t,e){const n=N(t);try{const r=yield function kee(t,e){const n=N(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ot.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,_=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(s,f))});let u=jn(),c=he();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function OF(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}(s,o,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(W.min())){const l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?q(o.ma):i.removedDocuments.size>0&&(q(o.ma),o.ma=!1))}),yield Qi(n,r,e)}catch(r){yield Is(r)}}),UD.apply(this,arguments)}function rL(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=N(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.Q_)h.U_(a)&&(c=!0)}),c&&OD(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mte(t,e,n){return $D.apply(this,arguments)}function $D(){return $D=R(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ye(O.comparator);o=o.insert(s,Je.newNoDocument(s,W.min()));const a=he().add(s),u=new xd(W.min(),new Map,new Ye(ie),o,a);yield nL(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),QD(r)}else yield Vu(r.localStore,e,!1).then(()=>zu(r,e,n)).catch(Is)}),$D.apply(this,arguments)}function yte(t,e){return zD.apply(this,arguments)}function zD(){return zD=R(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield function Oee(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=v.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);q(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);WD(n,r,null),GD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Qi(n,i)}catch(i){yield Is(i)}}),zD.apply(this,arguments)}function _te(t,e,n){return HD.apply(this,arguments)}function HD(){return HD=R(function*(t,e,n){const r=N(t);try{const i=yield function(o,a){const u=N(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(q(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);WD(r,e,n),GD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Qi(r,i)}catch(i){yield Is(i)}}),HD.apply(this,arguments)}function GD(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function WD(t,e,n){const r=N(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||iL(t,r)})}function iL(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(Hd(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),QD(t))}function KD(t,e,n){for(const r of n)r instanceof JF?(t.ba.addReference(r.key,e),Ete(t,r)):r instanceof eL?(A("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||iL(t,r.key)):L()}function Ete(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ya.add(r),QD(t))}function QD(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new O(_e.fromString(e)),r=t.va.next();t.Sa.set(r,new dte(n)),t.wa=t.wa.insert(n,r),Xg(t.remoteStore,new Ki(An(Iu(n.path)),r,"TargetPurposeLimboResolution",ir._e))}}function Qi(t,e,n){return YD.apply(this,arguments)}function YD(){return YD=R(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=eD.Ki(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield(a=R(function*(c,l){const d=N(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>v.forEach(l,f=>v.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>v.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ds(h))throw h;A("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ns=d.ns.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),YD.apply(this,arguments)}function wte(t,e){return ZD.apply(this,arguments)}function ZD(){return ZD=R(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield PF(n.localStore,e);n.currentUser=e,(s=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new S(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qi(n,r.us)}var s}),ZD.apply(this,arguments)}function Ite(t,e){const n=N(t),r=n.Sa.get(e);if(r&&r.ma)return he().add(r.key);{let i=he();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}class em{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return R(function*(){n.serializer=$d(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function xF(t,e,n,r){return new Nee(t,e,n,r)}(this.persistence,new RF,e.initialUser,this.serializer)}createPersistence(e){return new YI(Hg.Hr,this.serializer)}createSharedClientState(e){return new jF}terminate(){var e=this;return R(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Hu{initialize(e,n){var r=this;return R(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wte.bind(null,r.syncEngine),yield function AD(t,e){return SD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ste}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=new $ee(e.databaseInfo);return new qee(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>rL(this.syncEngine,n,0),a=UF.D()?new UF:new Bee,new Kee(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){const d=new hte(i,s,o,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return R(function*(){var n,r;yield(r=R(function*(s){const o=N(s);A("RemoteStore","RemoteStore shutting down."),o.v_.add(5),yield Fu(o),o.M_.shutdown(),o.x_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}class tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class kte{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=Rk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=R(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(R(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ju(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function nm(t,e){return u0.apply(this,arguments)}function u0(){return u0=R(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=R(function*(s){r.isEqual(s)||(yield PF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),u0.apply(this,arguments)}function c0(t,e){return l0.apply(this,arguments)}function l0(){return l0=R(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function d0(t){return h0.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QF(e.remoteStore,i)),t._onlineComponents=e}),l0.apply(this,arguments)}function h0(){return h0=R(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function lL(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;nr("Error using user provided cache. Falling back to memory cache: "+n),yield nm(t,new em)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield nm(t,new em);return t._offlineComponents}),h0.apply(this,arguments)}function rm(t){return f0.apply(this,arguments)}function f0(){return f0=R(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield c0(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield c0(t,new Hu))),t._onlineComponents}),f0.apply(this,arguments)}function g0(){return g0=R(function*(t){const e=yield rm(t),n=e.eventManager;return n.onListen=fte.bind(null,e.syncEngine),n.onUnlisten=pte.bind(null,e.syncEngine),n}),g0.apply(this,arguments)}function gL(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(R(function*(){return function(s,o,a,u,c){const l=new tm({next:h=>{o.enqueueAndForget(()=>function PD(t,e){return ND.apply(this,arguments)}(s,d)),h.fromCache&&"server"===u.source?c.reject(new S(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new kD(a,l,{includeMetadataChanges:!0,Z_:!0});return function RD(t,e){return xD.apply(this,arguments)}(s,d)}(yield function Gu(t){return g0.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function mL(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const yL=new Map;function m0(t,e,n){if(!n)throw new S(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _L(t){if(!O.isDocumentKey(t))throw new S(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vL(t){if(O.isDocumentKey(t))throw new S(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":L()}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new S(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wL{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Gte(t,e,n,r){if(!0===e&&!0===r)throw new S(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new S(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new S(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new S(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $X;switch(r.type){case"firstParty":return new GX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yL.get(n);r&&(A("ComponentProvider","Removing Datastore"),yL.delete(n),r.terminate())}(this),Promise.resolve()}}class rn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rn(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class pi extends rn{constructor(e,n,r){super(e,n,Iu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new O(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}class Qte{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new lD(this,"async_queue_retry"),this._u=()=>{const n=Zg();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Zg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Zg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Nt;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return R(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!Ds(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,It("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=MD.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&L()}verifyOperationInProgress(){}hu(){var e=this;return R(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Ze extends qd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||CL(this),this._firestoreClient.terminate()}}function Tt(t){return t._firestoreClient||CL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function CL(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new IJ(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,mL(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new kte(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(Ot.fromBase64String(e))}catch(n){throw new S(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fo(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class AL{constructor(e){this._methodName=e}}class _0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const Jte=/^__.*__$/;class ene{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}function ML(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class sm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return am(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ML(this.du)&&Jte.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class tne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Su(e,n,r,i=!1){return new sm({du:e,methodName:n,wu:r,path:nt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new tne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v0(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);C0("Data must be an object, but it was:",o,r);const a=OL(r,o);let u,c;if(s.merge)u=new Bn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Kd(e,d,n);if(!o.contains(h))throw new S(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);VL(l,h)||l.push(h)}u=new Bn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new ene(new nn(a),u,c)}function Lo(t,e){if(kL(t=po(t)))return C0("Unsupported field value:",e,t),OL(t,e);if(t instanceof AL)return function(r,i){if(!ML(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Lo(a,i.gu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=po(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return IV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Mu(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mu(i.serializer,s)}}if(r instanceof _0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:zV(i.serializer,r._byteString)};if(r instanceof Ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:FI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${im(r)}`)}(t,e)}function OL(t,e){const n={};return Hk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const s=Lo(i,e.Ru(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function kL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof _0||t instanceof Fo||t instanceof Ct||t instanceof AL)}function C0(t,e,n){if(!kL(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=im(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function Kd(t,e,n){if((e=po(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return om(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const nne=new RegExp("[~\\*/\\[\\]]");function om(t,e,n){if(e.search(nne)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wu(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(E.INVALID_ARGUMENT,a+t+u)}function VL(t,e){return t.some(n=>n.isEqual(e))}class T0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(um("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class rne extends T0{data(){return super.data()}}function um(t,e){return"string"==typeof e?om(t,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}class sne{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new _0(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);q(eF(r));const i=new To(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||It(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yu extends T0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(um("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hm extends Yu{data(e={}){return super.data(e)}}class Zu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hm(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new hm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new hm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:ane(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ane(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class Vs extends sne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Yd(t,e){return function(r,i){const s=new Nt;return r.asyncQueue.enqueueAndForget(R(function*(){return function gte(t,e,n){return jD.apply(this,arguments)}(yield function p0(t){return rm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Tt(t),e)}!function(e,n=!0){pu="10.7.2",_s(new ji("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ze(new HX(r.getProvider("auth-internal")),new WX(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),oi(Ak,"4.4.1",e),oi(Ak,"4.4.1","esm2017")}(),oi("firebase","10.7.2","app");const Cne=(t,e)=>e.some(n=>t instanceof n);let GL,WL;const KL=new WeakMap,R0=new WeakMap,QL=new WeakMap,x0=new WeakMap,P0=new WeakMap;let N0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return R0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xne(t){return"function"==typeof t?function Rne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bne(){return WL||(WL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(O0(this),e),Fs(KL.get(this))}:function(...e){return Fs(t.apply(O0(this),e))}:function(e,...n){const r=t.call(O0(this),e,...n);return QL.set(r,e.sort?e.sort():[e]),Fs(r)}}(t):(t instanceof IDBTransaction&&function Sne(t){if(R0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});R0.set(t,e)}(t),Cne(t,function Tne(){return GL||(GL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,N0):t)}function Fs(t){if(t instanceof IDBRequest)return function Ane(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KL.set(n,t)}).catch(()=>{}),P0.set(e,t),e}(t);if(x0.has(t))return x0.get(t);const e=xne(t);return e!==t&&(x0.set(t,e),P0.set(e,t)),e}const O0=t=>P0.get(t),Nne=["get","getKey","getAll","getAllKeys","count"],One=["put","add","delete","clear"],k0=new Map;function YL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(k0.get(e))return k0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=One.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Nne.includes(n))return;const s=function(){var o=R(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return k0.set(e,s),s}!function Mne(t){N0=t(N0)}(t=>({...t,get:(e,n,r)=>YL(e,n)||t.get(e,n,r),has:(e,n)=>!!YL(e,n)||t.has(e,n)}));const ZL="@firebase/installations",V0="0.6.4",XL=1e4,JL=`w:${V0}`,e2="FIS_v2",kne="https://firebaseinstallations.googleapis.com/v1",Vne=36e5,Yi=new Hp("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function t2(t){return t instanceof ms&&t.code.includes("request-failed")}function F0({projectId:t}){return`${kne}/projects/${t}/installations`}function n2(t){return{token:t.token,requestStatus:2,expiresIn:jne(t.expiresIn),creationTime:Date.now()}}function L0(t,e){return B0.apply(this,arguments)}function B0(){return B0=R(function*(t,e){const r=(yield e.json()).error;return Yi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),B0.apply(this,arguments)}function r2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j0(t){return U0.apply(this,arguments)}function U0(){return U0=R(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),U0.apply(this,arguments)}function jne(t){return Number(t.replace("s","000"))}function $0(){return $0=R(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=F0(t),i=r2(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:e2,appId:t.appId,sdkVersion:JL})},u=yield j0(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:n2(c.authToken)}}throw yield L0("Create Installation",u)}),$0.apply(this,arguments)}function s2(t){return new Promise(e=>{setTimeout(e,t)})}const Hne=/^[cdef][\w-]{21}$/,z0="";function qne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Gne(t){return function zne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Hne.test(n)?n:z0}catch{return z0}}function Xu(t){return`${t.appName}!${t.appId}`}const Ju=new Map;function o2(t,e){const n=Xu(t);a2(n,e),function Qne(t,e){const n=function u2(){return!jo&&"BroadcastChannel"in self&&(jo=new BroadcastChannel("[Firebase] FID Change"),jo.onmessage=t=>{a2(t.data.key,t.data.fid)}),jo}();n&&n.postMessage({key:t,fid:e}),function c2(){0===Ju.size&&jo&&(jo.close(),jo=null)}()}(n,e)}function a2(t,e){const n=Ju.get(t);if(n)for(const r of n)r(e)}let jo=null;const Yne="firebase-installations-database",Zne=1,Uo="firebase-installations-store";let H0=null;function q0(){return H0||(H0=function Pne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fs(o.result),u.oldVersion,u.newVersion,Fs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Yne,Zne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Uo)}})),H0}function gm(t,e){return G0.apply(this,arguments)}function G0(){return G0=R(function*(t,e){const n=Xu(t),i=(yield q0()).transaction(Uo,"readwrite"),s=i.objectStore(Uo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&o2(t,e.fid),e}),G0.apply(this,arguments)}function W0(t){return K0.apply(this,arguments)}function K0(){return K0=R(function*(t){const e=Xu(t),r=(yield q0()).transaction(Uo,"readwrite");yield r.objectStore(Uo).delete(e),yield r.done}),K0.apply(this,arguments)}function Zd(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=R(function*(t,e){const n=Xu(t),i=(yield q0()).transaction(Uo,"readwrite"),s=i.objectStore(Uo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&o2(t,a.fid),a}),Q0.apply(this,arguments)}function Y0(t){return Z0.apply(this,arguments)}function Z0(){return Z0=R(function*(t){let e;const n=yield Zd(t.appConfig,r=>{const i=function Xne(t){return d2(t||{fid:qne(),registrationStatus:0})}(r),s=function Jne(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ere(t,e){return X0.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tre(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===z0?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Z0.apply(this,arguments)}function X0(){return X0=R(function*(t,e){try{const n=yield function $ne(t,e){return $0.apply(this,arguments)}(t,e);return gm(t.appConfig,n)}catch(n){throw t2(n)&&409===n.customData.serverCode?yield W0(t.appConfig):yield gm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),X0.apply(this,arguments)}function tre(t){return J0.apply(this,arguments)}function J0(){return J0=R(function*(t){let e=yield l2(t.appConfig);for(;1===e.registrationStatus;)yield s2(100),e=yield l2(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Y0(t);return r||n}return e}),J0.apply(this,arguments)}function l2(t){return Zd(t,e=>{if(!e)throw Yi.create("installation-not-found");return d2(e)})}function d2(t){return function nre(t){return 1===t.registrationStatus&&t.registrationTime+XL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function eC(){return eC=R(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function ire(t,{fid:e}){return`${F0(t)}/${e}/authTokens:generate`}(t,n),i=function i2(t,{refreshToken:e}){const n=r2(t);return n.append("Authorization",function Une(t){return`${e2} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:JL,appId:t.appId}})},u=yield j0(()=>fetch(r,a));if(u.ok)return n2(yield u.json());throw yield L0("Generate Auth Token",u)}),eC.apply(this,arguments)}function tC(t){return nC.apply(this,arguments)}function nC(){return nC=R(function*(t,e=!1){let n;const r=yield Zd(t.appConfig,s=>{if(!f2(s))throw Yi.create("not-registered");const o=s.authToken;if(!e&&function are(t){return 2===t.requestStatus&&!function ure(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Vne}(t)}(o))return s;if(1===o.requestStatus)return n=function sre(t,e){return rC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Yi.create("app-offline");const a=function cre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function ore(t,e){return iC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),nC.apply(this,arguments)}function rC(){return rC=R(function*(t,e){let n=yield h2(t.appConfig);for(;1===n.authToken.requestStatus;)yield s2(100),n=yield h2(t.appConfig);const r=n.authToken;return 0===r.requestStatus?tC(t,e):r}),rC.apply(this,arguments)}function h2(t){return Zd(t,e=>{if(!f2(e))throw Yi.create("not-registered");return function lre(t){return 1===t.requestStatus&&t.requestTime+XL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function iC(){return iC=R(function*(t,e){try{const n=yield function rre(t,e){return eC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield gm(t.appConfig,r),n}catch(n){if(!t2(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gm(t.appConfig,r)}else yield W0(t.appConfig);throw n}}),iC.apply(this,arguments)}function f2(t){return void 0!==t&&2===t.registrationStatus}function sC(){return sC=R(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Y0(e);return r?r.catch(console.error):tC(e).catch(console.error),n.fid}),sC.apply(this,arguments)}function oC(){return oC=R(function*(t,e=!1){const n=t;return yield function fre(t){return aC.apply(this,arguments)}(n),(yield tC(n,e)).token}),oC.apply(this,arguments)}function aC(){return aC=R(function*(t){const{registrationPromise:e}=yield Y0(t);e&&(yield e)}),aC.apply(this,arguments)}function lC(t){return Yi.create("missing-app-config-values",{valueName:t})}const p2="installations",_re=t=>{const e=t.getProvider("app").getImmediate(),n=function mre(t){if(!t||!t.options)throw lC("App Configuration");if(!t.name)throw lC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ou(e,"heartbeat"),_delete:()=>Promise.resolve()}},vre=t=>{const n=ou(t.getProvider("app").getImmediate(),p2).getImmediate();return{getId:()=>function dre(t){return sC.apply(this,arguments)}(n),getToken:i=>function hre(t){return oC.apply(this,arguments)}(n,i)}};(function Ere(){_s(new ji(p2,_re,"PUBLIC")),_s(new ji("installations-internal",vre,"PRIVATE"))})(),oi(ZL,V0),oi(ZL,V0,"esm2017");const mm="analytics",wre="firebase_id",Ire="origin",Dre=6e4,Cre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dC="https://www.googletagmanager.com/gtag/js",$t=new mw("@firebase/analytics"),Sn=new Hp("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bre(t){if(!t.startsWith(dC)){const e=Sn.create("invalid-gtag-resource",{gtagURL:t});return $t.warn(e.message),""}return t}function g2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hC(){return hC=R(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield g2(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){$t.error(a)}t("config",i,s)}),hC.apply(this,arguments)}function fC(){return fC=R(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield g2(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){$t.error(s)}}),fC.apply(this,arguments)}const kre=30,m2=new class Fre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Lre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function pC(){return pC=R(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Lre(r)},s=Cre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),pC.apply(this,arguments)}function gC(){return gC=R(function*(t,e=m2,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Sn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zre;return setTimeout(R(function*(){a.abort()}),void 0!==n?n:Dre),y2({appId:r,apiKey:i,measurementId:s},o,a,e)}),gC.apply(this,arguments)}function y2(t,e,n){return mC.apply(this,arguments)}function mC(){return mC=R(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=m2){var s;const{appId:o,measurementId:a}=t;try{yield function Ure(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Bre(t){return pC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function $re(t){if(!(t instanceof ms&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?QN(n,i.intervalMillis,kre):QN(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),$t.debug(`Calling attemptFetch again in ${l} millis`),y2(t,d,r,i)}}),mC.apply(this,arguments)}class zre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let yC,CC;function _C(){return _C=R(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),_C.apply(this,arguments)}function TC(){return TC=R(function*(){if(!hw())return $t.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield GN()}catch(t){return $t.warn(Sn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),TC.apply(this,arguments)}function bC(){return bC=R(function*(t,e,n,r,i,s,o){var a;const u=function jre(t){return gC.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>$t.error(f)),e.push(u);const c=function Yre(){return TC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Ore(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dC)&&n.src.includes(t))return n;return null})(s)||function Sre(t,e){const n=function Are(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:bre}),r=document.createElement("script"),i=`${dC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),CC&&(i("consent","default",CC),function _2(t){CC=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Ire]="firebase",h.update=!0,null!=d&&(h[wre]=d),i("config",l.measurementId,h),yC&&(i("set",yC),function v2(t){yC=t}(void 0)),l.measurementId}),bC.apply(this,arguments)}class Xre{constructor(e){this.app=e}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},E2=[];const w2={};let D2,mi,ym="dataLayer",AC=!1;function eie(t,e,n){!function Jre(){const t=[];if(function _Y(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),function EY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});$t.warn(n.message)}}();const r=t.options.appId;if(!r)throw Sn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Sn.create("no-api-key");$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[r])throw Sn.create("already-exists",{id:r});if(!AC){!function Mre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ym);const{wrappedGtag:s,gtagCore:o}=function Nre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Pre(t,e,n,r){function s(){return s=R(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function xre(t,e,n,r,i){return fC.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Rre(t,e,n,r,i,s){return hC.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){$t.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(gi,E2,w2,ym,"gtag");mi=s,D2=o,AC=!0}return gi[r]=function Zre(t,e,n,r,i,s,o){return bC.apply(this,arguments)}(t,E2,w2,e,D2,ym,n),new Xre(t)}const C2="@firebase/analytics";!function iie(){_s(new ji(mm,(e,{options:n})=>eie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),_s(new ji("analytics-internal",function t(e){try{const n=e.getProvider(mm).getImmediate();return{logEvent:(r,i,s)=>function rie(t,e,n,r){t=po(t),function Hre(t,e,n,r,i){return _C.apply(this,arguments)}(mi,gi[t.app.options.appId],e,n,r).catch(i=>$t.error(i))}(n,r,i,s)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),oi(C2,"0.10.0"),oi(C2,"0.10.0","esm2017")}();const sie={apiKey:"AIzaSyDq2wPm76o6htH8TceYo6cwDm9dnJuhj0k",authDomain:"konrad-zelazny-strona.firebaseapp.com",projectId:"konrad-zelazny-strona",storageBucket:"konrad-zelazny-strona.appspot.com",messagingSenderId:"1034585649701",appId:"1:1034585649701:web:9745cdb56ed019c29ec5cc",measurementId:"G-3H7T83GN19"};let b2=(()=>{class t{constructor(){this.initializeApp()}initializeApp(){this.app=rO(sie),function tie(t=iO()){const e=ou(t=po(t),mm);return e.isInitialized()?e.getImmediate():function nie(t,e={}){const n=ou(t,mm);if(n.isInitialized()){const i=n.getImmediate();if(Gp(e,n.getOptions()))return i;throw Sn.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app),this.db=function Zte(t,e){const r="string"==typeof t?t:e||"(default)",i=ou("object"==typeof t?t:iO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=zp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Wte(t,e,n,r={}){var i;const s=(t=Ee(t,qd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Bt.MOCK_USER;else{a=function mY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$p(JSON.stringify({alg:"none",type:"JWT"})),$p(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new S(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bt(c)}t._authCredentials=new zX(new Sk(a,u))}}(i,...s)}return i}()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A2=(()=>{class t{constructor(n){this.firebaseService=n,this.db=this.firebaseService.db,console.log(this.getOffersFromDatabase("voucher"))}addOfferToDatabase(n,r){var i=this;return R(function*(){const o=(new Date).toISOString(),a=`${n.name.replace(/\s/g,"")}${o}`;yield function cne(t,e,n){t=Ee(t,Ct);const r=Ee(t.firestore,Ze),i=function A0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Yd(r,[v0(Ku(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,rt.none())])}(function IL(t,e,...n){if(t=po(t),1===arguments.length&&(e=Rk.newId()),m0("doc","path",e),t instanceof qd){const r=_e.fromString(e,...n);return _L(r),new Ct(t,null,new O(r))}{if(!(t instanceof Ct||t instanceof pi))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return _L(r),new Ct(t.firestore,t instanceof pi?t.converter:null,new O(r))}}(i.db,r,a),n)})()}getOffersFromDatabase(n){var r=this;return R(function*(){return(yield function une(t){t=Ee(t,rn);const e=Ee(t.firestore,Ze),n=Tt(e),r=new Vs(e);return function FL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),gL(n,t._query).then(i=>new Zu(e,r,t,i))}(function Kte(t,e,...n){if(t=po(t),m0("collection","path",e),t instanceof qd){const r=_e.fromString(e,...n);return vL(r),new pi(t,null,r)}{if(!(t instanceof Ct||t instanceof pi))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return vL(r),new pi(t.firestore,null,r)}}(r.db,n))).docs.map(s=>s.data())})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(b2))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-offer-service"]],decls:2,vars:0,template:function(r,i){1&r&&(M(0,"p"),j(1,"offer-service works!"),P())}})}return t})(),S2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Zr),T(Qn))};static#t=this.\u0275dir=te({type:t})}return t})(),$o=(()=>{class t extends S2{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=te({type:t,features:[Oe]})}return t})();const yi=new z("NgValueAccessor"),uie={provide:yi,useExisting:He(()=>_m),multi:!0},lie=new z("CompositionEventMode");let _m=(()=>{class t extends S2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cie(){const t=us()?us().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Zr),T(Qn),T(lie,8))};static#t=this.\u0275dir=te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&xe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ke([uie]),Oe]})}return t})();const pn=new z("NgValidators"),Bs=new z("NgAsyncValidators");function N2(t){return function Ls(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function vm(t){return null}function B2(t){return null!=t}function j2(t){return il(t)?Vt(t):t}function U2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function $2(t,e){return e.map(n=>n(t))}function z2(t){return t.map(e=>function hie(t){return!t.validate}(e)?e:n=>e.validate(n))}function RC(t){return null!=t?function H2(t){if(!t)return null;const e=t.filter(B2);return 0==e.length?null:function(n){return U2($2(n,e))}}(z2(t)):null}function xC(t){return null!=t?function q2(t){if(!t)return null;const e=t.filter(B2);return 0==e.length?null:function(n){return function oie(...t){const e=rT(t),{args:n,keys:r}=x1(t),i=new et(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;zn(n[l]).subscribe(ut(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?N1(r,a):a),s.complete())}))}});return e?i.pipe(P1(e)):i}($2(n,e).map(j2)).pipe(Pe(U2))}}(z2(t)):null}function G2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function PC(t){return t?Array.isArray(t)?t:[t]:[]}function Em(t,e){return Array.isArray(t)?t.includes(e):t===e}function Q2(t,e){const n=PC(e);return PC(t).forEach(i=>{Em(n,i)||n.push(i)}),n}function Y2(t,e){return PC(e).filter(n=>!Em(t,n))}class Z2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Mn extends Z2{get formDirective(){return null}get path(){return null}}class js extends Z2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class X2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let J2=(()=>{class t extends X2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(js,2))};static#t=this.\u0275dir=te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Of("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Oe]})}return t})(),NC=(()=>{class t extends X2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Mn,10))};static#t=this.\u0275dir=te({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Of("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Oe]})}return t})();const Xd="VALID",Im="INVALID",ec="PENDING",Jd="DISABLED";function VC(t){return(Dm(t)?t.validators:t)||null}function FC(t,e){return(Dm(e)?e.asyncValidators:t)||null}function Dm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rB{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xd}get invalid(){return this.status===Im}get pending(){return this.status==ec}get disabled(){return this.status===Jd}get enabled(){return this.status!==Jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Q2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Q2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y2(e,this._rawAsyncValidators))}hasValidator(e){return Em(this._rawValidators,e)}hasAsyncValidator(e){return Em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ec,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===ec)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ec,this._hasOwnPendingAsyncValidator=!0;const n=j2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ft,this.statusChanges=new ft}_calculateStatus(){return this._allControlsDisabled()?Jd:this.errors?Im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ec)?ec:this._anyControlsHaveStatus(Im)?Im:Xd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mie(t){return Array.isArray(t)?RC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yie(t){return Array.isArray(t)?xC(t):t||null}(this._rawAsyncValidators)}}class LC extends rB{constructor(e,n,r){super(VC(n),FC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function nB(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new w(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function tB(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const tc=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Cm}),Cm="always";function eh(t,e,n=Cm){BC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Eie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iB(t,e)})}(t,e),function Iie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Am(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function BC(t,e){const n=function W2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(G2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function K2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(G2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Am(e._rawValidators,i),Am(e._rawAsyncValidators,i)}function iB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Aie={provide:Mn,useExisting:He(()=>nh)},th=(()=>Promise.resolve())();let nh=(()=>{class t extends Mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ft,this.form=new LC({},RC(n),xC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){th.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),eh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){th.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){th.then(()=>{const r=this._findContainer(n.path),i=new LC({});(function sB(t,e){BC(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){th.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){th.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function oB(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(T(pn,10),T(Bs,10),T(tc,8))};static#t=this.\u0275dir=te({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&xe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([Aie]),Oe]})}return t})();function aB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function uB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const cB=class extends rB{constructor(e=null,n,r){super(VC(n),FC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=uB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Rie={provide:js,useExisting:He(()=>zC)},hB=(()=>Promise.resolve())();let zC=(()=>{class t extends js{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new cB,this._registered=!1,this.name="",this.update=new ft,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $C(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===_m?n=s:function Tie(t){return Object.getPrototypeOf(t.constructor)===$o}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function UC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){hB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Ka(r);hB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Tm(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(T(Mn,9),T(pn,10),T(Bs,10),T(yi,10),T(Gf,8),T(tc,8))};static#t=this.\u0275dir=te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([Rie]),Oe,fr]})}return t})(),HC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=te({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),pB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({})}return t})();const jie={provide:yi,useExisting:He(()=>Mm),multi:!0};function wB(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Mm=(()=>{class t extends $o{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=wB(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Uie(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=te({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&xe("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([jie]),Oe]})}return t})(),IB=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(wB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(T(Qn),T(Zr),T(Mm,9))};static#t=this.\u0275dir=te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const $ie={provide:yi,useExisting:He(()=>KC),multi:!0};function DB(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let KC=(()=>{class t extends $o{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function zie(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=te({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&xe("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([$ie]),Oe]})}return t})(),CB=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(DB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(DB(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(T(Qn),T(Zr),T(KC,9))};static#t=this.\u0275dir=te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),zo=(()=>{class t{constructor(){this._validator=vm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=te({type:t,features:[fr]})}return t})();const Gie={provide:pn,useExisting:He(()=>Rm),multi:!0};let Rm=(()=>{class t extends zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ka,this.createValidator=n=>N2}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=te({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ei("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ke([Gie]),Oe]})}return t})(),Xie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({imports:[pB]})}return t})(),ese=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tc,useValue:n.callSetDisabledState??Cm}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({imports:[Xie]})}return t})();function tse(t,e){1&t&&(M(0,"div",19),ne(1,"img",20),M(2,"p",21),j(3,"Voucher"),P(),M(4,"p",22),j(5,"Voucher na trening personalny"),P(),M(6,"p",23),j(7,"120 z\u0142"),P()()),2&t&&In("@fadeAnimation",Pf().selectedOption)}function nse(t,e){1&t&&(M(0,"div",19),ne(1,"img",24),M(2,"p",21),j(3,"Trening personalny"),P(),M(4,"p",22),j(5,"Indywidualny trening dopasowany do Twoich cel\xf3w i potrzeb"),P(),M(6,"p",23),j(7,"120 z\u0142"),P()()),2&t&&In("@fadeAnimation",Pf().selectedOption)}function rse(t,e){1&t&&(M(0,"div",19),ne(1,"img",25),M(2,"p",21),j(3,"Plan treningowy"),P(),M(4,"p",22),j(5,"Spersonalizowany plan treningowy dostosowany do Twoich cel\xf3w"),P(),M(6,"p",23),j(7,"120 z\u0142"),P()()),2&t&&In("@fadeAnimation",Pf().selectedOption)}let ise=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.offerService=i,this.selectedOption="training",this.name="",this.email="",this.phone="",this.additionalInfo=""}ngOnInit(){this.route.paramMap.subscribe(n=>{this.selectedOption=n.get("option")??"training"})}addOffer(){this.offerService.addOfferToDatabase({name:this.name,email:this.email,phone:this.phone,additionalInfo:this.additionalInfo,offerType:this.selectedOption},this.selectedOption),this.router.navigate(["/offer-thanks"])}static#e=this.\u0275fac=function(r){return new(r||t)(T(Xt),T(fo),T(A2))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-offers"]],features:[Ke([A2])],decls:34,vars:8,consts:[["id","offers"],[1,"header-text"],["class","offer-details",4,"ngIf"],[1,"offers-form",3,"ngSubmit"],["for","serviceSelect"],["id","serviceSelect","name","service","required","",3,"ngModel","ngModelChange"],["value","training"],["value","voucher"],["value","trainingPlan"],[1,"offers-item"],["for","nameInput"],["type","text","id","nameInput","name","name","required","",3,"ngModel","ngModelChange"],["for","emailInput"],["type","email","id","emailInput","name","email","required","",3,"ngModel","ngModelChange"],["for","phoneInput"],["type","tel","id","phoneInput","name","phone","required","",3,"ngModel","ngModelChange"],["for","additionalInfoTextarea"],["id","additionalInfoTextarea","name","additionalInfo",3,"ngModel","ngModelChange"],["type","submit"],[1,"offer-details"],["src","assets/backgrounds/voucher.jpg","alt","",1,"item-image"],[1,"item-title"],[1,"item-desc"],[1,"price"],["src","assets/backgrounds/training.png","alt","",1,"item-image"],["src","assets/backgrounds/trainingPlan.png","alt","",1,"item-image"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"p",1),j(2,"Formularz zam\xf3wienia"),P(),xf(3,tse,8,1,"div",2),xf(4,nse,8,1,"div",2),xf(5,rse,8,1,"div",2),M(6,"form",3),xe("ngSubmit",function(){return i.addOffer()}),M(7,"label",4),j(8,"Wybierz us\u0142ug\u0119:"),P(),M(9,"select",5),xe("ngModelChange",function(o){return i.selectedOption=o}),M(10,"option",6),j(11,"Trening personalny"),P(),M(12,"option",7),j(13,"Voucher"),P(),M(14,"option",8),j(15,"Plan treningowy"),P()(),M(16,"div",9)(17,"label",10),j(18,"Imi\u0119 i nazwisko:"),P(),M(19,"input",11),xe("ngModelChange",function(o){return i.name=o}),P()(),M(20,"div",9)(21,"label",12),j(22,"Email:"),P(),M(23,"input",13),xe("ngModelChange",function(o){return i.email=o}),P()(),M(24,"div",9)(25,"label",14),j(26,"Telefon:"),P(),M(27,"input",15),xe("ngModelChange",function(o){return i.phone=o}),P()(),M(28,"div",9)(29,"label",16),j(30,"Dodatkowe informacje:"),P(),M(31,"textarea",17),xe("ngModelChange",function(o){return i.additionalInfo=o}),P()(),M(32,"button",18),j(33,"Z\u0142\xf3\u017c zam\xf3wienie"),P()()()),2&r&&(Mr(3),In("ngIf","voucher"===i.selectedOption),Mr(1),In("ngIf","training"===i.selectedOption),Mr(1),In("ngIf","trainingPlan"===i.selectedOption),Mr(4),In("ngModel",i.selectedOption),Mr(10),In("ngModel",i.name),Mr(4),In("ngModel",i.email),Mr(4),In("ngModel",i.phone),Mr(4),In("ngModel",i.additionalInfo))},dependencies:[IP,HC,IB,CB,_m,Mm,J2,NC,Rm,zC,nh],styles:["#offers[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-direction:column;justify-content:center;align-items:center}.header-text[_ngcontent-%COMP%]{text-align:center;margin:15px;font-size:48px;font-weight:700}.offer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;padding:20px;margin-bottom:20px;border-radius:15px;box-shadow:#0003 0 4px 12px;width:75%;height:600px}.item-image[_ngcontent-%COMP%]{filter:drop-shadow(rgba(0,0,0,.3) 0px 0px 12px);margin-top:15px;border-radius:15px;width:90%}.item-title[_ngcontent-%COMP%]{width:90%;font-size:28px;margin-bottom:10px;text-align:center;font-weight:700}.item-desc[_ngcontent-%COMP%]{width:90%;font-size:18px;text-align:center}.price[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-weight:700}.offers-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;padding:20px;margin-bottom:20px;border-radius:15px;box-shadow:#0003 0 4px 12px;width:75%;height:100%}#serviceSelect[_ngcontent-%COMP%]{width:100%;padding:10px 0;background:none;border:none;border-bottom:1px solid #666;font-size:20px;font-weight:100;text-align:left;outline:none;transition:border-color.5s}.offers-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 0;background:none;border:none;border-bottom:1px solid #666;font-size:20px;font-weight:100;text-align:left;outline:none;transition:border-color .5s}.offers-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#c2c2c2}.offers-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom-color:#6f0000;font-weight:700}.offers-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}#additionalInfoTextarea[_ngcontent-%COMP%]{height:150px;line-height:150%;outline:0;margin-bottom:20px}.offers-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:250px}"],data:{animation:[hE("fadeAnimation",[wl("void",io({opacity:0,transform:"scale(0.1)"})),Il(":enter",[El("0.5s ease-in-out")])])]}})}return t})();const sse=function(t){return{open:t}};let QC=(()=>{class t{constructor(n,r){this.renderer=n,this.router=r,this.isMenuOpen=!1,this.menuState="void",this.imageState="normal"}onScroll(n){this.isMenuOpen&&(n.preventDefault(),n.stopPropagation())}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.menuState="visible"===this.menuState?"void":"visible",this.imageState="normal"===this.imageState?"rotate":"normal",this.toggleScrollLock()}toggleScrollLock(){document.body.style.overflow=this.isMenuOpen?"hidden":""}scrollToElement(n){const r=document.getElementById(n);r&&window.scrollTo({top:r.offsetTop-70,behavior:"smooth"})}navigateToSection(n){var r=this;return R(function*(){yield r.router.navigate(["/main"]),r.scrollToElement(n),r.toggleMenu()})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(Zr),T(Xt))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-header"]],hostBindings:function(r,i){1&r&&xe("scroll",function(o){return i.onScroll(o)},0,tS)},decls:40,vars:5,consts:[["id","header"],[1,"header-container"],["id","logo","src","assets/logo/konradzelaznylogo.png","alt","Logo"],[1,"menu-toggle",3,"click"],["id","menu-icon","src","assets/icons/header-black.svg","alt","header button"],["id","separator"],[1,"menu",3,"ngClass"],[1,"menu-links"],[1,"menu-item"],[1,"menu-a",3,"click"],["src","assets/icons/right-arrow.svg","alt","arrow",1,"arrow"],[1,"social-links"],["href","https://www.facebook.com/KonradZelazny.TrenerPersonalny/","target","_blank"],["src","assets/icons/facebook-logo.svg","alt","facebook"],["href","https://www.instagram.com/zelazny_trening/","target","_blank"],["src","assets/icons/instagram-logo.svg","alt","instagram"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1),ne(2,"img",2),M(3,"button",3),xe("click",function(){return i.toggleMenu()}),ne(4,"img",4),P()(),ne(5,"div",5),M(6,"div",6)(7,"div",7)(8,"div",8),ne(9,"div",5),M(10,"a",9),xe("click",function(){return i.navigateToSection("homepage")}),M(11,"p"),j(12,"STRONA G\u0141\xd3WNA"),P(),ne(13,"img",10),P(),ne(14,"div",5),P(),M(15,"div",8)(16,"a",9),xe("click",function(){return i.navigateToSection("about")}),M(17,"p"),j(18,"O MNIE"),P(),ne(19,"img",10),P(),ne(20,"div",5),P(),M(21,"div",8)(22,"a",9),xe("click",function(){return i.navigateToSection("offer")}),M(23,"p"),j(24,"OFERTA"),P(),ne(25,"img",10),P(),ne(26,"div",5),P(),M(27,"div",8)(28,"a",9),xe("click",function(){return i.navigateToSection("contact")}),M(29,"p"),j(30,"KONTAKT"),P(),ne(31,"img",10),P(),ne(32,"div",5),P()(),M(33,"div",11)(34,"a",12),ne(35,"img",13),P(),M(36,"a",14),ne(37,"img",15),P()(),M(38,"p"),j(39,"\xa9 2024 KONRAD \u017bELAZNY"),P()()()),2&r&&(Mr(4),In("@buttonAnimation",i.imageState),Mr(2),In("ngClass",LR(3,sse,i.isMenuOpen))("@menuAnimation",i.menuState))},dependencies:[vP],styles:["#header[_ngcontent-%COMP%]{z-index:1;position:fixed;top:0;width:100%;background-color:#fff}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:5px}#logo[_ngcontent-%COMP%]{width:auto;height:60px;margin-left:7px}.menu-toggle[_ngcontent-%COMP%]{background:none;border:none}#menu-icon[_ngcontent-%COMP%]{z-index:1;margin-right:10px}#separator[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#6f0000}.menu[_ngcontent-%COMP%]{opacity:0;pointer-events:none;display:flex;flex-direction:column;position:absolute;align-items:center;width:80vw;height:100vh;top:72px;right:0;background:linear-gradient(180deg,#FFF 0%,#BDBDBD 78%);box-shadow:-4px 4px 5px #00000026;padding:10px}.menu-a[_ngcontent-%COMP%]{color:#000;text-decoration:none;display:flex;justify-content:center;align-items:center}.menu-a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;width:250px;font-size:25px;font-weight:400}p[_ngcontent-%COMP%]{text-align:center}.menu.open[_ngcontent-%COMP%]{pointer-events:auto;display:flex}.arrow[_ngcontent-%COMP%]{height:25px;fill:#6f0000}.social-links[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;margin-top:20px}@media (max-height: 600px){.menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:70vh;padding:20px;border-radius:0 0 0 20px}.menu.open[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:70vh;padding:20px}.menu-a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.social-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:100%;margin-top:20px}}"],data:{animation:[hE("menuAnimation",[wl("void",io({opacity:0})),wl("visible",io({opacity:1})),Il("void => visible",El("200ms ease-in")),Il("visible => void",El("200ms ease-out"))]),hE("buttonAnimation",[wl("normal",io({filter:"none",transform:"scale(1)"})),wl("rotate",io({filter:"opacity(50%)",transform:"scale(1.2)"})),Il("normal => rotate",El("200ms ease-in")),Il("rotate => normal",El("200ms ease-out"))])]}})}return t})(),ose=(()=>{class t{constructor(n){this.headerComponent=n}navigateToSection(n){this.headerComponent.navigateToSection(n),this.headerComponent.toggleMenu()}static#e=this.\u0275fac=function(r){return new(r||t)(T(QC))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-homepage"]],features:[Ke([QC])],decls:16,vars:0,consts:[["id","homepage"],["data-aos","zoom-in","data-aos-duration","1000",1,"main-image"],["src","assets/logo/konradzelaznylogowtle.png","alt","Konrad \u017belazny"],["data-aos","zoom-out","data-aos-duration","2000",1,"text-container"],[1,"buttons"],["data-aos","fade-right","data-aos-duration","1000",1,"offer-button",3,"click"],["src","assets/backgrounds/training.png","alt",""],[1,"button-text"],["data-aos","fade-left","data-aos-duration","1000",1,"contact-button",3,"click"],["src","assets/icons/email.png","alt",""]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1),ne(2,"img",2),P(),M(3,"p",3),j(4,"PROFESJONALNY TRENING POD OKIEM "),M(5,"b"),j(6,"DO\u015aWIADCZONEGO TRENERA"),P()(),M(7,"div",4)(8,"button",5),xe("click",function(){return i.navigateToSection("offer")}),ne(9,"img",6),M(10,"p",7),j(11,"Oferta"),P()(),M(12,"button",8),xe("click",function(){return i.navigateToSection("contact")}),ne(13,"img",9),M(14,"p",7),j(15,"Kontakt"),P()()()())},styles:["#homepage[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}#homepage[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0;border:2px solid #6F0000}.text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:10px;padding-bottom:10px;margin:0;color:#000;text-align:center;font-size:34px}.main-image[_ngcontent-%COMP%]{display:flex;justify-content:center;filter:drop-shadow(0px 0px 25px #00000060);width:90%}.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;z-index:-1}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.offer-button[_ngcontent-%COMP%], .contact-button[_ngcontent-%COMP%]{background-color:#fff;z-index:0;border:3px solid #6F0000;border-radius:15px;box-shadow:#0000004d 6px 4px 8px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:150px;height:150px;margin:20px}.offer-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .contact-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:50%;filter:blur(1px)}.offer-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px}.contact-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.button-text[_ngcontent-%COMP%]{color:#6f0000;font-size:26px;font-weight:700;text-shadow:0px 0px 12px white}"]})}return t})(),ase=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-about"]],decls:37,vars:0,consts:[["id","about"],[1,"primary"],[1,"main-container"],["data-aos","fade-right","data-aos-duration","1500",1,"about-text"],["src","assets/backgrounds/konrad2.png","alt","Konrad \u017belazny","data-aos","fade-left","data-aos-duration","1500"],[1,"second-container"],["src","assets/backgrounds/konrad3.png","alt","Konrad \u017belazny"],[1,"secondary"],["data-aos","fade-left","data-aos-duration","1000",1,"text-container"],[1,"about-text-right"],[1,"third-container"],[1,"benefits-container"],[1,"benefits-items"],["data-aos","fade-right",1,"benefits-item"],["src","assets/icons/tick.svg","alt","Tick"],[1,"benefits-text"],["data-aos","fade-right","data-aos-duration","1000",1,"benefits-item"],["data-aos","fade-right","data-aos-duration","2000",1,"benefits-item"],["data-aos","fade-right","data-aos-duration","3000",1,"benefits-item"],["src","assets/backgrounds/konrad4.png","alt","Konrad \u017belazny","data-aos","fade-left","data-aos-duration","1500"]],template:function(r,i){1&r&&(ne(0,"hr"),M(1,"section",0)(2,"h1",1),j(3,"O MNIE"),P(),M(4,"div",2)(5,"p",3),j(6,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"),P(),ne(7,"img",4),P(),M(8,"div",5),ne(9,"img",6),M(10,"h1",7),j(11,"TRENING"),P(),M(12,"div",8)(13,"p",9),j(14,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"),P()()(),M(15,"div",10)(16,"h1",1),j(17,"DLACZEGO JA?"),P(),M(18,"div",11)(19,"div",12)(20,"div",13),ne(21,"img",14),M(22,"p",15),j(23," BENEFIT"),P()(),M(24,"div",16),ne(25,"img",14),M(26,"p",15),j(27," BENEFIT"),P()(),M(28,"div",17),ne(29,"img",14),M(30,"p",15),j(31," BENEFIT"),P()(),M(32,"div",18),ne(33,"img",14),M(34,"p",15),j(35," BENEFIT"),P()()(),ne(36,"img",19),P()()())},styles:["#about[_ngcontent-%COMP%]{margin-top:30px}.primary[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:48px;font-weight:700}hr[_ngcontent-%COMP%]{margin-top:30px;border:2px solid #6F0000}.secondary[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:0;font-size:48px;font-weight:700;color:#fff}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}.main-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto}.about-text[_ngcontent-%COMP%]{margin-left:15px;font-size:20px}.about-text-right[_ngcontent-%COMP%]{width:60%;text-align:right;margin-right:15px;font-size:20px;color:#fff}.second-container[_ngcontent-%COMP%]{height:90vw}.second-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:100%}.text-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%}.third-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.benefits-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.benefits-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:auto}.benefits-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15px}.benefits-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;margin-left:15px;font-size:20px}.benefits-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}"]})}return t})(),use=(()=>{class t{constructor(n){this.router=n}redirectToOffers(n){this.router.navigate(["/offers",{option:n}])}static#e=this.\u0275fac=function(r){return new(r||t)(T(Xt))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-offer"]],decls:28,vars:0,consts:[["id","offer"],[1,"header-text"],[1,"offer-container"],["data-aos","fade-right","data-aos-duration","500",1,"offer-item"],["src","assets/backgrounds/training.png","alt","","data-aos","zoom-in","data-aos-duration","1000",1,"item-image"],[1,"item-title"],[1,"item-desc"],[1,"item-button",3,"click"],["data-aos","fade-left","data-aos-duration","500",1,"offer-item"],["src","assets/backgrounds/voucher.jpg","alt","","data-aos","zoom-in","data-aos-duration","1000",1,"item-image"],["src","assets/backgrounds/trainingPlan.png","alt","","data-aos","zoom-in","data-aos-duration","1000",1,"item-image"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"p",1),j(2,"OFERTA"),P(),M(3,"div",2)(4,"div",3),ne(5,"img",4),M(6,"p",5),j(7,"Trening personalny"),P(),M(8,"p",6),j(9,"Indywidualny trening dopasowany do Twoich cel\xf3w i potrzeb"),P(),M(10,"button",7),xe("click",function(){return i.redirectToOffers("training")}),j(11,"Wybierz"),P()(),M(12,"div",8),ne(13,"img",9),M(14,"p",5),j(15,"Voucher"),P(),M(16,"p",6),j(17,"Voucher na trening personalny"),P(),M(18,"button",7),xe("click",function(){return i.redirectToOffers("voucher")}),j(19,"Wybierz"),P()(),M(20,"div",3),ne(21,"img",10),M(22,"p",5),j(23,"Plan treningowy"),P(),M(24,"p",6),j(25,"Spersonalizowany plan treningowy dostosowany do Twoich cel\xf3w"),P(),M(26,"button",7),xe("click",function(){return i.redirectToOffers("trainingPlan")}),j(27,"Wybierz"),P()()()())},styles:["#offer[_ngcontent-%COMP%]{height:2000px;display:flex;flex-direction:column;align-items:center}.header-text[_ngcontent-%COMP%]{text-align:center;margin:15px;font-size:48px;font-weight:700}.offer-container[_ngcontent-%COMP%]{display:flex;gap:20px;max-width:600px;flex-direction:column;align-items:center;justify-content:center}.offer-item[_ngcontent-%COMP%]{background-color:#fff;z-index:0;border-radius:15px;box-shadow:#0003 0 4px 12px;display:flex;flex-direction:column;align-items:center;justify-content:center;width:75%;height:100%}.item-image[_ngcontent-%COMP%]{filter:drop-shadow(rgba(0,0,0,.3) 0px 0px 12px);margin-top:15px;border-radius:15px;width:90%}.item-title[_ngcontent-%COMP%]{width:90%;font-size:28px;margin-bottom:10px;text-align:center;font-weight:700}.item-desc[_ngcontent-%COMP%]{width:90%;font-size:18px;text-align:center}.price[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-weight:700}.item-button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin-top:20px;margin-bottom:20px;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:180px}"]})}return t})(),cse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-contact"]],decls:42,vars:0,consts:[["id","contact"],[1,"header-text"],["src","assets/backgrounds/konrad2.png","alt","Konrad \u017belazny","data-aos","zoom-in-down"],["action","https://formsubmit.co/damian.kaniewski.contact@gmail.com","method","POST",1,"contact-form"],["type","text","name","name","required","","placeholder","Imi\u0119 i nazwisko"],["type","email","name","email","required","","placeholder","Adres e-mail"],["type","number","name","number","placeholder","Numer telefonu (opcjonalnie)"],["id","message","required","","name","message","placeholder","W czym mog\u0119 Ci pom\xf3c?"],["type","submit"],["type","hidden","name","_next","value","http://localhost:4200/"],["type","hidden","name","_template","value","box"],[1,"information"],["data-aos","zoom-in","data-aos-duration","1000",1,"information-item"],[1,"information-header"],["src","assets/icons/journey.png","alt","map icon",1,"information-img"],[1,"mapouter"],[1,"gmap_canvas"],["src","https://maps.google.com/maps?q=xtreme%20skawina&t=&z=14&ie=UTF8&iwloc=&output=embed","frameborder","0","scrolling","no",2,"width","330px","height","240px"],["href","https://blooketjoin.org/blooket-host/"],["src","assets/icons/telephone.png","alt","map icon",1,"information-img"],["src","assets/icons/email.png","alt","map icon",1,"information-img"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"p",1),j(2,"SKONTAKTUJ SI\u0118"),P(),ne(3,"img",2),M(4,"form",3),ne(5,"input",4)(6,"input",5)(7,"input",6)(8,"textarea",7),M(9,"button",8),j(10,"Wy\u015blij"),P(),ne(11,"input",9)(12,"input",10),P(),M(13,"div",11)(14,"div",12)(15,"div",13),ne(16,"img",14),M(17,"p"),j(18," Miejsce trening\xf3w"),P()(),M(19,"p"),j(20,"Xtreme Fitness"),ne(21,"br"),j(22,"29 Listopada 21, 32-050 Skawina"),P(),M(23,"div",15)(24,"div",16),ne(25,"iframe",17),M(26,"a",18),j(27,"blooket host"),P()()()(),M(28,"div",12)(29,"div",13),ne(30,"img",19),M(31,"p"),j(32," Telefon"),P()(),M(33,"p"),j(34,"+48 666 856 171"),P()(),M(35,"div",12)(36,"div",13),ne(37,"img",20),M(38,"p"),j(39," E-mail"),P()(),M(40,"p"),j(41,"zelaznykonrad@gmail.com"),P()()()())},dependencies:[HC,NC,nh],styles:["#contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:20px}.header-text[_ngcontent-%COMP%]{text-align:center;margin:15px;font-size:48px;font-weight:700}.contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;padding:20px;border-radius:15px;box-shadow:#0003 0 4px 12px;width:75%;height:100%}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 0;background:none;border:none;border-bottom:1px solid #666;font-size:20px;font-weight:100;text-align:left;outline:none;transition:border-color .5s}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#c2c2c2}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom-color:#6f0000;font-weight:700}#message[_ngcontent-%COMP%]{height:150px;line-height:150%;outline:0;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:120px}.information[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:50px}.information-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.information-img[_ngcontent-%COMP%]{width:50px;height:50px}.information-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px;font-size:20px;font-weight:700;text-align:center}.information-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.information-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px;padding:20px 10px}.mapouter[_ngcontent-%COMP%]{margin-top:15px;z-index:0}.mapouter[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-radius:15px}",".mapouter[_ngcontent-%COMP%]{position:relative;height:240px;width:330px;background:#fff;} .maprouter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff !important;position:absolute !important;top:0 !important;z-index:0 !important;}",".gmap_canvas[_ngcontent-%COMP%]{overflow:hidden;height:240px;width:370px}.gmap_canvas[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:relative;z-index:2}"]})}return t})();const lse=[{path:"offers",component:ise},{path:"main",component:(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-body"]],decls:4,vars:0,template:function(r,i){1&r&&ne(0,"app-homepage")(1,"app-about")(2,"app-offer")(3,"app-contact")},dependencies:[ose,ase,use,cse]})}return t})()},{path:"offer-thanks",component:(()=>{class t{constructor(n){this.router=n,setTimeout(()=>{this.router.navigate(["/main"])},3e3)}goBack(){this.router.navigate(["/main"])}static#e=this.\u0275fac=function(r){return new(r||t)(T(Xt))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-offer-thanks"]],decls:10,vars:0,consts:[["id","offer-thanks"],[1,"thanks"],[1,"info"],["id","backButton",3,"click"],["src","assets/logo/konradzelaznylogowtle.png","alt","Konrad \u017belazny"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1)(2,"p"),j(3,"Dzi\u0119kuj\u0119 za z\u0142o\u017cenie zam\xf3wienia! Trener skontaktuje si\u0119 z Tob\u0105 w najbli\u017cszym czasie."),P()(),M(4,"div",2)(5,"p"),j(6,"Za chwil\u0119 zostaniesz przekierowany na stron\u0119 g\u0142\xf3wn\u0105. Je\u015bli przekierowanie si\u0119 nie powiod\u0142o, wci\u015bnij przycisk:"),P(),M(7,"button",3),xe("click",function(){return i.goBack()}),j(8,"Powr\xf3t"),P()(),ne(9,"img",4),P())},styles:["#offer-thanks[_ngcontent-%COMP%]{margin-top:70px;display:flex;flex-direction:column;justify-content:center;align-items:center}#offer-thanks[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%}.thanks[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center;width:80%}.info[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:20px;text-align:center;width:80%}#backButton[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:2px solid #6F0000;box-shadow:#0000001a 0 4px 12px;border-radius:15px;box-sizing:border-box;color:#6f0000;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:normal;margin:0;min-height:60px;min-width:0;outline:none;padding:16px 24px;text-align:center;text-decoration:none;width:250px}"]})}return t})()}];let dse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t});static#n=this.\u0275inj=lr({imports:[LN.forRoot(lse),LN]})}return t})();var hse=$s(402);let fse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[["id","footer"],[1,"main"],[1,"social-links"],["href","https://www.facebook.com/KonradZelazny.TrenerPersonalny/","target","_blank"],["src","assets/icons/facebook-logo.svg","alt","facebook"],["href","https://www.instagram.com/zelazny_trening/","target","_blank"],["src","assets/icons/instagram-logo.svg","alt","instagram"],[1,"signature"],[1,"author"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1)(2,"div",2)(3,"a",3),ne(4,"img",4),P(),M(5,"a",5),ne(6,"img",6),P()(),M(7,"p",7),j(8,"\xa9 2024 KONRAD \u017bELAZNY"),P()(),M(9,"p",8),j(10,"Tw\xf3rca strony: Damian Kaniewski"),P()())},styles:["#footer[_ngcontent-%COMP%]{background-color:#6f0000;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:5px}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.social-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:5px}.social-links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.signature[_ngcontent-%COMP%]{font-size:14px;text-align:right;vertical-align:center;padding-bottom:3px}.author[_ngcontent-%COMP%]{font-size:12px;text-align:right;vertical-align:center;margin:0}"]})}return t})(),pse=(()=>{class t{constructor(n,r){this.router=n,this.firebaseService=r,this.title="Konrad \u017belazny",this.router.navigate(["/main"])}ngAfterViewInit(){hse.init()}static#e=this.\u0275fac=function(r){return new(r||t)(T(Xt),T(b2))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&ne(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[ew,QC,fse]})}return t})(),gse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=br({type:t,bootstrap:[pse]});static#n=this.\u0275inj=lr({imports:[HP,dse,TW,ese]})}return t})();I8().bootstrapModule(gse).catch(t=>console.error(t))},402:function(nc){nc.exports=function(){"use strict";var or=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$s="Expected a function",Me=NaN,rc="[object Symbol]",ic=/^\s+|\s+$/g,sc=/^[-+]0x[0-9a-f]+$/i,mn=/^0b[01]+$/i,ih=/^0o[0-7]+$/i,sh=parseInt,vi="object"==typeof self&&self&&self.Object===Object&&self,Go="object"==typeof or&&or&&or.Object===Object&&or||vi||Function("return this")(),ah=Object.prototype.toString,oc=Math.max,Nm=Math.min,ac=function(){return Go.Date.now()};function Zi(D){var x=typeof D;return!!D&&("object"==x||"function"==x)}function Br(D){if("number"==typeof D)return D;if("symbol"==typeof($=D)||(fe=$)&&"object"==typeof fe&&ah.call($)==rc)return Me;var $,fe;if(Zi(D)){var x="function"==typeof D.valueOf?D.valueOf():D;D=Zi(x)?x+"":x}if("string"!=typeof D)return 0===D?D:+D;D=D.replace(ic,"");var U=mn.test(D);return U||ih.test(D)?sh(D.slice(2),U?2:8):sc.test(D)?Me:+D}var Wo=function(D,x,U){var $=!0,fe=!0;if("function"!=typeof D)throw new TypeError($s);return Zi(U)&&($="leading"in U?!!U.leading:$,fe="trailing"in U?!!U.trailing:fe),function Om(D,x,U){var $,fe,ct,it,pe,lt,Be=0,Ht=!1,_t=!1,St=!0;if("function"!=typeof D)throw new TypeError($s);function qt(ge){var dt=$,kt=fe;return $=fe=void 0,Be=ge,it=D.apply(kt,dt)}function Ur(ge){var dt=ge-lt;return void 0===lt||dt>=x||dt<0||_t&&ge-Be>=ct}function ar(){var dt,kt,ge=ac();if(Ur(ge))return $r(ge);pe=setTimeout(ar,(kt=x-((dt=ge)-lt),_t?Nm(kt,ct-(dt-Be)):kt))}function $r(ge){return pe=void 0,St&&$?qt(ge):($=fe=void 0,it)}function Mt(){var kt,ge=ac(),dt=Ur(ge);if($=arguments,fe=this,lt=ge,dt){if(void 0===pe)return Be=kt=lt,pe=setTimeout(ar,x),Ht?qt(kt):it;if(_t)return pe=setTimeout(ar,x),qt(lt)}return void 0===pe&&(pe=setTimeout(ar,x)),it}return x=Br(x)||0,Zi(U)&&(Ht=!!U.leading,ct=(_t="maxWait"in U)?oc(Br(U.maxWait)||0,x):ct,St="trailing"in U?!!U.trailing:St),Mt.cancel=function(){void 0!==pe&&clearTimeout(pe),Be=0,$=lt=fe=pe=void 0},Mt.flush=function(){return void 0===pe?it:$r(ac())},Mt}(D,x,{leading:$,maxWait:x,trailing:fe})},uc=/^\s+|\s+$/g,Fm=/^[-+]0x[0-9a-f]+$/i,zs=/^0b[01]+$/i,Qo=/^0o[0-7]+$/i,Lm=parseInt,Bm="object"==typeof self&&self&&self.Object===Object&&self,lc="object"==typeof or&&or&&or.Object===Object&&or||Bm||Function("return this")(),jr=Object.prototype.toString,jm=Math.max,uh=Math.min,et=function(){return lc.Date.now()};function Yo(D){var x=typeof D;return!!D&&("object"==x||"function"==x)}function ch(D){if("number"==typeof D)return D;if("symbol"==typeof($=D)||(fe=$)&&"object"==typeof fe&&"[object Symbol]"==jr.call($))return NaN;var $,fe;if(Yo(D)){var x="function"==typeof D.valueOf?D.valueOf():D;D=Yo(x)?x+"":x}if("string"!=typeof D)return 0===D?D:+D;D=D.replace(uc,"");var U=zs.test(D);return U||Qo.test(D)?Lm(D.slice(2),U?2:8):Fm.test(D)?NaN:+D}var lh=function(D,x,U){var $,fe,ct,it,pe,lt,Be=0,Ht=!1,_t=!1,St=!0;if("function"!=typeof D)throw new TypeError("Expected a function");function qt(ge){var dt=$,kt=fe;return $=fe=void 0,Be=ge,it=D.apply(kt,dt)}function Ur(ge){var dt=ge-lt;return void 0===lt||dt>=x||dt<0||_t&&ge-Be>=ct}function ar(){var dt,kt,ge=et();if(Ur(ge))return $r(ge);pe=setTimeout(ar,(kt=x-((dt=ge)-lt),_t?uh(kt,ct-(dt-Be)):kt))}function $r(ge){return pe=void 0,St&&$?qt(ge):($=fe=void 0,it)}function Mt(){var kt,ge=et(),dt=Ur(ge);if($=arguments,fe=this,lt=ge,dt){if(void 0===pe)return Be=kt=lt,pe=setTimeout(ar,x),Ht?qt(kt):it;if(_t)return pe=setTimeout(ar,x),qt(lt)}return void 0===pe&&(pe=setTimeout(ar,x)),it}return x=ch(x)||0,Yo(U)&&(Ht=!!U.leading,ct=(_t="maxWait"in U)?jm(ch(U.maxWait)||0,x):ct,St="trailing"in U?!!U.trailing:St),Mt.cancel=function(){void 0!==pe&&clearTimeout(pe),Be=0,$=lt=fe=pe=void 0},Mt.flush=function(){return void 0===pe?it:$r(et())},Mt},dh=function(){};function $n(D){D&&D.forEach(function(x){var U=Array.prototype.slice.call(x.addedNodes),$=Array.prototype.slice.call(x.removedNodes);if(function fe(ct){var it=void 0,pe=void 0;for(it=0;it<ct.length;it+=1)if((pe=ct[it]).dataset&&pe.dataset.aos||pe.children&&fe(pe.children))return!0;return!1}(U.concat($)))return dh()})}function dc(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}var hc_isSupported=function(){return!!dc()},hc_ready=function(D,x){var U=window.document,$=new(dc())($n);dh=x,$.observe(U.documentElement,{childList:!0,subtree:!0,removedNodes:!0})},ut=function(){function D(x,U){for(var $=0;$<U.length;$++){var fe=U[$];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(x,fe.key,fe)}}return function(x,U,$){return U&&D(x.prototype,U),$&&D(x,$),x}}(),Um=Object.assign||function(D){for(var x=1;x<arguments.length;x++){var U=arguments[x];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(D[$]=U[$])}return D},Pe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,fc=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,$m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,pc=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function hh(){return navigator.userAgent||navigator.vendor||window.opera||""}var Zo=new(function(){function D(){!function(D,x){if(!(D instanceof x))throw new TypeError("Cannot call a class as a function")}(this,D)}return ut(D,[{key:"phone",value:function(){var x=hh();return!(!Pe.test(x)&&!fc.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=hh();return!(!$m.test(x)&&!pc.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),D}()),Xo=function(D,x){var U=void 0;return Zo.ie11()?(U=document.createEvent("CustomEvent")).initCustomEvent(D,!0,!0,{detail:x}):U=new CustomEvent(D,{detail:x}),document.dispatchEvent(U)},zm=function(D){return D.forEach(function(x,U){return $=x,fe=window.pageYOffset,it=$.position,pe=$.node,lt=function(){var Be,Ht;$.animated&&(Be=pe,(Ht=ct.animatedClassNames)&&Ht.forEach(function(_t){return Be.classList.remove(_t)}),Xo("aos:out",pe),$.options.id&&Xo("aos:in:"+$.options.id,pe),$.animated=!1)},void((ct=$.options).mirror&&fe>=it.out&&!ct.once?lt():fe>=it.in?$.animated||(Be=pe,(Ht=ct.animatedClassNames)&&Ht.forEach(function(_t){return Be.classList.add(_t)}),Xo("aos:in",pe),$.options.id&&Xo("aos:in:"+$.options.id,pe),$.animated=!0):$.animated&&!ct.once&&lt());var $,fe,Be,Ht,ct,it,pe,lt})},Hm=function(D){for(var x=0,U=0;D&&!isNaN(D.offsetLeft)&&!isNaN(D.offsetTop);)x+=D.offsetLeft-("BODY"!=D.tagName?D.scrollLeft:0),U+=D.offsetTop-("BODY"!=D.tagName?D.scrollTop:0),D=D.offsetParent;return{top:U,left:x}},Ei=function(D,x,U){var $=D.getAttribute("data-aos-"+x);if(void 0!==$){if("true"===$)return!0;if("false"===$)return!1}return $||U},fh=function(){var D=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(D,function(x){return{node:x}})},Dr=[],ph=!1,ze={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},gh=function(){return document.all&&!window.atob},Cr=function(){var D,x;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(ph=!0),ph&&(x=ze,(D=Dr).forEach(function(U,$){var fe=Ei(U.node,"mirror",x.mirror),ct=Ei(U.node,"once",x.once),it=Ei(U.node,"id"),pe=x.useClassNames&&U.node.getAttribute("data-aos"),lt=[x.animatedClassName].concat(pe?pe.split(" "):[]).filter(function(Be){return"string"==typeof Be});x.initClassName&&U.node.classList.add(x.initClassName),U.position={in:function(Be,Ht,_t){var St=window.innerHeight,qt=Ei(Be,"anchor"),Ur=Ei(Be,"anchor-placement"),ar=Number(Ei(Be,"offset",Ur?0:Ht)),$r=Ur||_t,Mt=Be;qt&&document.querySelectorAll(qt)&&(Mt=document.querySelectorAll(qt)[0]);var ge=Hm(Mt).top-St;switch($r){case"top-bottom":break;case"center-bottom":ge+=Mt.offsetHeight/2;break;case"bottom-bottom":ge+=Mt.offsetHeight;break;case"top-center":ge+=St/2;break;case"center-center":ge+=St/2+Mt.offsetHeight/2;break;case"bottom-center":ge+=St/2+Mt.offsetHeight;break;case"top-top":ge+=St;break;case"bottom-top":ge+=St+Mt.offsetHeight;break;case"center-top":ge+=St+Mt.offsetHeight/2}return ge+ar}(U.node,x.offset,x.anchorPlacement),out:fe&&function(Be,Ht){window;var _t=Ei(Be,"anchor"),St=Ei(Be,"offset",Ht),qt=Be;return _t&&document.querySelectorAll(_t)&&(qt=document.querySelectorAll(_t)[0]),Hm(qt).top+qt.offsetHeight-St}(U.node,x.offset)},U.options={once:ct,mirror:fe,animatedClassNames:lt,id:it}}),zm(Dr=D),window.addEventListener("scroll",Wo(function(){zm(Dr)},ze.throttleDelay)))},gc=function(){if(Dr=fh(),yh(ze.disable)||gh())return mh();Cr()},mh=function(){Dr.forEach(function(D,x){D.node.removeAttribute("data-aos"),D.node.removeAttribute("data-aos-easing"),D.node.removeAttribute("data-aos-duration"),D.node.removeAttribute("data-aos-delay"),ze.initClassName&&D.node.classList.remove(ze.initClassName),ze.animatedClassName&&D.node.classList.remove(ze.animatedClassName)})},yh=function(D){return!0===D||"mobile"===D&&Zo.mobile()||"phone"===D&&Zo.phone()||"tablet"===D&&Zo.tablet()||"function"==typeof D&&!0===D()};return{init:function(D){return ze=Um(ze,D),Dr=fh(),ze.disableMutationObserver||hc_isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),ze.disableMutationObserver=!0),ze.disableMutationObserver||hc_ready("[data-aos]",gc),yh(ze.disable)||gh()?mh():(document.querySelector("body").setAttribute("data-aos-easing",ze.easing),document.querySelector("body").setAttribute("data-aos-duration",ze.duration),document.querySelector("body").setAttribute("data-aos-delay",ze.delay),-1===["DOMContentLoaded","load"].indexOf(ze.startEvent)?document.addEventListener(ze.startEvent,function(){Cr(!0)}):window.addEventListener("load",function(){Cr(!0)}),"DOMContentLoaded"===ze.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1&&Cr(!0),window.addEventListener("resize",lh(Cr,ze.debounceDelay,!0)),window.addEventListener("orientationchange",lh(Cr,ze.debounceDelay,!0)),Dr)},refresh:Cr,refreshHard:gc}}()}},nc=>{nc(nc.s=383)}]);